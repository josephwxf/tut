cscope 15 $HOME/tut/gflags/gflags-2.0/src -q 0000001010 0000158117
	@/home/dell/tut/gflags/gflags-2.0/src/config.h

9 
	#GFLAGS_DLL_DECL


	)

12 
	#GOOGLE_NAMESPACE
 ::
googË


	)

15 
	#HAVE_DLFCN_H
 1

	)

18 
	#HAVE_FNMATCH_H
 1

	)

21 
	#HAVE_INTTYPES_H
 1

	)

24 
	#HAVE_MEMORY_H
 1

	)

27 
	#HAVE_NAMESPACES
 1

	)

30 
	#HAVE_PTHREAD
 1

	)

33 
	#HAVE_STDINT_H
 1

	)

36 
	#HAVE_STDLIB_H
 1

	)

39 
	#HAVE_STRINGS_H
 1

	)

42 
	#HAVE_STRING_H
 1

	)

45 
	#HAVE_STRTOLL
 1

	)

48 
	#HAVE_STRTOQ
 1

	)

51 
	#HAVE_SYS_STAT_H
 1

	)

54 
	#HAVE_SYS_TYPES_H
 1

	)

57 
	#HAVE_UNISTD_H
 1

	)

60 
	#HAVE___ATTRIBUTE__
 1

	)

64 
	#LT_OBJDIR
 ".libs/"

	)

67 
	#PACKAGE
 "gæags"

	)

70 
	#PACKAGE_BUGREPORT
 "googË-gæags@googËgroups.com"

	)

73 
	#PACKAGE_NAME
 "gæags"

	)

76 
	#PACKAGE_STRING
 "gæag 2.0"

	)

79 
	#PACKAGE_TARNAME
 "gæags"

	)

82 
	#PACKAGE_VERSION
 "2.0"

	)

89 
	#STDC_HEADERS
 1

	)

92 
	#STL_NAMESPACE
 
¡d


	)

95 
	#VERSION
 "2.0"

	)

98 
	#_END_GOOGLE_NAMESPACE_
 }

	)

101 
	#_START_GOOGLE_NAMESPACE_
 
Çme¥aû
 
googË
 {

	)

104 #ià
defšed
Ğ
__MINGW32__
è|| defšed(
__MINGW64__
)

105 
	~"wšdows/pÜt.h
"

	@/home/dell/tut/gflags/gflags-2.0/src/config_for_unittests.h

56 
	~"cÚfig.h
"

58 #undeà
GFLAGS_DLL_DECL


59 #ifdeà
GFLAGS_DLL_DECL_FOR_UNITTESTS


60 
	#GFLAGS_DLL_DECL
 
GFLAGS_DLL_DECL_FOR_UNITTESTS


	)

62 
	#GFLAGS_DLL_DECL


	@/home/dell/tut/gflags/gflags-2.0/src/gflags.cc

91 
	~<cÚfig.h
>

92 #ià
defšed
(
HAVE_INTTYPES_H
è&& !defšed(
__STDC_FORMAT_MACROS
)

93 
	#__STDC_FORMAT_MACROS
 1

95 

	)

96 
	~<gæags/gæags.h
>

97 
	~<as£¹.h
>

98 
	~<ùy³.h
>

99 
	~<”ºo.h
>

100 #ifdeà
HAVE_FNMATCH_H


101 
	~<âm©ch.h
>

103 
	~<¡d¬g.h
>

104 
	~<¡dio.h
>

105 
	~<¡ršg.h
>

107 
	~<®gÜ™hm
>

108 
	~<m­
>

109 
	~<¡ršg
>

110 
	~<ut™y
>

111 
	~<veùÜ
>

112 
	~"mu‹x.h
"

113 
	~"ut.h
"

115 #iâdeà
PATH_SEPARATOR


116 
	#PATH_SEPARATOR
 '/'

	)

121 
DEFINE_¡ršg
(
æagfe
, "",

123 
DEFINE_¡ršg
(
äom’v
, "",

126 
DEFINE_¡ršg
(
Œyäom’v
, "",

130 
DEFINE_¡ršg
(
undefok
, "",

136 
_START_GOOGLE_NAMESPACE_


138 
usšg
 
	g¡d
::
m­
;

139 
usšg
 
	g¡d
::
·œ
;

140 
usšg
 
	g¡d
::
sÜt
;

141 
usšg
 
	g¡d
::
¡ršg
;

142 
usšg
 
	g¡d
::
veùÜ
;

145 
	$GFLAGS_DLL_DECL
 (*
gæags_ex™func
)(èğ&
ex™
;

154 cÚ¡ 
kSŒ³dFÏgH–p
[] = "\001\002\003\004 (unknown) \004\003\002\001";

156 
Çme¥aû
 {

160 cÚ¡ 
kE¼Ü
[] = "ERROR: ";

164 
boŞ
 
®low_commªd_lše_»·rsšg
 = 
çl£
;

166 
boŞ
 
loggšg_is_´obably_£t_up
 = 
çl£
;

173 
	`boŞ
 (*
	tV®id©eFnPrÙo
)();

176 
	eD›Wh’R•Ütšg
 { 
DIE
, 
DO_NOT_DIE
 };

179 
	`R•ÜtE¼Ü
(
D›Wh’R•Ütšg
 
should_d›
, cÚ¡ * 
fÜm©
, ...) {

180 
”rÜ_mes§ge
[255];

181 
va_li¡
 
­
;

182 
	`va_¡¬t
(
­
, 
fÜm©
);

183 
	`v¢´štf
(
”rÜ_mes§ge
, Ó¼Ü_mes§ge), 
fÜm©
, 
­
);

184 
	`va_’d
(
­
);

185 
	`årštf
(
¡d”r
, "%s", 
”rÜ_mes§ge
);

186 
	`fæush
(
¡d”r
);

187 ià(
should_d›
 =ğ
DIE
è
	`gæags_ex™func
(1);

198 
şass
 
CommªdLšeFÏg
;

199 şas 
	cFÏgV®ue
 {

200 
public
:

201 
	`FÏgV®ue
(* 
v®buf
, cÚ¡ * 
ty³
, 
boŞ
 
Œªsãr_owÃrsh_of_v®ue
);

202 ~
	`FÏgV®ue
();

204 
boŞ
 
	`P¬£From
(cÚ¡ * 
¥ec
);

205 
¡ršg
 
	`ToSŒšg
() const;

207 
´iv©e
:

208 
ä›nd
 
şass
 
CommªdLšeFÏg
;

209 
ä›nd
 
şass
 
GOOGLE_NAMESPACE
::
FÏgSav”Im¶
;

210 
ä›nd
 
şass
 
FÏgRegi¡ry
;

211 
‹m¶©e
 <
ty³Çme
 
T
> 
ä›nd
 T 
	`G‘FromEnv
(const *, const *, T);

212 
ä›nd
 
boŞ
 
	`TryP¬£Locked
(cÚ¡ 
CommªdLšeFÏg
*, 
FÏgV®ue
*,

213 cÚ¡ *, 
¡ršg
*);

215 
	eV®ueTy³
 {

216 
FV_BOOL
 = 0,

217 
FV_INT32
 = 1,

218 
FV_INT64
 = 2,

219 
FV_UINT64
 = 3,

220 
FV_DOUBLE
 = 4,

221 
FV_STRING
 = 5,

222 
FV_MAX_INDEX
 = 5,

224 cÚ¡ * 
	`Ty³Name
() const;

225 
boŞ
 
	`Equ®
(cÚ¡ 
FÏgV®ue
& 
x
) const;

226 
FÏgV®ue
* 
	`New
() const;

227 
	`CİyFrom
(cÚ¡ 
FÏgV®ue
& 
x
);

228 
	`V®ueSize
() const;

234 
boŞ
 
	`V®id©e
(cÚ¡ * 
æagÇme
, 
V®id©eFnPrÙo
 
v®id©e_â_´Ùo
) const;

236 * 
v®ue_bufãr_
;

237 
št8
 
ty³_
;

238 
boŞ
 
owns_v®ue_
;

240 
	`FÏgV®ue
(cÚ¡ 
FÏgV®ue
&);

241 
İ”©Ü
=(cÚ¡ 
FÏgV®ue
&);

242 
	}
};

247 
	#VALUE_AS
(
ty³
è*
»š‹½»t_ÿ¡
<ty³*>(
v®ue_bufãr_
)

	)

248 
	#OTHER_VALUE_AS
(
fv
, 
ty³
è*
»š‹½»t_ÿ¡
<ty³*>(fv.
v®ue_bufãr_
)

	)

249 
	#SET_VALUE_AS
(
ty³
, 
v®ue
è
	`VALUE_AS
Ñy³èğ(v®ue)

	)

251 
	gFÏgV®ue
::
	$FÏgV®ue
(* 
v®buf
, cÚ¡ * 
ty³
,

252 
boŞ
 
Œªsãr_owÃrsh_of_v®ue
)

253 : 
	`v®ue_bufãr_
(
v®buf
),

254 
	$owns_v®ue_
(
Œªsãr_owÃrsh_of_v®ue
) {

255 
ty³_
 = 0;y³_ <ğ
FV_MAX_INDEX
; ++type_) {

256 ià(!
	`¡rcmp
(
ty³
, 
	`Ty³Name
())) {

260 
	`as£¹
(
ty³_
 <ğ
FV_MAX_INDEX
);

261 
	}
}

263 
	gFÏgV®ue
::~
	$FÏgV®ue
() {

264 ià(!
owns_v®ue_
) {

267 
ty³_
) {

268 
FV_BOOL
: 
d–‘e
 
»š‹½»t_ÿ¡
<
boŞ
*>(
v®ue_bufãr_
); ;

269 
FV_INT32
: 
d–‘e
 
»š‹½»t_ÿ¡
<
št32
*>(
v®ue_bufãr_
); ;

270 
FV_INT64
: 
d–‘e
 
»š‹½»t_ÿ¡
<
št64
*>(
v®ue_bufãr_
); ;

271 
FV_UINT64
: 
d–‘e
 
»š‹½»t_ÿ¡
<
ušt64
*>(
v®ue_bufãr_
); ;

272 
FV_DOUBLE
: 
d–‘e
 
»š‹½»t_ÿ¡
<*>(
v®ue_bufãr_
); ;

273 
FV_STRING
: 
d–‘e
 
»š‹½»t_ÿ¡
<
¡ršg
*>(
v®ue_bufãr_
); ;

275 
	}
}

277 
boŞ
 
	gFÏgV®ue
::
	$P¬£From
(cÚ¡ * 
v®ue
) {

278 ià(
ty³_
 =ğ
FV_BOOL
) {

279 cÚ¡ * 
kTrue
[] = { "1", "t", "true", "y", "yes" };

280 cÚ¡ * 
kF®£
[] = { "0", "f", "false", "n", "no" };

281 
	`COMPILE_ASSERT
((
kTrue
è=ğ(
kF®£
), 
Œue_çl£_equ®
);

282 
size_t
 
i
 = 0; i < (
kTrue
)/(*kTrue); ++i) {

283 ià(
	`¡rÿ£cmp
(
v®ue
, 
kTrue
[
i
]) == 0) {

284 
	`SET_VALUE_AS
(
boŞ
, 
Œue
);

285  
Œue
;

286 } ià(
	`¡rÿ£cmp
(
v®ue
, 
kF®£
[
i
]) == 0) {

287 
	`SET_VALUE_AS
(
boŞ
, 
çl£
);

288  
Œue
;

291  
çl£
;

293 } ià(
ty³_
 =ğ
FV_STRING
) {

294 
	`SET_VALUE_AS
(
¡ršg
, 
v®ue
);

295  
Œue
;

299 ià(
v®ue
[0] == '\0')

300  
çl£
;

301 * 
’d
;

304 
ba£
 = 10;

305 ià(
v®ue
[0] == '0' && (value[1] == 'x' || value[1] == 'X'))

306 
ba£
 = 16;

307 
”ºo
 = 0;

309 
ty³_
) {

310 
FV_INT32
: {

311 cÚ¡ 
št64
 
r
 = 
	`¡¹o64
(
v®ue
, &
’d
, 
ba£
);

312 ià(
”ºo
 || 
’d
 !ğ
v®ue
 + 
	`¡¾’
(v®ue)è 
çl£
;

313 ià(
¡©ic_ÿ¡
<
št32
>(
r
) !=„)

314  
çl£
;

315 
	`SET_VALUE_AS
(
št32
, 
¡©ic_ÿ¡
<št32>(
r
));

316  
Œue
;

318 
FV_INT64
: {

319 cÚ¡ 
št64
 
r
 = 
	`¡¹o64
(
v®ue
, &
’d
, 
ba£
);

320 ià(
”ºo
 || 
’d
 !ğ
v®ue
 + 
	`¡¾’
(v®ue)è 
çl£
;

321 
	`SET_VALUE_AS
(
št64
, 
r
);

322  
Œue
;

324 
FV_UINT64
: {

325 *
v®ue
 == ' ') value++;

326 ià(*
v®ue
 =ğ'-'è 
çl£
;

327 cÚ¡ 
ušt64
 
r
 = 
	`¡¹ou64
(
v®ue
, &
’d
, 
ba£
);

328 ià(
”ºo
 || 
’d
 !ğ
v®ue
 + 
	`¡¾’
(v®ue)è 
çl£
;

329 
	`SET_VALUE_AS
(
ušt64
, 
r
);

330  
Œue
;

332 
FV_DOUBLE
: {

333 cÚ¡ 
r
 = 
	`¡¹od
(
v®ue
, &
’d
);

334 ià(
”ºo
 || 
’d
 !ğ
v®ue
 + 
	`¡¾’
(v®ue)è 
çl£
;

335 
	`SET_VALUE_AS
(, 
r
);

336  
Œue
;

339 
	`as£¹
(
çl£
);

340  
çl£
;

343 
	}
}

345 
¡ršg
 
	gFÏgV®ue
::
	$ToSŒšg
() const {

346 
štbuf
[64];

347 
ty³_
) {

348 
FV_BOOL
:

349  
	`VALUE_AS
(
boŞ
) ? "true" : "false";

350 
FV_INT32
:

351 
	`¢´štf
(
štbuf
, (štbuf), "%"
PRId32
, 
	`VALUE_AS
(
št32
));

352  
štbuf
;

353 
FV_INT64
:

354 
	`¢´štf
(
štbuf
, (štbuf), "%"
PRId64
, 
	`VALUE_AS
(
št64
));

355  
štbuf
;

356 
FV_UINT64
:

357 
	`¢´štf
(
štbuf
, (štbuf), "%"
PRIu64
, 
	`VALUE_AS
(
ušt64
));

358  
štbuf
;

359 
FV_DOUBLE
:

360 
	`¢´štf
(
štbuf
, (štbuf), "%.17g", 
	`VALUE_AS
());

361  
štbuf
;

362 
FV_STRING
:

363  
	`VALUE_AS
(
¡ršg
);

365 
	`as£¹
(
çl£
);

368 
	}
}

370 
boŞ
 
	gFÏgV®ue
::
	$V®id©e
(cÚ¡ * 
æagÇme
,

371 
V®id©eFnPrÙo
 
v®id©e_â_´Ùo
) const {

372 
ty³_
) {

373 
FV_BOOL
:

374  
»š‹½»t_ÿ¡
<
	`boŞ
 (*)(cÚ¡ *, 
boŞ
)>(

375 
v®id©e_â_´Ùo
)(
æagÇme
, 
	`VALUE_AS
(
boŞ
));

376 
FV_INT32
:

377  
»š‹½»t_ÿ¡
<
	`boŞ
 (*)(cÚ¡ *, 
št32
)>(

378 
v®id©e_â_´Ùo
)(
æagÇme
, 
	`VALUE_AS
(
št32
));

379 
FV_INT64
:

380  
»š‹½»t_ÿ¡
<
	`boŞ
 (*)(cÚ¡ *, 
št64
)>(

381 
v®id©e_â_´Ùo
)(
æagÇme
, 
	`VALUE_AS
(
št64
));

382 
FV_UINT64
:

383  
»š‹½»t_ÿ¡
<
	`boŞ
 (*)(cÚ¡ *, 
ušt64
)>(

384 
v®id©e_â_´Ùo
)(
æagÇme
, 
	`VALUE_AS
(
ušt64
));

385 
FV_DOUBLE
:

386  
»š‹½»t_ÿ¡
<
	`boŞ
 (*)(const *, )>(

387 
v®id©e_â_´Ùo
)(
æagÇme
, 
	`VALUE_AS
());

388 
FV_STRING
:

389  
»š‹½»t_ÿ¡
<
	`boŞ
 (*)(cÚ¡ *, cÚ¡ 
¡ršg
&)>(

390 
v®id©e_â_´Ùo
)(
æagÇme
, 
	`VALUE_AS
(
¡ršg
));

392 
	`as£¹
(
çl£
);

393  
çl£
;

395 
	}
}

397 cÚ¡ * 
	gFÏgV®ue
::
	$Ty³Name
() const {

398 cÚ¡ 
ty³s
[] =

405 ià(
ty³_
 > 
FV_MAX_INDEX
) {

406 
	`as£¹
(
çl£
);

411  &
ty³s
[
ty³_
 * 7];

412 
	}
}

414 
boŞ
 
	gFÏgV®ue
::
	$Equ®
(cÚ¡ 
FÏgV®ue
& 
x
) const {

415 ià(
ty³_
 !ğ
x
.type_)

416  
çl£
;

417 
ty³_
) {

418 
FV_BOOL
:  
	`VALUE_AS
(
boŞ
è=ğ
	`OTHER_VALUE_AS
(
x
, bool);

419 
FV_INT32
:  
	`VALUE_AS
(
št32
è=ğ
	`OTHER_VALUE_AS
(
x
, int32);

420 
FV_INT64
:  
	`VALUE_AS
(
št64
è=ğ
	`OTHER_VALUE_AS
(
x
, int64);

421 
FV_UINT64
:  
	`VALUE_AS
(
ušt64
è=ğ
	`OTHER_VALUE_AS
(
x
, uint64);

422 
FV_DOUBLE
:  
	`VALUE_AS
(è=ğ
	`OTHER_VALUE_AS
(
x
, );

423 
FV_STRING
:  
	`VALUE_AS
(
¡ršg
è=ğ
	`OTHER_VALUE_AS
(
x
, string);

424 : 
	`as£¹
(
çl£
);  false;

426 
	}
}

428 
FÏgV®ue
* 
	gFÏgV®ue
::
	$New
() const {

429 cÚ¡ *
ty³
 = 
	`Ty³Name
();

430 
ty³_
) {

431 
FV_BOOL
:  
Ãw
 
	`FÏgV®ue
Òew 
	`boŞ
(
çl£
), 
ty³
, 
Œue
);

432 
FV_INT32
:  
Ãw
 
	`FÏgV®ue
Òew 
	`št32
(0), 
ty³
, 
Œue
);

433 
FV_INT64
:  
Ãw
 
	`FÏgV®ue
Òew 
	`št64
(0), 
ty³
, 
Œue
);

434 
FV_UINT64
:  
Ãw
 
	`FÏgV®ue
Òew 
	`ušt64
(0), 
ty³
, 
Œue
);

435 
FV_DOUBLE
:  
Ãw
 
	`FÏgV®ue
Òew (0.0), 
ty³
, 
Œue
);

436 
FV_STRING
:  
Ãw
 
	`FÏgV®ue
Òew 
¡ršg
, 
ty³
, 
Œue
);

437 : 
	`as£¹
(
çl£
);  
NULL
;

439 
	}
}

441 
	gFÏgV®ue
::
	$CİyFrom
(cÚ¡ 
FÏgV®ue
& 
x
) {

442 
	`as£¹
(
ty³_
 =ğ
x
.type_);

443 
ty³_
) {

444 
FV_BOOL
: 
	`SET_VALUE_AS
(
boŞ
, 
	`OTHER_VALUE_AS
(
x
, bool)); ;

445 
FV_INT32
: 
	`SET_VALUE_AS
(
št32
, 
	`OTHER_VALUE_AS
(
x
, int32)); ;

446 
FV_INT64
: 
	`SET_VALUE_AS
(
št64
, 
	`OTHER_VALUE_AS
(
x
, int64)); ;

447 
FV_UINT64
: 
	`SET_VALUE_AS
(
ušt64
, 
	`OTHER_VALUE_AS
(
x
, uint64)); ;

448 
FV_DOUBLE
: 
	`SET_VALUE_AS
(, 
	`OTHER_VALUE_AS
(
x
, )); ;

449 
FV_STRING
: 
	`SET_VALUE_AS
(
¡ršg
, 
	`OTHER_VALUE_AS
(
x
, string)); ;

450 : 
	`as£¹
(
çl£
);

452 
	}
}

454 
	gFÏgV®ue
::
	$V®ueSize
() const {

455 ià(
ty³_
 > 
FV_MAX_INDEX
) {

456 
	`as£¹
(
çl£
);

459 cÚ¡ 
ušt8
 
v®uesize
[] = {

460 (
boŞ
),

461 (
št32
),

462 (
št64
),

463 (
ušt64
),

465 (
¡ršg
),

467  
v®uesize
[
ty³_
];

468 
	}
}

481 şas 
	cCommªdLšeFÏg
 {

482 
	gpublic
:

484 
CommªdLšeFÏg
(cÚ¡ * 
Çme
, cÚ¡ * 
h–p
, cÚ¡ * 
f’ame
,

485 
FÏgV®ue
* 
cu¼’t_v®
, FÏgV®ue* 
deçuÉ_v®
);

486 ~
CommªdLšeFÏg
();

488 cÚ¡ * 
Çme
(ècÚ¡ {  
	gÇme_
; }

489 cÚ¡ * 
h–p
(ècÚ¡ {  
	gh–p_
; }

490 cÚ¡ * 
f’ame
(ècÚ¡ {  
	gfe_
; }

491 cÚ¡ * 
CËªFeName
() const;

492 
¡ršg
 
cu¼’t_v®ue
(ècÚ¡ {  
	gcu¼’t_
->
ToSŒšg
(); }

493 
¡ršg
 
deçuÉ_v®ue
(ècÚ¡ {  
	gdefv®ue_
->
ToSŒšg
(); }

494 cÚ¡ * 
ty³_Çme
(ècÚ¡ {  
	gdefv®ue_
->
Ty³Name
(); }

495 
V®id©eFnPrÙo
 
v®id©e_funùiÚ
(ècÚ¡ {  
	gv®id©e_â_´Ùo_
; }

496 cÚ¡ * 
æag_±r
(ècÚ¡ {  
	gcu¼’t_
->
	gv®ue_bufãr_
; }

498 
FlCommªdLšeFÏgInfo
(
CommªdLšeFÏgInfo
* 
»suÉ
);

501 
boŞ
 
V®id©e
(cÚ¡ 
FÏgV®ue
& 
v®ue
) const;

502 
boŞ
 
V®id©eCu¼’t
(ècÚ¡ {  
V®id©e
(*
cu¼’t_
); }

504 
	g´iv©e
:

506 
ä›nd
 
şass
 
FÏgRegi¡ry
;

507 
ä›nd
 
şass
 
	gGOOGLE_NAMESPACE
::
FÏgSav”Im¶
;

509 
ä›nd
 
boŞ
 
AddFÏgV®id©Ü
(cÚ¡ *, 
V®id©eFnPrÙo
);

512 
CİyFrom
(cÚ¡ 
CommªdLšeFÏg
& 
¤c
);

514 
Upd©eModif›dB™
();

516 cÚ¡ * cÚ¡ 
	gÇme_
;

517 cÚ¡ * cÚ¡ 
	gh–p_
;

518 cÚ¡ * cÚ¡ 
	gfe_
;

519 
boŞ
 
	gmodif›d_
;

520 
FÏgV®ue
* 
	gdefv®ue_
;

521 
FÏgV®ue
* 
	gcu¼’t_
;

526 
V®id©eFnPrÙo
 
	gv®id©e_â_´Ùo_
;

528 
CommªdLšeFÏg
(const CommandLineFlag&);

529 
	gİ”©Ü
=(cÚ¡ 
CommªdLšeFÏg
&);

532 
	gCommªdLšeFÏg
::
	$CommªdLšeFÏg
(cÚ¡ * 
Çme
, cÚ¡ * 
h–p
,

533 cÚ¡ * 
f’ame
,

534 
FÏgV®ue
* 
cu¼’t_v®
, FÏgV®ue* 
deçuÉ_v®
)

535 : 
	`Çme_
(
Çme
), 
	`h–p_
(
h–p
), 
	`fe_
(
f’ame
), 
	`modif›d_
(
çl£
),

536 
	`defv®ue_
(
deçuÉ_v®
), 
	`cu¼’t_
(
cu¼’t_v®
), 
	$v®id©e_â_´Ùo_
(
NULL
) {

537 
	}
}

539 
	gCommªdLšeFÏg
::~
	$CommªdLšeFÏg
() {

540 
d–‘e
 
cu¼’t_
;

541 
d–‘e
 
defv®ue_
;

542 
	}
}

544 cÚ¡ * 
	gCommªdLšeFÏg
::
	$CËªFeName
() const {

548 cÚ¡ 
kRoÙDœ
[] = "";

550 ià((
kRoÙDœ
)-1 == 0)

551  
	`f’ame
();

553 cÚ¡ * 
ş—n_Çme
 = 
	`f’ame
(è+ 
	`¡¾’
(filename()) - 1;

554  
ş—n_Çme
 > 
	`f’ame
() ) {

555 ià(*
ş—n_Çme
 =ğ
PATH_SEPARATOR
) {

556 ià(
	`¡ºcmp
(
ş—n_Çme
, 
kRoÙDœ
, (kRootDir)-1) == 0) {

557 
ş—n_Çme
 +ğ(
kRoÙDœ
)-1;

561 --
ş—n_Çme
;

563  *
ş—n_Çme
 =ğ
PATH_SEPARATOR
 ) ++clean_name;

564  
ş—n_Çme
;

565 
	}
}

567 
	gCommªdLšeFÏg
::
	$FlCommªdLšeFÏgInfo
(

568 
CommªdLšeFÏgInfo
* 
»suÉ
) {

569 
»suÉ
->
Çme
 = 
	`Çme
();

570 
»suÉ
->
ty³
 = 
	`ty³_Çme
();

571 
»suÉ
->
desütiÚ
 = 
	`h–p
();

572 
»suÉ
->
cu¼’t_v®ue
 = 
	`cu¼’t_v®ue
();

573 
»suÉ
->
deçuÉ_v®ue
 = 
	`deçuÉ_v®ue
();

574 
»suÉ
->
f’ame
 = 
	`CËªFeName
();

575 
	`Upd©eModif›dB™
();

576 
»suÉ
->
is_deçuÉ
 = !
modif›d_
;

577 
»suÉ
->
has_v®id©Ü_â
 = 
	`v®id©e_funùiÚ
(è!ğ
NULL
;

578 
»suÉ
->
æag_±r
 = 
	`æag_±r
();

579 
	}
}

581 
	gCommªdLšeFÏg
::
	$Upd©eModif›dB™
() {

584 ià(!
modif›d_
 && !
cu¼’t_
->
	`Equ®
(*
defv®ue_
)) {

585 
modif›d_
 = 
Œue
;

587 
	}
}

589 
	gCommªdLšeFÏg
::
	$CİyFrom
(cÚ¡ 
CommªdLšeFÏg
& 
¤c
) {

591 ià(
modif›d_
 !ğ
¤c
.modified_) modified_ = src.modified_;

592 ià(!
cu¼’t_
->
	`Equ®
(*
¤c
.cu¼’t_)ècu¼’t_->
	`CİyFrom
(*src.current_);

593 ià(!
defv®ue_
->
	`Equ®
(*
¤c
.defv®ue_)èdefv®ue_->
	`CİyFrom
(*src.defvalue_);

594 ià(
v®id©e_â_´Ùo_
 !ğ
¤c
.validate_fn_proto_)

595 
v®id©e_â_´Ùo_
 = 
¤c
.validate_fn_proto_;

596 
	}
}

598 
boŞ
 
	gCommªdLšeFÏg
::
	$V®id©e
(cÚ¡ 
FÏgV®ue
& 
v®ue
) const {

600 ià(
	`v®id©e_funùiÚ
(è=ğ
NULL
)

601  
Œue
;

603  
v®ue
.
	`V®id©e
(
	`Çme
(), 
	`v®id©e_funùiÚ
());

604 
	}
}

617 
	sSŒšgCmp
 {

618 
boŞ
 
İ”©Ü
(è(cÚ¡ * 
	gs1
, cÚ¡ * 
	gs2
) const {

619  (
¡rcmp
(
s1
, 
s2
) < 0);

624 şas 
	cFÏgRegi¡ry
 {

625 
	gpublic
:

626 
FÏgRegi¡ry
() {

628 ~
FÏgRegi¡ry
() {

631 
FÏgM­
::
™”©Ü
 
p
 = 
æags_
.
begš
(), 
	ge
 = fÏgs_.
’d
(); 
	gp
 !ğ
e
; ++p) {

632 
CommªdLšeFÏg
* 
	gæag
 = 
p
->
£cÚd
;

633 
d–‘e
 
	gæag
;

637 
D–‘eGlob®Regi¡ry
() {

638 
d–‘e
 
	gglob®_»gi¡ry_
;

639 
	gglob®_»gi¡ry_
 = 
NULL
;

643 
Regi¡”FÏg
(
CommªdLšeFÏg
* 
æag
);

645 
Lock
(è{ 
	glock_
.Lock(); }

646 
UÆock
(è{ 
	glock_
.Unlock(); }

649 
CommªdLšeFÏg
* 
FšdFÏgLocked
(cÚ¡ * 
Çme
);

653 
CommªdLšeFÏg
* 
FšdFÏgVŸPŒLocked
(cÚ¡ * 
æag_±r
);

660 
CommªdLšeFÏg
* 
S¶™Argum’tLocked
(cÚ¡ * 
¬gum’t
,

661 
¡ršg
* 
key
, cÚ¡ ** 
v
,

662 
¡ršg
* 
”rÜ_mes§ge
);

668 
boŞ
 
S‘FÏgLocked
(
CommªdLšeFÏg
* 
æag
, cÚ¡ * 
v®ue
,

669 
FÏgS‘tšgMode
 
£t_mode
, 
¡ršg
* 
msg
);

671 
FÏgRegi¡ry
* 
Glob®Regi¡ry
();

673 
	g´iv©e
:

674 
ä›nd
 
şass
 
GOOGLE_NAMESPACE
::
FÏgSav”Im¶
;

675 
ä›nd
 
şass
 
	gCommªdLšeFÏgP¬£r
;

676 
ä›nd
 
	gGOOGLE_NAMESPACE
::
G‘AÎFÏgs
(
veùÜ
<
CommªdLšeFÏgInfo
>*);

679 
	gm­
<cÚ¡ *, 
	tCommªdLšeFÏg
*, 
	tSŒšgCmp
> 
	tFÏgM­
;

680 
	gFÏgM­
::
	t™”©Ü
 
	tFÏgI‹¿tÜ
;

681 
	gFÏgM­
::
	tcÚ¡_™”©Ü
 
	tFÏgCÚ¡I‹¿tÜ
;

682 
FÏgM­
 
	gæags_
;

685 
	gm­
<cÚ¡ *, 
	tCommªdLšeFÏg
*> 
	tFÏgPŒM­
;

686 
FÏgPŒM­
 
	gæags_by_±r_
;

688 
FÏgRegi¡ry
* 
	gglob®_»gi¡ry_
;

690 
Mu‹x
 
	glock_
;

691 
Mu‹x
 
	gglob®_»gi¡ry_lock_
;

693 
In™Glob®Regi¡ry
();

696 
FÏgRegi¡ry
(const FlagRegistry&);

697 
	gFÏgRegi¡ry
& 
	gİ”©Ü
=(cÚ¡ 
FÏgRegi¡ry
&);

700 şas 
	cFÏgRegi¡ryLock
 {

701 
	gpublic
:

702 
ex¶ic™
 
FÏgRegi¡ryLock
(
FÏgRegi¡ry
* 
ä
è: 
ä_
(äè{ fr_->
Lock
(); }

703 ~
FÏgRegi¡ryLock
(è{ 
	gä_
->
UÆock
(); }

704 
	g´iv©e
:

705 
FÏgRegi¡ry
 *cÚ¡ 
ä_
;

709 
	gFÏgRegi¡ry
::
	$Regi¡”FÏg
(
CommªdLšeFÏg
* 
æag
) {

710 
	`Lock
();

711 
·œ
<
FÏgI‹¿tÜ
, 
boŞ
> 
šs
 =

712 
æags_
.
	`š£¹
(
·œ
<cÚ¡ *, 
CommªdLšeFÏg
*>(
æag
->
	`Çme
(), flag));

713 ià(
šs
.
£cÚd
 =ğ
çl£
) {

714 ià(
	`¡rcmp
(
šs
.
fœ¡
->
£cÚd
->
	`f’ame
(), 
æag
->filename()) != 0) {

715 
	`R•ÜtE¼Ü
(
DIE
, "ERROR: flag '%s' was defined morehan once "

717 
æag
->
	`Çme
(),

718 
šs
.
fœ¡
->
£cÚd
->
	`f’ame
(),

719 
æag
->
	`f’ame
());

721 
	`R•ÜtE¼Ü
(
DIE
, "ERROR: something wrong with flag '%s' in file '%s'. "

724 
æag
->
	`Çme
(),

725 
æag
->
	`f’ame
(), flag->filename());

729 
æags_by_±r_
[
æag
->
cu¼’t_
->
v®ue_bufãr_
] = flag;

730 
	`UÆock
();

731 
	}
}

733 
CommªdLšeFÏg
* 
	gFÏgRegi¡ry
::
	$FšdFÏgLocked
(cÚ¡ * 
Çme
) {

734 
FÏgCÚ¡I‹¿tÜ
 
i
 = 
æags_
.
	`fšd
(
Çme
);

735 ià(
i
 =ğ
æags_
.
	`’d
()) {

736  
NULL
;

738  
i
->
£cÚd
;

740 
	}
}

742 
CommªdLšeFÏg
* 
	gFÏgRegi¡ry
::
	$FšdFÏgVŸPŒLocked
(cÚ¡ * 
æag_±r
) {

743 
FÏgPŒM­
::
cÚ¡_™”©Ü
 
i
 = 
æags_by_±r_
.
	`fšd
(
æag_±r
);

744 ià(
i
 =ğ
æags_by_±r_
.
	`’d
()) {

745  
NULL
;

747  
i
->
£cÚd
;

749 
	}
}

751 
CommªdLšeFÏg
* 
	gFÏgRegi¡ry
::
	$S¶™Argum’tLocked
(cÚ¡ * 
¬g
,

752 
¡ršg
* 
key
,

753 cÚ¡ ** 
v
,

754 
¡ršg
* 
”rÜ_mes§ge
) {

756 cÚ¡ * 
æag_Çme
;

757 cÚ¡ * 
v®ue
 = 
	`¡rchr
(
¬g
, '=');

758 ià(
v®ue
 =ğ
NULL
) {

759 
key
->
	`assign
(
¬g
);

760 *
v
 = 
NULL
;

763 
key
->
	`assign
(
¬g
, 
v®ue
-arg);

764 *
v
 = ++
v®ue
;

766 
æag_Çme
 = 
key
->
	`c_¡r
();

768 
CommªdLšeFÏg
* 
æag
 = 
	`FšdFÏgLocked
(
æag_Çme
);

770 ià(
æag
 =ğ
NULL
) {

775 ià(!(
æag_Çme
[0] == 'n' && flag_name[1] == 'o')) {

777 *
”rÜ_mes§ge
 = 
	`SŒšgPrštf
("%sunknown command†ine flag '%s'\n",

778 
kE¼Ü
, 
key
->
	`c_¡r
());

779  
NULL
;

781 
æag
 = 
	`FšdFÏgLocked
(
æag_Çme
+2);

782 ià(
æag
 =ğ
NULL
) {

784 *
”rÜ_mes§ge
 = 
	`SŒšgPrštf
("%sunknown command†ine flag '%s'\n",

785 
kE¼Ü
, 
key
->
	`c_¡r
());

786  
NULL
;

788 ià(
	`¡rcmp
(
æag
->
	`ty³_Çme
(), "bool") != 0) {

790 *
”rÜ_mes§ge
 = 
	`SŒšgPrštf
(

792 
kE¼Ü
, 
key
->
	`c_¡r
(), 
æag
->
	`ty³_Çme
());

793  
NULL
;

797 
key
->
	`assign
(
æag_Çme
+2);

798 *
v
 = "0";

802 ià(*
v
 =ğ
NULL
 && 
	`¡rcmp
(
æag
->
	`ty³_Çme
(), "bool") == 0) {

803 *
v
 = "1";

806  
æag
;

807 
	}
}

809 
boŞ
 
	$TryP¬£Locked
(cÚ¡ 
CommªdLšeFÏg
* 
æag
, 
FÏgV®ue
* 
æag_v®ue
,

810 cÚ¡ * 
v®ue
, 
¡ršg
* 
msg
) {

812 
FÏgV®ue
* 
‹Á©ive_v®ue
 = 
æag_v®ue
->
	`New
();

813 ià(!
‹Á©ive_v®ue
->
	`P¬£From
(
v®ue
)) {

814 ià(
msg
) {

815 
	`SŒšgAµ’dF
(
msg
,

817 
kE¼Ü
, 
v®ue
,

818 
æag
->
	`ty³_Çme
(), fÏg->
	`Çme
());

820 
d–‘e
 
‹Á©ive_v®ue
;

821  
çl£
;

822 } ià(!
æag
->
	`V®id©e
(*
‹Á©ive_v®ue
)) {

823 ià(
msg
) {

824 
	`SŒšgAµ’dF
(
msg
,

826 
kE¼Ü
, 
‹Á©ive_v®ue
->
	`ToSŒšg
().
	`c_¡r
(),

827 
æag
->
	`Çme
());

829 
d–‘e
 
‹Á©ive_v®ue
;

830  
çl£
;

832 
æag_v®ue
->
	`CİyFrom
(*
‹Á©ive_v®ue
);

833 ià(
msg
) {

834 
	`SŒšgAµ’dF
(
msg
, "%s seto %s\n",

835 
æag
->
	`Çme
(), 
æag_v®ue
->
	`ToSŒšg
().
	`c_¡r
());

837 
d–‘e
 
‹Á©ive_v®ue
;

838  
Œue
;

840 
	}
}

842 
boŞ
 
	gFÏgRegi¡ry
::
	$S‘FÏgLocked
(
CommªdLšeFÏg
* 
æag
,

843 cÚ¡ * 
v®ue
,

844 
FÏgS‘tšgMode
 
£t_mode
,

845 
¡ršg
* 
msg
) {

846 
æag
->
	`Upd©eModif›dB™
();

847 
£t_mode
) {

848 
SET_FLAGS_VALUE
: {

850 ià(!
	`TryP¬£Locked
(
æag
, fÏg->
cu¼’t_
, 
v®ue
, 
msg
))

851  
çl£
;

852 
æag
->
modif›d_
 = 
Œue
;

855 
SET_FLAG_IF_DEFAULT
: {

857 ià(!
æag
->
modif›d_
) {

858 ià(!
	`TryP¬£Locked
(
æag
, fÏg->
cu¼’t_
, 
v®ue
, 
msg
))

859  
çl£
;

860 
æag
->
modif›d_
 = 
Œue
;

862 *
msg
 = 
	`SŒšgPrštf
("%s seto %s",

863 
æag
->
	`Çme
(), fÏg->
	`cu¼’t_v®ue
().
	`c_¡r
());

867 
SET_FLAGS_DEFAULT
: {

869 ià(!
	`TryP¬£Locked
(
æag
, fÏg->
defv®ue_
, 
v®ue
, 
msg
))

870  
çl£
;

871 ià(!
æag
->
modif›d_
) {

873 
	`TryP¬£Locked
(
æag
, fÏg->
cu¼’t_
, 
v®ue
, 
NULL
);

879 
	`as£¹
(
çl£
);

880  
çl£
;

884  
Œue
;

885 
	}
}

888 
FÏgRegi¡ry
* 
	gFÏgRegi¡ry
::
glob®_»gi¡ry_
 = 
NULL
;

889 
Mu‹x
 
	gFÏgRegi¡ry
::
glob®_»gi¡ry_lock_
(Mu‹x::
LINKER_INITIALIZED
);

891 
FÏgRegi¡ry
* 
	gFÏgRegi¡ry
::
	$Glob®Regi¡ry
() {

892 
Mu‹xLock
 
	`acquœe_lock
(&
glob®_»gi¡ry_lock_
);

893 ià(!
glob®_»gi¡ry_
) {

894 
glob®_»gi¡ry_
 = 
Ãw
 
FÏgRegi¡ry
;

896  
glob®_»gi¡ry_
;

897 
	}
}

914 şas 
	cCommªdLšeFÏgP¬£r
 {

915 
	gpublic
:

917 
ex¶ic™
 
CommªdLšeFÏgP¬£r
(
FÏgRegi¡ry
* 
»g
è: 
»gi¡ry_
(reg) {}

918 ~
CommªdLšeFÏgP¬£r
() {}

925 
ušt32
 
P¬£NewCommªdLšeFÏgs
(* 
¬gc
, *** 
¬gv
, 
boŞ
 
»move_æags
);

932 
V®id©eAÎFÏgs
();

935 
boŞ
 
R•ÜtE¼Üs
();

945 
¡ršg
 
ProûssSšgËO±iÚLocked
(
CommªdLšeFÏg
* 
æag
,

946 cÚ¡ * 
v®ue
,

947 
FÏgS‘tšgMode
 
£t_mode
);

955 
¡ršg
 
ProûssO±iÚsFromSŒšgLocked
(cÚ¡ sŒšg& 
cÚ‹Ád©a
,

956 
FÏgS‘tšgMode
 
£t_mode
);

962 
¡ršg
 
ProûssFÏgfeLocked
(cÚ¡ sŒšg& 
æagv®
, 
FÏgS‘tšgMode
 
£t_mode
);

964 
¡ršg
 
ProûssFrom’vLocked
(cÚ¡ sŒšg& 
æagv®
, 
FÏgS‘tšgMode
 
£t_mode
,

965 
boŞ
 
”rÜs_¬e_çl
);

967 
	g´iv©e
:

968 
FÏgRegi¡ry
* cÚ¡ 
»gi¡ry_
;

969 
	gm­
<
	g¡ršg
, sŒšg> 
	g”rÜ_æags_
;

971 
	gm­
<
	g¡ršg
, sŒšg> 
	gundefšed_Çmes_
;

976 
P¬£FÏgLi¡
(cÚ¡ * 
v®ue
, 
veùÜ
<
¡ršg
>* 
æags
) {

977 cÚ¡ *
	gp
 = 
v®ue
;… && *p; 
	gv®ue
 = 
p
) {

978 
p
 = 
¡rchr
(
v®ue
, ',');

979 
size_t
 
	gËn
;

980 ià(
	gp
) {

981 
	gËn
 = 
p
 - 
v®ue
;

982 
	gp
++;

984 
	gËn
 = 
¡¾’
(
v®ue
);

987 ià(
	gËn
 == 0)

988 
R•ÜtE¼Ü
(
DIE
, "ERROR:ƒmpty flaglistƒntry\n");

989 ià(
	gv®ue
[0] == '-')

990 
R•ÜtE¼Ü
(
DIE
, "ERROR: fÏg \"%*s\" begš w™h '-'\n", 
Ën
, 
v®ue
);

992 
	gæags
->
push_back
(
¡ršg
(
v®ue
, 
Ën
));

1000 
	#PFATAL
(
s
èdØ{ 
	`³¼Ü
(s); 
	`gæags_ex™func
(1); } 0)

	)

1002 
¡ršg
 
	$R—dFeIÁoSŒšg
(cÚ¡ * 
f’ame
) {

1003 cÚ¡ 
kBufSize
 = 8092;

1004 
bufãr
[
kBufSize
];

1005 
¡ršg
 
s
;

1006 
FILE
* 
å
 = 
	`fİ’
(
f’ame
, "r");

1007 ià(!
å
è
	`PFATAL
(
f’ame
);

1008 
size_t
 
n
;

1009  (
n
=
	`ä—d
(
bufãr
, 1, 
kBufSize
, 
å
)) > 0 ) {

1010 ià(
	`ã¼Ü
(
å
)è
	`PFATAL
(
f’ame
);

1011 
s
.
	`­³nd
(
bufãr
, 
n
);

1013 
	`fşo£
(
å
);

1014  
s
;

1015 
	}
}

1017 
ušt32
 
	gCommªdLšeFÏgP¬£r
::
	$P¬£NewCommªdLšeFÏgs
(* 
¬gc
, *** 
¬gv
,

1018 
boŞ
 
»move_æags
) {

1019 cÚ¡ *
´og¿m_Çme
 = 
	`¡¼chr
((*
¬gv
)[0], 
PATH_SEPARATOR
);

1020 
´og¿m_Çme
 = (´og¿m_Çm=ğ
NULL
 ? (*
¬gv
)[0] :…rogram_name+1);

1022 
fœ¡_nÚİt
 = *
¬gc
;

1024 
»gi¡ry_
->
	`Lock
();

1025 
i
 = 1; i < 
fœ¡_nÚİt
; i++) {

1026 * 
¬g
 = (*
¬gv
)[
i
];

1029 ià(
¬g
[0] != '-' ||

1030 (
¬g
[0] == '-' &&‡rg[1] == '\0')) {

1031 
	`memmove
((*
¬gv
è+ 
i
, (*¬gvè+ i+1, (*
¬gc
 - (i+1)) * ((*argv)[i]));

1032 (*
¬gv
)[*
¬gc
-1] = 
¬g
;

1033 
fœ¡_nÚİt
--;

1034 
i
--;

1038 ià(
¬g
[0] == '-')‡rg++;

1039 ià(
¬g
[0] == '-')‡rg++;

1042 ià(*
¬g
 == '\0') {

1043 
fœ¡_nÚİt
 = 
i
+1;

1048 
¡ršg
 
key
;

1049 cÚ¡ * 
v®ue
;

1050 
¡ršg
 
”rÜ_mes§ge
;

1051 
CommªdLšeFÏg
* 
æag
 = 
»gi¡ry_
->
	`S¶™Argum’tLocked
(
¬g
, &
key
, &
v®ue
,

1052 &
”rÜ_mes§ge
);

1053 ià(
æag
 =ğ
NULL
) {

1054 
undefšed_Çmes_
[
key
] = "";

1055 
”rÜ_æags_
[
key
] = 
”rÜ_mes§ge
;

1059 ià(
v®ue
 =ğ
NULL
) {

1061 
	`as£¹
(
	`¡rcmp
(
æag
->
	`ty³_Çme
(), "bool") != 0);

1062 ià(
i
+1 >ğ
fœ¡_nÚİt
) {

1064 
”rÜ_æags_
[
key
] = (
	`¡ršg
(
kE¼Ü
è+ "æag '" + (*
¬gv
)[
i
] + "'"

1066 ià(
æag
->
	`h–p
() && flag->help()[0] > '\001') {

1068 
”rÜ_æags_
[
key
] +ğ
	`¡ršg
("; fÏg desütiÚ: "è+ 
æag
->
	`h–p
();

1070 
”rÜ_æags_
[
key
] += "\n";

1073 
v®ue
 = (*
¬gv
)[++
i
];

1085 ià(
v®ue
[0] == '-'

1086 && 
	`¡rcmp
(
æag
->
	`ty³_Çme
(), "string") == 0

1087 && (
	`¡r¡r
(
æag
->
	`h–p
(), "true")

1088 || 
	`¡r¡r
(
æag
->
	`h–p
(), "false"))) {

1089 
	`LOG
(
WARNING
) << "Did you„eally meano set flag '"

1090 << 
æag
->
	`Çme
() << "'ohe value '"

1091 << 
v®ue
 << "'?";

1097 
	`ProûssSšgËO±iÚLocked
(
æag
, 
v®ue
, 
SET_FLAGS_VALUE
);

1099 
»gi¡ry_
->
	`UÆock
();

1101 ià(
»move_æags
) {

1102 (*
¬gv
)[
fœ¡_nÚİt
-1] = (*argv)[0];

1103 (*
¬gv
è+ğ(
fœ¡_nÚİt
-1);

1104 (*
¬gc
è-ğ(
fœ¡_nÚİt
-1);

1105 
fœ¡_nÚİt
 = 1;

1108 
loggšg_is_´obably_£t_up
 = 
Œue
;

1110  
fœ¡_nÚİt
;

1111 
	}
}

1113 
¡ršg
 
	gCommªdLšeFÏgP¬£r
::
	$ProûssFÏgfeLocked
(cÚ¡ 
¡ršg
& 
æagv®
,

1114 
FÏgS‘tšgMode
 
£t_mode
) {

1115 ià(
æagv®
.
	`em±y
())

1118 
¡ršg
 
msg
;

1119 
veùÜ
<
¡ršg
> 
f’ame_li¡
;

1120 
	`P¬£FÏgLi¡
(
æagv®
.
	`c_¡r
(), &
f’ame_li¡
);

1121 
size_t
 
i
 = 0; i < 
f’ame_li¡
.
	`size
(); ++i) {

1122 cÚ¡ * 
fe
 = 
f’ame_li¡
[
i
].
	`c_¡r
();

1123 
msg
 +ğ
	`ProûssO±iÚsFromSŒšgLocked
(
	`R—dFeIÁoSŒšg
(
fe
), 
£t_mode
);

1125  
msg
;

1126 
	}
}

1128 
¡ršg
 
	gCommªdLšeFÏgP¬£r
::
	$ProûssFrom’vLocked
(cÚ¡ 
¡ršg
& 
æagv®
,

1129 
FÏgS‘tšgMode
 
£t_mode
,

1130 
boŞ
 
”rÜs_¬e_çl
) {

1131 ià(
æagv®
.
	`em±y
())

1134 
¡ršg
 
msg
;

1135 
veùÜ
<
¡ršg
> 
æagli¡
;

1136 
	`P¬£FÏgLi¡
(
æagv®
.
	`c_¡r
(), &
æagli¡
);

1138 
size_t
 
i
 = 0; i < 
æagli¡
.
	`size
(); ++i) {

1139 cÚ¡ * 
æagÇme
 = 
æagli¡
[
i
].
	`c_¡r
();

1140 
CommªdLšeFÏg
* 
æag
 = 
»gi¡ry_
->
	`FšdFÏgLocked
(
æagÇme
);

1141 ià(
æag
 =ğ
NULL
) {

1142 
”rÜ_æags_
[
æagÇme
] =

1143 
	`SŒšgPrštf
("%sunknown command†ine flag '%s' "

1145 
kE¼Ü
, 
æagÇme
);

1146 
undefšed_Çmes_
[
æagÇme
] = "";

1150 cÚ¡ 
¡ršg
 
’vÇme
 = 
	`¡ršg
("FLAGS_"è+ sŒšg(
æagÇme
);

1151 cÚ¡ * 
’vv®
 = 
	`g‘’v
(
’vÇme
.
	`c_¡r
());

1152 ià(!
’vv®
) {

1153 ià(
”rÜs_¬e_çl
) {

1154 
”rÜ_æags_
[
æagÇme
] = (
	`¡ršg
(
kE¼Ü
è+ 
’vÇme
 +

1161 ià((
	`¡rcmp
(
’vv®
, "fromenv") == 0) ||

1162 (
	`¡rcmp
(
’vv®
, "tryfromenv") == 0)) {

1163 
”rÜ_æags_
[
æagÇme
] =

1164 
	`SŒšgPrštf
("%sinfinite„ecursion onƒnvironment flag '%s'\n",

1165 
kE¼Ü
, 
’vv®
);

1169 
msg
 +ğ
	`ProûssSšgËO±iÚLocked
(
æag
, 
’vv®
, 
£t_mode
);

1171  
msg
;

1172 
	}
}

1174 
¡ršg
 
	gCommªdLšeFÏgP¬£r
::
	$ProûssSšgËO±iÚLocked
(

1175 
CommªdLšeFÏg
* 
æag
, cÚ¡ * 
v®ue
, 
FÏgS‘tšgMode
 
£t_mode
) {

1176 
¡ršg
 
msg
;

1177 ià(
v®ue
 && !
»gi¡ry_
->
	`S‘FÏgLocked
(
æag
, v®ue, 
£t_mode
, &
msg
)) {

1178 
”rÜ_æags_
[
æag
->
	`Çme
()] = 
msg
;

1185 ià(
	`¡rcmp
(
æag
->
	`Çme
(), "flagfile") == 0) {

1186 
msg
 +ğ
	`ProûssFÏgfeLocked
(
FLAGS_æagfe
, 
£t_mode
);

1188 } ià(
	`¡rcmp
(
æag
->
	`Çme
(), "fromenv") == 0) {

1190 
msg
 +ğ
	`ProûssFrom’vLocked
(
FLAGS_äom’v
, 
£t_mode
, 
Œue
);

1192 } ià(
	`¡rcmp
(
æag
->
	`Çme
(), "tryfromenv") == 0) {

1193 
msg
 +ğ
	`ProûssFrom’vLocked
(
FLAGS_Œyäom’v
, 
£t_mode
, 
çl£
);

1196  
msg
;

1197 
	}
}

1199 
	gCommªdLšeFÏgP¬£r
::
	$V®id©eAÎFÏgs
() {

1200 
FÏgRegi¡ryLock
 
	`äl
(
»gi¡ry_
);

1201 
FÏgRegi¡ry
::
FÏgCÚ¡I‹¿tÜ
 
i
 = 
»gi¡ry_
->
æags_
.
	`begš
();

1202 
i
 !ğ
»gi¡ry_
->
æags_
.
	`’d
(); ++i) {

1203 ià(!
i
->
£cÚd
->
	`V®id©eCu¼’t
()) {

1207 ià(
”rÜ_æags_
[
i
->
£cÚd
->
	`Çme
()].
	`em±y
())

1208 
”rÜ_æags_
[
i
->
£cÚd
->
	`Çme
()] =

1209 
	`¡ršg
(
kE¼Ü
è+ "--" + 
i
->
£cÚd
->
	`Çme
() +

1214 
	}
}

1216 
boŞ
 
	gCommªdLšeFÏgP¬£r
::
	$R•ÜtE¼Üs
() {

1219 ià(!
FLAGS_undefok
.
	`em±y
()) {

1220 
veùÜ
<
¡ršg
> 
æagli¡
;

1221 
	`P¬£FÏgLi¡
(
FLAGS_undefok
.
	`c_¡r
(), &
æagli¡
);

1222 
size_t
 
i
 = 0; i < 
æagli¡
.
	`size
(); ++i) {

1224 cÚ¡ 
¡ršg
 
no_v”siÚ
 = 
	`¡ršg
("no"è+ 
æagli¡
[
i
];

1225 ià(
undefšed_Çmes_
.
	`fšd
(
æagli¡
[
i
]è!ğundefšed_Çmes_.
	`’d
()) {

1226 
”rÜ_æags_
[
æagli¡
[
i
]] = "";

1227 } ià(
undefšed_Çmes_
.
	`fšd
(
no_v”siÚ
è!ğundefšed_Çmes_.
	`’d
()) {

1228 
”rÜ_æags_
[
no_v”siÚ
] = "";

1235 ià(
®low_commªd_lše_»·rsšg
) {

1236 
m­
<
¡ršg
, sŒšg>::
cÚ¡_™”©Ü
 
™
 = 
undefšed_Çmes_
.
	`begš
();

1237 
™
 !ğ
undefšed_Çmes_
.
	`’d
(); ++it)

1238 
”rÜ_æags_
[
™
->
fœ¡
] = "";

1241 
boŞ
 
found_”rÜ
 = 
çl£
;

1242 
¡ršg
 
”rÜ_mes§ge
;

1243 
m­
<
¡ršg
, sŒšg>::
cÚ¡_™”©Ü
 
™
 = 
”rÜ_æags_
.
	`begš
();

1244 
™
 !ğ
”rÜ_æags_
.
	`’d
(); ++it) {

1245 ià(!
™
->
£cÚd
.
	`em±y
()) {

1246 
”rÜ_mes§ge
.
	`­³nd
(
™
->
£cÚd
.
	`d©a
(), it->£cÚd.
	`size
());

1247 
found_”rÜ
 = 
Œue
;

1250 ià(
found_”rÜ
)

1251 
	`R•ÜtE¼Ü
(
DO_NOT_DIE
, "%s", 
”rÜ_mes§ge
.
	`c_¡r
());

1252  
found_”rÜ
;

1253 
	}
}

1255 
¡ršg
 
	gCommªdLšeFÏgP¬£r
::
	$ProûssO±iÚsFromSŒšgLocked
(

1256 cÚ¡ 
¡ršg
& 
cÚ‹Ád©a
, 
FÏgS‘tšgMode
 
£t_mode
) {

1257 
¡ršg
 
»tv®
;

1258 cÚ¡ * 
æagfe_cÚ‹Ás
 = 
cÚ‹Ád©a
.
	`c_¡r
();

1259 
boŞ
 
æags_¬e_»Ëvªt
 = 
Œue
;

1260 
boŞ
 
š_f’ame_£ùiÚ
 = 
çl£
;

1262 cÚ¡ * 
lše_’d
 = 
æagfe_cÚ‹Ás
;

1264 ; 
lše_’d
; 
æagfe_cÚ‹Ás
 =†ine_end + 1) {

1265 *
æagfe_cÚ‹Ás
 && 
	`is¥aû
(*flagfile_contents))

1266 ++
æagfe_cÚ‹Ás
;

1267 
lše_’d
 = 
	`¡rchr
(
æagfe_cÚ‹Ás
, '\n');

1268 
size_t
 
Ën
 = 
lše_’d
 ?†še_’d - 
æagfe_cÚ‹Ás


1269 : 
	`¡¾’
(
æagfe_cÚ‹Ás
);

1270 
¡ršg
 
	`lše
(
æagfe_cÚ‹Ás
, 
Ën
);

1277 ià(
lše
.
	`em±y
() ||†ine[0] == '#') {

1280 } ià(
lše
[0] == '-') {

1281 
š_f’ame_£ùiÚ
 = 
çl£
;

1282 ià(!
æags_¬e_»Ëvªt
)

1285 cÚ¡ * 
Çme_ªd_v®
 = 
lše
.
	`c_¡r
() + 1;

1286 ià(*
Çme_ªd_v®
 == '-')

1287 
Çme_ªd_v®
++;

1288 
¡ršg
 
key
;

1289 cÚ¡ * 
v®ue
;

1290 
¡ršg
 
”rÜ_mes§ge
;

1291 
CommªdLšeFÏg
* 
æag
 = 
»gi¡ry_
->
	`S¶™Argum’tLocked
(
Çme_ªd_v®
,

1292 &
key
, &
v®ue
,

1293 &
”rÜ_mes§ge
);

1295 ià(
æag
 =ğ
NULL
) {

1297 } ià(
v®ue
 =ğ
NULL
) {

1300 
»tv®
 +ğ
	`ProûssSšgËO±iÚLocked
(
æag
, 
v®ue
, 
£t_mode
);

1304 ià(!
š_f’ame_£ùiÚ
) {

1305 
š_f’ame_£ùiÚ
 = 
Œue
;

1306 
æags_¬e_»Ëvªt
 = 
çl£
;

1310 cÚ¡ * 
¥aû
 = 
lše
.
	`c_¡r
();

1311 cÚ¡ * 
wÜd
 = 
lše
.
	`c_¡r
(); *
¥aû
; word = space+1) {

1312 ià(
æags_¬e_»Ëvªt
)

1314 
¥aû
 = 
	`¡rchr
(
wÜd
, ' ');

1315 ià(
¥aû
 =ğ
NULL
)

1316 
¥aû
 = 
wÜd
 + 
	`¡¾’
(word);

1317 cÚ¡ 
¡ršg
 
	`glob
(
wÜd
, 
¥aû
 - word);

1319 ià(
glob
 =ğ
	`Prog¿mInvoÿtiÚName
()

1320 || 
glob
 =ğ
	`Prog¿mInvoÿtiÚShÜtName
()

1321 #ifdeà
HAVE_FNMATCH_H


1322 || 
	`âm©ch
(
glob
.
	`c_¡r
(),

1323 
	`Prog¿mInvoÿtiÚName
(),

1324 
FNM_PATHNAME
) == 0

1325 || 
	`âm©ch
(
glob
.
	`c_¡r
(),

1326 
	`Prog¿mInvoÿtiÚShÜtName
(),

1327 
FNM_PATHNAME
) == 0

1330 
æags_¬e_»Ëvªt
 = 
Œue
;

1335  
»tv®
;

1336 
	}
}

1347 
	g‹m¶©e
<
ty³Çme
 
	gT
>

1348 
T
 
	$G‘FromEnv
(cÚ¡ *
v¬Çme
, cÚ¡ * 
ty³
, 
T
 
dæt
) {

1349 cÚ¡ * cÚ¡ 
v®¡r
 = 
	`g‘’v
(
v¬Çme
);

1350 ià(!
v®¡r
)

1351  
dæt
;

1352 
FÏgV®ue
 
	`ifv
(
Ãw
 
T
, 
ty³
, 
Œue
);

1353 ià(!
ifv
.
	`P¬£From
(
v®¡r
))

1354 
	`R•ÜtE¼Ü
(
DIE
, "ERROR:ƒrror…arsingƒnv variable '%s' with value '%s'\n",

1355 
v¬Çme
, 
v®¡r
);

1356  
	`OTHER_VALUE_AS
(
ifv
, 
T
);

1357 
	}
}

1359 
boŞ
 
	$AddFÏgV®id©Ü
(cÚ¡ * 
æag_±r
, 
V®id©eFnPrÙo
 
v®id©e_â_´Ùo
) {

1364 
FÏgRegi¡ry
* cÚ¡ 
»gi¡ry
 = FÏgRegi¡ry::
	`Glob®Regi¡ry
();

1365 
FÏgRegi¡ryLock
 
	`äl
(
»gi¡ry
);

1368 
CommªdLšeFÏg
* 
æag
 = 
»gi¡ry
->
	`FšdFÏgVŸPŒLocked
(
æag_±r
);

1369 ià(!
æag
) {

1370 
	`LOG
(
WARNING
) << "Ignoring RegisterValidateFunction() for flag…ointer "

1371 << 
æag_±r
 << ":‚o flag found‡that‡ddress";

1372  
çl£
;

1373 } ià(
v®id©e_â_´Ùo
 =ğ
æag
->
	`v®id©e_funùiÚ
()) {

1374  
Œue
;

1375 } ià(
v®id©e_â_´Ùo
 !ğ
NULL
 && 
æag
->
	`v®id©e_funùiÚ
() != NULL) {

1376 
	`LOG
(
WARNING
) << "Ignoring RegisterValidateFunction() for flag '"

1377 << 
æag
->
	`Çme
() << "': validate-fn‡lready„egistered";

1378  
çl£
;

1380 
æag
->
v®id©e_â_´Ùo_
 = 
v®id©e_â_´Ùo
;

1381  
Œue
;

1383 
	}
}

1401 
	gFÏgRegi¡””
::
	$FÏgRegi¡””
(cÚ¡ * 
Çme
, cÚ¡ * 
ty³
,

1402 cÚ¡ * 
h–p
, cÚ¡ * 
f’ame
,

1403 * 
cu¼’t_¡Üage
, * 
defv®ue_¡Üage
) {

1404 ià(
h–p
 =ğ
NULL
)

1405 
h–p
 = "";

1408 ià(
	`¡rchr
(
ty³
, ':'))

1409 
ty³
 = 
	`¡¼chr
(type, ':') + 1;

1410 
FÏgV®ue
* 
cu¼’t
 = 
Ãw
 
	`FÏgV®ue
(
cu¼’t_¡Üage
, 
ty³
, 
çl£
);

1411 
FÏgV®ue
* 
defv®ue
 = 
Ãw
 
	`FÏgV®ue
(
defv®ue_¡Üage
, 
ty³
, 
çl£
);

1413 
CommªdLšeFÏg
* 
æag
 = 
Ãw
 
	`CommªdLšeFÏg
(
Çme
, 
h–p
, 
f’ame
,

1414 
cu¼’t
, 
defv®ue
);

1415 
FÏgRegi¡ry
::
	`Glob®Regi¡ry
()->
	`Regi¡”FÏg
(
æag
);

1416 
	}
}

1426 
	sF’ameFÏgÇmeCmp
 {

1427 
boŞ
 
İ”©Ü
()(cÚ¡ 
	mCommªdLšeFÏgInfo
& 
	ma
,

1428 cÚ¡ 
	mCommªdLšeFÏgInfo
& 
	mb
) const {

1429 
	mcmp
 = 
¡rcmp
(
a
.
f’ame
.
c_¡r
(), 
b
.filename.c_str());

1430 ià(
	mcmp
 == 0)

1431 
cmp
 = 
¡rcmp
(
a
.
Çme
.
c_¡r
(), 
b
.name.c_str());

1432  
	mcmp
 < 0;

1436 
G‘AÎFÏgs
(
veùÜ
<
CommªdLšeFÏgInfo
>* 
OUTPUT
) {

1437 
FÏgRegi¡ry
* cÚ¡ 
	g»gi¡ry
 = FÏgRegi¡ry::
Glob®Regi¡ry
();

1438 
	g»gi¡ry
->
Lock
();

1439 
	gFÏgRegi¡ry
::
FÏgCÚ¡I‹¿tÜ
 
i
 = 
»gi¡ry
->
æags_
.
begš
();

1440 
	gi
 !ğ
»gi¡ry
->
æags_
.
’d
(); ++i) {

1441 
CommªdLšeFÏgInfo
 
	gfi
;

1442 
	gi
->
	g£cÚd
->
FlCommªdLšeFÏgInfo
(&
fi
);

1443 
	gOUTPUT
->
push_back
(
fi
);

1445 
	g»gi¡ry
->
UÆock
();

1447 
sÜt
(
OUTPUT
->
begš
(), OUTPUT->
’d
(), 
F’ameFÏgÇmeCmp
());

1466 cÚ¡ * 
	g¬gv0
 = "UNKNOWN";

1467 cÚ¡ * 
	gcmdlše
 = "";

1468 
	gveùÜ
<
	g¡ršg
> 
	g¬gvs
;

1469 
ušt32
 
	g¬gv_sum
 = 0;

1470 cÚ¡ * 
	g´og¿m_u§ge
 = 
NULL
;

1472 
	$S‘Argv
(
¬gc
, cÚ¡ ** 
¬gv
) {

1473 
boŞ
 
ÿÎed_£t_¬gv
 = 
çl£
;

1474 ià(
ÿÎed_£t_¬gv
)

1477 
ÿÎed_£t_¬gv
 = 
Œue
;

1479 
	`as£¹
(
¬gc
 > 0);

1480 
¬gv0
 = 
	`¡rdup
(
¬gv
[0]);

1481 
	`as£¹
(
¬gv0
);

1483 
¡ršg
 
cmdlše_¡ršg
;

1484 
i
 = 0; i < 
¬gc
; i++) {

1485 ià(
i
 != 0) {

1486 
cmdlše_¡ršg
 += " ";

1488 
cmdlše_¡ršg
 +ğ
¬gv
[
i
];

1489 
¬gvs
.
	`push_back
(
¬gv
[
i
]);

1491 
cmdlše
 = 
	`¡rdup
(
cmdlše_¡ršg
.
	`c_¡r
());

1492 
	`as£¹
(
cmdlše
);

1495 cÚ¡ * 
c
 = 
cmdlše
; *c; c++)

1496 
¬gv_sum
 +ğ*
c
;

1497 
	}
}

1499 cÚ¡ 
	gveùÜ
<
	g¡ršg
>& 
	$G‘Argvs
(è{  
¬gvs
; 
	}
}

1500 cÚ¡ * 
	$G‘Argv
(è{  
cmdlše
; 
	}
}

1501 cÚ¡ * 
	$G‘Argv0
(è{  
¬gv0
; 
	}
}

1502 
ušt32
 
	$G‘ArgvSum
(è{  
¬gv_sum
; 
	}
}

1503 cÚ¡ * 
	$Prog¿mInvoÿtiÚName
() {

1504  
	`G‘Argv0
();

1505 
	}
}

1506 cÚ¡ * 
	$Prog¿mInvoÿtiÚShÜtName
() {

1507 cÚ¡ * 
¦ash
 = 
	`¡¼chr
(
¬gv0
, '/');

1508 #ifdeà
OS_WINDOWS


1509 ià(!
¦ash
è¦ash = 
	`¡¼chr
(
¬gv0
, '\\');

1511  
¦ash
 ? sÏsh + 1 : 
¬gv0
;

1512 
	}
}

1514 
	$S‘U§geMes§ge
(cÚ¡ 
¡ršg
& 
u§ge
) {

1515 ià(
´og¿m_u§ge
 !ğ
NULL
)

1516 
	`R•ÜtE¼Ü
(
DIE
, "ERROR: SetUsageMessage() calledwice\n");

1517 
´og¿m_u§ge
 = 
	`¡rdup
(
u§ge
.
	`c_¡r
());

1518 
	}
}

1520 cÚ¡ * 
	$Prog¿mU§ge
() {

1521 ià(
´og¿m_u§ge
) {

1522  
´og¿m_u§ge
;

1525 
	}
}

1532 cÚ¡ * 
	gv”siÚ_¡ršg
 = 
NULL
;

1534 
	$S‘V”siÚSŒšg
(cÚ¡ 
¡ršg
& 
v”siÚ
) {

1535 ià(
v”siÚ_¡ršg
 !ğ
NULL
)

1536 
	`R•ÜtE¼Ü
(
DIE
, "ERROR: SetVersionString() calledwice\n");

1537 
v”siÚ_¡ršg
 = 
	`¡rdup
(
v”siÚ
.
	`c_¡r
());

1538 
	}
}

1540 cÚ¡ * 
	$V”siÚSŒšg
() {

1541  
v”siÚ_¡ršg
 ? version_string : "";

1542 
	}
}

1564 
boŞ
 
	$G‘CommªdLšeO±iÚ
(cÚ¡ * 
Çme
, 
¡ršg
* 
v®ue
) {

1565 ià(
NULL
 =ğ
Çme
)

1566  
çl£
;

1567 
	`as£¹
(
v®ue
);

1569 
FÏgRegi¡ry
* cÚ¡ 
»gi¡ry
 = FÏgRegi¡ry::
	`Glob®Regi¡ry
();

1570 
FÏgRegi¡ryLock
 
	`äl
(
»gi¡ry
);

1571 
CommªdLšeFÏg
* 
æag
 = 
»gi¡ry
->
	`FšdFÏgLocked
(
Çme
);

1572 ià(
æag
 =ğ
NULL
) {

1573  
çl£
;

1575 *
v®ue
 = 
æag
->
	`cu¼’t_v®ue
();

1576  
Œue
;

1578 
	}
}

1580 
boŞ
 
	$G‘CommªdLšeFÏgInfo
(cÚ¡ * 
Çme
, 
CommªdLšeFÏgInfo
* 
OUTPUT
) {

1581 ià(
NULL
 =ğ
Çme
è 
çl£
;

1582 
FÏgRegi¡ry
* cÚ¡ 
»gi¡ry
 = FÏgRegi¡ry::
	`Glob®Regi¡ry
();

1583 
FÏgRegi¡ryLock
 
	`äl
(
»gi¡ry
);

1584 
CommªdLšeFÏg
* 
æag
 = 
»gi¡ry
->
	`FšdFÏgLocked
(
Çme
);

1585 ià(
æag
 =ğ
NULL
) {

1586  
çl£
;

1588 
	`as£¹
(
OUTPUT
);

1589 
æag
->
	`FlCommªdLšeFÏgInfo
(
OUTPUT
);

1590  
Œue
;

1592 
	}
}

1594 
CommªdLšeFÏgInfo
 
	$G‘CommªdLšeFÏgInfoOrD›
(cÚ¡ * 
Çme
) {

1595 
CommªdLšeFÏgInfo
 
šfo
;

1596 ià(!
	`G‘CommªdLšeFÏgInfo
(
Çme
, &
šfo
)) {

1597 
	`årštf
(
¡d”r
, "FATAL ERROR: fÏg‚am'%s' dÛ¢'ˆexi¡\n", 
Çme
);

1598 
	`gæags_ex™func
(1);

1600  
šfo
;

1601 
	}
}

1603 
¡ršg
 
	$S‘CommªdLšeO±iÚW™hMode
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
,

1604 
FÏgS‘tšgMode
 
£t_mode
) {

1605 
¡ršg
 
»suÉ
;

1606 
FÏgRegi¡ry
* cÚ¡ 
»gi¡ry
 = FÏgRegi¡ry::
	`Glob®Regi¡ry
();

1607 
FÏgRegi¡ryLock
 
	`äl
(
»gi¡ry
);

1608 
CommªdLšeFÏg
* 
æag
 = 
»gi¡ry
->
	`FšdFÏgLocked
(
Çme
);

1609 ià(
æag
) {

1610 
CommªdLšeFÏgP¬£r
 
	`·r£r
(
»gi¡ry
);

1611 
»suÉ
 = 
·r£r
.
	`ProûssSšgËO±iÚLocked
(
æag
, 
v®ue
, 
£t_mode
);

1612 ià(!
»suÉ
.
	`em±y
()) {

1617  
»suÉ
;

1618 
	}
}

1620 
¡ršg
 
	$S‘CommªdLšeO±iÚ
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
) {

1621  
	`S‘CommªdLšeO±iÚW™hMode
(
Çme
, 
v®ue
, 
SET_FLAGS_VALUE
);

1622 
	}
}

1634 şas 
	cFÏgSav”Im¶
 {

1635 
	mpublic
:

1637 
ex¶ic™
 
	$FÏgSav”Im¶
(
FÏgRegi¡ry
* 
maš_»gi¡ry
)

1638 : 
	$maš_»gi¡ry_
(
maš_»gi¡ry
) { }

1639 ~
	$FÏgSav”Im¶
() {

1641 
veùÜ
<
CommªdLšeFÏg
*>::
cÚ¡_™”©Ü
 
™
;

1642 
™
 = 
backup_»gi¡ry_
.
	`begš
(); iˆ!ğbackup_»gi¡ry_.
	`’d
(); ++it)

1643 
d–‘e
 *
™
;

1644 
	}
}

1649 
	$SaveFromRegi¡ry
() {

1650 
FÏgRegi¡ryLock
 
	`äl
(
maš_»gi¡ry_
);

1651 
	`as£¹
(
backup_»gi¡ry_
.
	`em±y
());

1652 
FÏgRegi¡ry
::
FÏgCÚ¡I‹¿tÜ
 
™
 = 
maš_»gi¡ry_
->
æags_
.
	`begš
();

1653 
™
 !ğ
maš_»gi¡ry_
->
æags_
.
	`’d
();

1654 ++
™
) {

1655 cÚ¡ 
CommªdLšeFÏg
* 
maš
 = 
™
->
£cÚd
;

1657 
CommªdLšeFÏg
* 
backup
 = 
Ãw
 
	`CommªdLšeFÏg
(

1658 
maš
->
	`Çme
(), maš->
	`h–p
(), maš->
	`f’ame
(),

1659 
maš
->
cu¼’t_
->
	`New
(), maš->
defv®ue_
->New());

1661 
backup
->
	`CİyFrom
(*
maš
);

1662 
backup_»gi¡ry_
.
	`push_back
(
backup
);

1664 
	}
}

1670 
	$Re¡ÜeToRegi¡ry
() {

1671 
FÏgRegi¡ryLock
 
	`äl
(
maš_»gi¡ry_
);

1672 
veùÜ
<
CommªdLšeFÏg
*>::
cÚ¡_™”©Ü
 
™
;

1673 
™
 = 
backup_»gi¡ry_
.
	`begš
(); iˆ!ğbackup_»gi¡ry_.
	`’d
(); ++it) {

1674 
CommªdLšeFÏg
* 
maš
 = 
maš_»gi¡ry_
->
	`FšdFÏgLocked
((*
™
)->
	`Çme
());

1675 ià(
maš
 !ğ
NULL
) {

1676 
maš
->
	`CİyFrom
(**
™
);

1679 
	}
}

1681 
	g´iv©e
:

1682 
FÏgRegi¡ry
* cÚ¡ 
maš_»gi¡ry_
;

1683 
	gveùÜ
<
	gCommªdLšeFÏg
*> 
	gbackup_»gi¡ry_
;

1685 
FÏgSav”Im¶
(const FlagSaverImpl&);

1686 
	gİ”©Ü
=(cÚ¡ 
FÏgSav”Im¶
&);

1689 
	gFÏgSav”
::
	$FÏgSav”
()

1690 : 
	`im¶_
(
Ãw
 
	`FÏgSav”Im¶
(
FÏgRegi¡ry
::
	$Glob®Regi¡ry
())) {

1691 
im¶_
->
	`SaveFromRegi¡ry
();

1692 
	}
}

1694 
	gFÏgSav”
::~
	$FÏgSav”
() {

1695 
im¶_
->
	`Re¡ÜeToRegi¡ry
();

1696 
d–‘e
 
im¶_
;

1697 
	}
}

1715 
¡ršg
 
The£CommªdlšeFÏgsIÁoSŒšg
(

1716 cÚ¡ 
veùÜ
<
CommªdLšeFÏgInfo
>& 
æags
) {

1717 
	gveùÜ
<
	gCommªdLšeFÏgInfo
>::
cÚ¡_™”©Ü
 
i
;

1719 
size_t
 
	g»tv®_¥aû
 = 0;

1720 
	gi
 = 
æags
.
begš
(); i !ğæags.
’d
(); ++i) {

1722 
	g»tv®_¥aû
 +ğ
i
->
Çme
.
Ëngth
(è+ i->
cu¼’t_v®ue
.length() + 5;

1725 
¡ršg
 
	g»tv®
;

1726 
	g»tv®
.
»£rve
(
»tv®_¥aû
);

1727 
	gi
 = 
æags
.
begš
(); i !ğæags.
’d
(); ++i) {

1728 
	g»tv®
 += "--";

1729 
	g»tv®
 +ğ
i
->
Çme
;

1730 
	g»tv®
 += "=";

1731 
	g»tv®
 +ğ
i
->
cu¼’t_v®ue
;

1732 
	g»tv®
 += "\n";

1734  
	g»tv®
;

1737 
¡ršg
 
	$CommªdlšeFÏgsIÁoSŒšg
() {

1738 
veùÜ
<
CommªdLšeFÏgInfo
> 
sÜ‹d_æags
;

1739 
	`G‘AÎFÏgs
(&
sÜ‹d_æags
);

1740  
	`The£CommªdlšeFÏgsIÁoSŒšg
(
sÜ‹d_æags
);

1741 
	}
}

1743 
boŞ
 
	$R—dFÏgsFromSŒšg
(cÚ¡ 
¡ršg
& 
æagfecÚ‹Ás
,

1745 
boŞ
 
”rÜs_¬e_çl
) {

1746 
FÏgRegi¡ry
* cÚ¡ 
»gi¡ry
 = FÏgRegi¡ry::
	`Glob®Regi¡ry
();

1747 
FÏgSav”Im¶
 
	`§ved_¡©es
(
»gi¡ry
);

1748 
§ved_¡©es
.
	`SaveFromRegi¡ry
();

1750 
CommªdLšeFÏgP¬£r
 
	`·r£r
(
»gi¡ry
);

1751 
»gi¡ry
->
	`Lock
();

1752 
·r£r
.
	`ProûssO±iÚsFromSŒšgLocked
(
æagfecÚ‹Ás
, 
SET_FLAGS_VALUE
);

1753 
»gi¡ry
->
	`UÆock
();

1755 
	`HªdËCommªdLšeH–pFÏgs
();

1756 ià(
·r£r
.
	`R•ÜtE¼Üs
()) {

1758 ià(
”rÜs_¬e_çl
)

1759 
	`gæags_ex™func
(1);

1760 
§ved_¡©es
.
	`Re¡ÜeToRegi¡ry
();

1761  
çl£
;

1763  
Œue
;

1764 
	}
}

1767 
boŞ
 
	$Aµ’dFÏgsIÁoFe
(cÚ¡ 
¡ršg
& 
f’ame
, cÚ¡ *
´og_Çme
) {

1768 
FILE
 *
å
 = 
	`fİ’
(
f’ame
.
	`c_¡r
(), "a");

1769 ià(!
å
) {

1770  
çl£
;

1773 ià(
´og_Çme
)

1774 
	`årštf
(
å
, "%s\n", 
´og_Çme
);

1776 
veùÜ
<
CommªdLšeFÏgInfo
> 
æags
;

1777 
	`G‘AÎFÏgs
(&
æags
);

1779 
veùÜ
<
CommªdLšeFÏgInfo
>::
™”©Ü
 
i
;

1780 
i
 = 
æags
.
	`begš
(); i !ğæags.
	`’d
(); ++i) {

1781 ià(
	`¡rcmp
(
i
->
Çme
.
	`c_¡r
(), "flagfile") == 0) {

1782 
æags
.
	`”a£
(
i
);

1786 
	`årštf
(
å
, "%s", 
	`The£CommªdlšeFÏgsIÁoSŒšg
(
æags
).
	`c_¡r
());

1788 
	`fşo£
(
å
);

1789  
Œue
;

1790 
	}
}

1792 
boŞ
 
	$R—dFromFÏgsFe
(cÚ¡ 
¡ršg
& 
f’ame
, cÚ¡ * 
´og_Çme
,

1793 
boŞ
 
”rÜs_¬e_çl
) {

1794  
	`R—dFÏgsFromSŒšg
(
	`R—dFeIÁoSŒšg
(
f’ame
.
	`c_¡r
()),

1795 
´og_Çme
, 
”rÜs_¬e_çl
);

1796 
	}
}

1812 
boŞ
 
	$BoŞFromEnv
(cÚ¡ *
v
, 
boŞ
 
dæt
) {

1813  
	`G‘FromEnv
(
v
, "boŞ", 
dæt
);

1814 
	}
}

1815 
št32
 
	$IÁ32FromEnv
(cÚ¡ *
v
, 
št32
 
dæt
) {

1816  
	`G‘FromEnv
(
v
, "št32", 
dæt
);

1817 
	}
}

1818 
št64
 
	$IÁ64FromEnv
(cÚ¡ *
v
, 
št64
 
dæt
) {

1819  
	`G‘FromEnv
(
v
, "št64", 
dæt
);

1820 
	}
}

1821 
ušt64
 
	$Ušt64FromEnv
(cÚ¡ *
v
, 
ušt64
 
dæt
) {

1822  
	`G‘FromEnv
(
v
, "ušt64", 
dæt
);

1823 
	}
}

1824 
	$DoubËFromEnv
(cÚ¡ *
v
, 
dæt
) {

1825  
	`G‘FromEnv
(
v
, "doubË", 
dæt
);

1826 
	}
}

1827 cÚ¡ *
	$SŒšgFromEnv
(cÚ¡ *
v¬Çme
, cÚ¡ *
dæt
) {

1828 cÚ¡ * cÚ¡ 
v®
 = 
	`g‘’v
(
v¬Çme
);

1829  
v®
 ? v® : 
dæt
;

1830 
	}
}

1845 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ boŞ* 
æag
,

1846 
	$boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
boŞ
)) {

1847  
	`AddFÏgV®id©Ü
(
æag
, 
»š‹½»t_ÿ¡
<
V®id©eFnPrÙo
>(
v®id©e_â
));

1848 
	}
}

1849 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
št32
* 
æag
,

1850 
	$boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
št32
)) {

1851  
	`AddFÏgV®id©Ü
(
æag
, 
»š‹½»t_ÿ¡
<
V®id©eFnPrÙo
>(
v®id©e_â
));

1852 
	}
}

1853 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
št64
* 
æag
,

1854 
	$boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
št64
)) {

1855  
	`AddFÏgV®id©Ü
(
æag
, 
»š‹½»t_ÿ¡
<
V®id©eFnPrÙo
>(
v®id©e_â
));

1856 
	}
}

1857 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
ušt64
* 
æag
,

1858 
	$boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
ušt64
)) {

1859  
	`AddFÏgV®id©Ü
(
æag
, 
»š‹½»t_ÿ¡
<
V®id©eFnPrÙo
>(
v®id©e_â
));

1860 
	}
}

1861 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ * 
æag
,

1862 
	$boŞ
 (*
v®id©e_â
)(const *, )) {

1863  
	`AddFÏgV®id©Ü
(
æag
, 
»š‹½»t_ÿ¡
<
V®id©eFnPrÙo
>(
v®id©e_â
));

1864 
	}
}

1865 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
¡ršg
* 
æag
,

1866 
	$boŞ
 (*
v®id©e_â
)(cÚ¡ *, cÚ¡ 
¡ršg
&)) {

1867  
	`AddFÏgV®id©Ü
(
æag
, 
»š‹½»t_ÿ¡
<
V®id©eFnPrÙo
>(
v®id©e_â
));

1868 
	}
}

1882 
ušt32
 
	$P¬£CommªdLšeFÏgsIÁ”Çl
(* 
¬gc
, *** 
¬gv
,

1883 
boŞ
 
»move_æags
, boŞ 
do_»pÜt
) {

1884 
	`S‘Argv
(*
¬gc
, 
cÚ¡_ÿ¡
<cÚ¡ **>(*
¬gv
));

1886 
FÏgRegi¡ry
* cÚ¡ 
»gi¡ry
 = FÏgRegi¡ry::
	`Glob®Regi¡ry
();

1887 
CommªdLšeFÏgP¬£r
 
	`·r£r
(
»gi¡ry
);

1894 
»gi¡ry
->
	`Lock
();

1895 
·r£r
.
	`ProûssFÏgfeLocked
(
FLAGS_æagfe
, 
SET_FLAGS_VALUE
);

1897 
·r£r
.
	`ProûssFrom’vLocked
(
FLAGS_äom’v
, 
SET_FLAGS_VALUE
, 
Œue
);

1898 
·r£r
.
	`ProûssFrom’vLocked
(
FLAGS_Œyäom’v
, 
SET_FLAGS_VALUE
, 
çl£
);

1899 
»gi¡ry
->
	`UÆock
();

1902 cÚ¡ 
r
 = 
·r£r
.
	`P¬£NewCommªdLšeFÏgs
(
¬gc
, 
¬gv
, 
»move_æags
);

1904 ià(
do_»pÜt
)

1905 
	`HªdËCommªdLšeH–pFÏgs
();

1908 
·r£r
.
	`V®id©eAÎFÏgs
();

1910 ià(
·r£r
.
	`R•ÜtE¼Üs
())

1911 
	`gæags_ex™func
(1);

1912  
r
;

1913 
	}
}

1915 
ušt32
 
	$P¬£CommªdLšeFÏgs
(* 
¬gc
, *** 
¬gv
, 
boŞ
 
»move_æags
) {

1916  
	`P¬£CommªdLšeFÏgsIÁ”Çl
(
¬gc
, 
¬gv
, 
»move_æags
, 
Œue
);

1917 
	}
}

1919 
ušt32
 
	$P¬£CommªdLšeNÚH–pFÏgs
(* 
¬gc
, *** 
¬gv
,

1920 
boŞ
 
»move_æags
) {

1921  
	`P¬£CommªdLšeFÏgsIÁ”Çl
(
¬gc
, 
¬gv
, 
»move_æags
, 
çl£
);

1922 
	}
}

1937 
	$AÎowCommªdLšeR•¬sšg
() {

1938 
®low_commªd_lše_»·rsšg
 = 
Œue
;

1939 
	}
}

1941 
	$R•¬£CommªdLšeNÚH–pFÏgs
() {

1943 cÚ¡ 
veùÜ
<
¡ršg
>& 
¬gvs
 = 
	`G‘Argvs
();

1944 
tmp_¬gc
 = 
¡©ic_ÿ¡
<>(
¬gvs
.
	`size
());

1945 ** 
tmp_¬gv
 = 
Ãw
 * [
tmp_¬gc
 + 1];

1946 
i
 = 0; i < 
tmp_¬gc
; ++i)

1947 
tmp_¬gv
[
i
] = 
	`¡rdup
(
¬gvs
[i].
	`c_¡r
());

1949 
	`P¬£CommªdLšeNÚH–pFÏgs
(&
tmp_¬gc
, &
tmp_¬gv
, 
çl£
);

1951 
i
 = 0; i < 
tmp_¬gc
; ++i)

1952 
	`ä“
(
tmp_¬gv
[
i
]);

1953 
d–‘e
[] 
tmp_¬gv
;

1954 
	}
}

1956 
	$ShutDownCommªdLšeFÏgs
() {

1957 
FÏgRegi¡ry
::
	`D–‘eGlob®Regi¡ry
();

1958 
	}
}

1960 
	g_END_GOOGLE_NAMESPACE_


	@/home/dell/tut/gflags/gflags-2.0/src/gflags/gflags.h

78 #iâdeà
BASE_COMMANDLINEFLAGS_H_


79 
	#BASE_COMMANDLINEFLAGS_H_


	)

81 
	~<¡ršg
>

82 
	~<veùÜ
>

83 
	~<gæags/gæags_deş¬e.h
>

84 
Çme¥aû
 
	ggoogË
 {

91 
	#GFLAGS_DLL_DECL


	)

92 
	#GFLAGS_DLL_DEFINE_FLAG


	)

124 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ boŞ* 
æag
,

125 
boŞ
 (*
v®id©e_â
)(const *, bool));

126 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
št32
* 
æag
,

127 
boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
št32
));

128 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
št64
* 
æag
,

129 
boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
št64
));

130 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
ušt64
* 
æag
,

131 
boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
ušt64
));

132 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ * 
æag
,

133 
boŞ
 (*
v®id©e_â
)(const *, ));

134 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
¡d
::
¡ršg
* 
æag
,

135 
boŞ
 (*
v®id©e_â
)(const *,

136 cÚ¡ 
¡d
::
¡ršg
&));

150 
GFLAGS_DLL_DECL
 
	gCommªdLšeFÏgInfo
 {

151 
	g¡d
::
¡ršg
 
Çme
;

152 
	g¡d
::
¡ršg
 
ty³
;

153 
	g¡d
::
¡ršg
 
desütiÚ
;

154 
	g¡d
::
¡ršg
 
cu¼’t_v®ue
;

155 
	g¡d
::
¡ršg
 
deçuÉ_v®ue
;

156 
	g¡d
::
¡ršg
 
f’ame
;

157 
boŞ
 
	ghas_v®id©Ü_â
;

158 
boŞ
 
	gis_deçuÉ
;

161 cÚ¡ * 
	gæag_±r
;

169 
G‘AÎFÏgs
(
¡d
::
veùÜ
<
CommªdLšeFÏgInfo
>* 
OUTPUT
);

171 
ShowU§geW™hFÏgs
(cÚ¡ *
¬gv0
);

172 
ShowU§geW™hFÏgsRe¡riù
(cÚ¡ *
¬gv0
, cÚ¡ *
»¡riù
);

176 
¡d
::
¡ršg
 
DesüibeOÃFÏg
(cÚ¡ 
CommªdLšeFÏgInfo
& 
æag
);

179 
S‘Argv
(
¬gc
, cÚ¡ ** 
¬gv
);

183 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
G‘Argvs
();

184 cÚ¡ * 
G‘Argv
();

185 cÚ¡ * 
G‘Argv0
();

186 
ušt32
 
G‘ArgvSum
();

187 cÚ¡ * 
Prog¿mInvoÿtiÚName
();

188 cÚ¡ * 
Prog¿mInvoÿtiÚShÜtName
();

192 cÚ¡ * 
Prog¿mU§ge
();

196 cÚ¡ * 
V”siÚSŒšg
();

210 
boŞ
 
G‘CommªdLšeO±iÚ
(cÚ¡ * 
Çme
, 
¡d
::
¡ršg
* 
OUTPUT
);

214 
boŞ
 
G‘CommªdLšeFÏgInfo
(cÚ¡ * 
Çme
,

215 
CommªdLšeFÏgInfo
* 
OUTPUT
);

220 
CommªdLšeFÏgInfo
 
G‘CommªdLšeFÏgInfoOrD›
(cÚ¡ * 
Çme
);

222 
GFLAGS_DLL_DECL
 
	gFÏgS‘tšgMode
 {

224 
	gSET_FLAGS_VALUE
,

227 
	gSET_FLAG_IF_DEFAULT
,

231 
	gSET_FLAGS_DEFAULT


242 
¡d
::
¡ršg
 
S‘CommªdLšeO±iÚ
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
);

243 
¡d
::
¡ršg
 
S‘CommªdLšeO±iÚW™hMode
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
,

244 
FÏgS‘tšgMode
 
£t_mode
);

275 şas 
	cGFLAGS_DLL_DECL
 
	gFÏgSav”
 {

276 
	gpublic
:

277 
FÏgSav”
();

278 ~
FÏgSav”
();

280 
	g´iv©e
:

281 
şass
 
FÏgSav”Im¶
* 
im¶_
;

283 
FÏgSav”
(const FlagSaver&);

284 
	gİ”©Ü
=(cÚ¡ 
FÏgSav”
&);

286 
__©Œibu‹__
 ((
unu£d
));

292 
¡d
::
¡ršg
 
CommªdlšeFÏgsIÁoSŒšg
();

294 
boŞ
 
R—dFÏgsFromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
æagfecÚ‹Ás
,

295 cÚ¡ * 
´og_Çme
,

296 
boŞ
 
”rÜs_¬e_çl
);

300 
boŞ
 
Aµ’dFÏgsIÁoFe
(cÚ¡ 
¡d
::
¡ršg
& 
f’ame
, cÚ¡ * 
´og_Çme
);

301 
boŞ
 
R—dFromFÏgsFe
(cÚ¡ 
¡d
::
¡ršg
& 
f’ame
, cÚ¡ * 
´og_Çme
,

302 
boŞ
 
”rÜs_¬e_çl
);

313 
boŞ
 
BoŞFromEnv
(cÚ¡ *
v¬Çme
, boŞ 
defv®
);

314 
št32
 
IÁ32FromEnv
(cÚ¡ *
v¬Çme
, iÁ32 
defv®
);

315 
št64
 
IÁ64FromEnv
(cÚ¡ *
v¬Çme
, iÁ64 
defv®
);

316 
ušt64
 
Ušt64FromEnv
(cÚ¡ *
v¬Çme
, ušt64 
defv®
);

317 
DoubËFromEnv
(cÚ¡ *
v¬Çme
, 
defv®
);

318 cÚ¡ *
SŒšgFromEnv
(cÚ¡ *
v¬Çme
, cÚ¡ *
defv®
);

330 
S‘U§geMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
u§ge
);

335 
S‘V”siÚSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
v”siÚ
);

344 #iâdeà
SWIG


345 
ušt32
 
P¬£CommªdLšeFÏgs
(*
¬gc
, *** 
¬gv
, 
boŞ
 
»move_æags
);

359 
ušt32
 
P¬£CommªdLšeNÚH–pFÏgs
(*
¬gc
, *** 
¬gv
,

360 
boŞ
 
»move_æags
);

364 
HªdËCommªdLšeH–pFÏgs
();

370 
AÎowCommªdLšeR•¬sšg
();

378 
R•¬£CommªdLšeNÚH–pFÏgs
();

389 
ShutDownCommªdLšeFÏgs
();

429 şas 
	cGFLAGS_DLL_DECL
 
	gFÏgRegi¡””
 {

430 
	gpublic
:

431 
FÏgRegi¡””
(cÚ¡ * 
Çme
, cÚ¡ * 
ty³
,

432 cÚ¡ * 
h–p
, cÚ¡ * 
f’ame
,

433 * 
cu¼’t_¡Üage
, * 
defv®ue_¡Üage
);

441 cÚ¡ 
kSŒ³dFÏgH–p
[];

445 #iâdeà
SWIG


447 #ià
defšed
(
STRIP_FLAG_HELP
) && STRIP_FLAG_HELP > 0

449 
	#MAYBE_STRIPPED_HELP
(
txt
) \

450 (
çl£
 ? (
txt
è: ::
googË
::
kSŒ³dFÏgH–p
)

	)

452 
	#MAYBE_STRIPPED_HELP
(
txt
è
	)
txt

466 
	#DEFINE_VARIABLE
(
ty³
, 
shÜ‰y³
, 
Çme
, 
v®ue
, 
h–p
) \

467 
Çme¥aû
 
fL
##
shÜ‰y³
 { \

468 cÚ¡ 
ty³
 
FLAGS_nÚo
##
Çme
 = 
v®ue
; \

470 
GFLAGS_DLL_DEFINE_FLAG
 
ty³
 
FLAGS_
##
Çme
 = 
FLAGS_nÚo
##name; \

471 
ty³
 
FLAGS_no
##
Çme
 = 
FLAGS_nÚo
##name; \

472 ::
googË
::
FÏgRegi¡””
 
o_
##
	`Çme
( \

473 #Çme, #ty³, 
	`MAYBE_STRIPPED_HELP
(
h–p
), 
__FILE__
, \

474 &
FLAGS_
##
Çme
, &
FLAGS_no
##name); \

476 
usšg
 
fL
##
shÜ‰y³
::
FLAGS_
##
Çme


	)

486 
Çme¥aû
 
	gfLB
 {

487 
	sCompeAs£¹
 {};

488 
CompeAs£¹
 
	tex³ùed_sizeof_doubË_Ãq_sizeof_boŞ
[

489 ((è!ğ(
boŞ
)) ? 1 : -1];

490 
	g‹m¶©e
<
ty³Çme
 
	gFrom
> 
GFLAGS_DLL_DECL
 
IsBoŞFÏg
(cÚ¡ 
From
& 
äom
);

491 
GFLAGS_DLL_DECL
 
boŞ
 
IsBoŞFÏg
(boŞ 
äom
);

497 
	#DEFINE_boŞ
(
Çme
, 
v®
, 
txt
) \

498 
Çme¥aû
 
fLB
 { \

499 ::
fLB
::
	tCompeAs£¹
 
	tFLAG_
##
	tÇme
##
	t_v®ue_is_nÙ_a_boŞ
[ \

500 ((::
fLB
::
	`IsBoŞFÏg
(
v®
)) != ()) ? 1 : -1]; \

502 
	`DEFINE_VARIABLE
(
boŞ
, 
B
, 
Çme
, 
v®
, 
txt
)

	)

504 
	#DEFINE_št32
(
Çme
, 
v®
, 
txt
) \

505 
	`DEFINE_VARIABLE
(::
googË
::
št32
, 
I
, \

506 
Çme
, 
v®
, 
txt
)

	)

508 
	#DEFINE_št64
(
Çme
, 
v®
, 
txt
) \

509 
	`DEFINE_VARIABLE
(::
googË
::
št64
, 
I64
, \

510 
Çme
, 
v®
, 
txt
)

	)

512 
	#DEFINE_ušt64
(
Çme
,
v®
, 
txt
) \

513 
	`DEFINE_VARIABLE
(::
googË
::
ušt64
, 
U64
, \

514 
Çme
, 
v®
, 
txt
)

	)

516 
	#DEFINE_doubË
(
Çme
, 
v®
, 
txt
) \

517 
	`DEFINE_VARIABLE
(, 
D
, 
Çme
, 
v®
, 
txt
)

	)

526 
Çme¥aû
 
	gfLS
 {

528 
šlše
 
ş¡ršg
* 
dÚt_·ss0toDEFINE_¡ršg
(*
¡ršg¥Ù
,

529 cÚ¡ *
v®ue
) {

530  
Ãw
(
¡ršg¥Ù
è
ş¡ršg
(
v®ue
);

532 
šlše
 
ş¡ršg
* 
dÚt_·ss0toDEFINE_¡ršg
(*
¡ršg¥Ù
,

533 cÚ¡ 
ş¡ršg
 &
v®ue
) {

534  
Ãw
(
¡ršg¥Ù
è
ş¡ršg
(
v®ue
);

536 
šlše
 
ş¡ršg
* 
dÚt_·ss0toDEFINE_¡ršg
(*
¡ršg¥Ù
,

537 
v®ue
);

547 
	#DEFINE_¡ršg
(
Çme
, 
v®
, 
txt
) \

548 
Çme¥aû
 
fLS
 { \

549 
usšg
 ::
fLS
::
ş¡ršg
; \

550 uniÚ { * 
®ign
; 
s
[(
ş¡ršg
)]; } 
s_
##
Çme
[2]; \

551 
ş¡ršg
* cÚ¡ 
FLAGS_no
##
Çme
 = ::
fLS
:: \

552 
	`dÚt_·ss0toDEFINE_¡ršg
(
s_
##
Çme
[0].
s
, \

553 
v®
); \

554 ::
googË
::
FÏgRegi¡””
 
o_
##
	`Çme
( \

555 #Çme, "¡ršg", 
	`MAYBE_STRIPPED_HELP
(
txt
), 
__FILE__
, \

556 
s_
##
Çme
[0].
s
, 
	`Ãw
 (s_##Çme[1].sè
	`ş¡ršg
(*
FLAGS_no
##name)); \

557 
GFLAGS_DLL_DEFINE_FLAG
 
ş¡ršg
& 
FLAGS_
##
Çme
; \

558 
usšg
 
fLS
::
FLAGS_
##
Çme
; \

559 
ş¡ršg
& 
FLAGS_
##
Çme
 = *
FLAGS_no
##name; \

561 
usšg
 
fLS
::
FLAGS_
##
Çme


	)

	@/home/dell/tut/gflags/gflags-2.0/src/gflags/gflags_completions.h

112 #iâdeà
BASE_COMMANDLINEFLAGS_COMPLETIONS_H_


113 
	#BASE_COMMANDLINEFLAGS_COMPLETIONS_H_


	)

121 
	#GFLAGS_DLL_DECL


	)

124 
Çme¥aû
 
	ggoogË
 {

126 
HªdËCommªdLšeCom¶‘iÚs
();

	@/home/dell/tut/gflags/gflags-2.0/src/gflags/gflags_declare.h

37 #iâdeà
BASE_COMMANDLINEFLAGS_DECLARE_H_


38 
	#BASE_COMMANDLINEFLAGS_DECLARE_H_


	)

40 
	~<¡ršg
>

42 
	~<¡dšt.h
>

45 
	~<sys/ty³s.h
>

48 
	~<š‰y³s.h
>

51 
Çme¥aû
 
	ggoogË
 {

53 
št32_t
 
	tšt32
;

54 
ušt32_t
 
	tušt32
;

55 
št64_t
 
	tšt64
;

56 
ušt64_t
 
	tušt64
;

58 
št32_t
 
	tšt32
;

59 
u_št32_t
 
	tušt32
;

60 
št64_t
 
	tšt64
;

61 
u_št64_t
 
	tušt64
;

63 
__št32
 
	tšt32
;

64 
	t__št32
 
	tušt32
;

65 
__št64
 
	tšt64
;

66 
	t__št64
 
	tušt64
;

68 #”rÜ 
Do
 
nÙ
 
know
 
how
 
to
 
defše
 
a
 32-
b™
 
š‹g”
 
quªt™y
 
Ú
 
your
 
sy¡em


73 
	#GFLAGS_DLL_DECLARE_FLAG


	)

75 
Çme¥aû
 
	gfLS
 {

81 
	g¡d
::
	t¡ršg
 
	tş¡ršg
;

85 
	#DECLARE_VARIABLE
(
ty³
, 
shÜ‰y³
, 
Çme
) \

87 
Çme¥aû
 
fL
##
shÜ‰y³
 { 
GFLAGS_DLL_DECLARE_FLAG
 
ty³
 
FLAGS_
##
Çme
; } \

88 
usšg
 
fL
##
shÜ‰y³
::
FLAGS_
##
Çme


	)

90 
	#DECLARE_boŞ
(
Çme
) \

91 
	`DECLARE_VARIABLE
(
boŞ
, 
B
, 
Çme
)

	)

93 
	#DECLARE_št32
(
Çme
) \

94 
	`DECLARE_VARIABLE
(::
googË
::
št32
, 
I
, 
Çme
)

	)

96 
	#DECLARE_št64
(
Çme
) \

97 
	`DECLARE_VARIABLE
(::
googË
::
št64
, 
I64
, 
Çme
)

	)

99 
	#DECLARE_ušt64
(
Çme
) \

100 
	`DECLARE_VARIABLE
(::
googË
::
ušt64
, 
U64
, 
Çme
)

	)

102 
	#DECLARE_doubË
(
Çme
) \

103 
	`DECLARE_VARIABLE
(, 
D
, 
Çme
)

	)

105 
	#DECLARE_¡ršg
(
Çme
) \

106 
Çme¥aû
 
fLS
 { \

107 
usšg
 ::
fLS
::
ş¡ršg
; \

108 
GFLAGS_DLL_DECLARE_FLAG
 ::
fLS
::
ş¡ršg
& 
FLAGS_
##
Çme
; \

110 
usšg
 
fLS
::
FLAGS_
##
Çme


	)

	@/home/dell/tut/gflags/gflags-2.0/src/gflags_completions.cc

50 
	~<cÚfig.h
>

51 
	~<¡dio.h
>

52 
	~<¡dlib.h
>

53 
	~<¡ršg.h
>

55 
	~<£t
>

56 
	~<¡ršg
>

57 
	~<ut™y
>

58 
	~<veùÜ
>

60 
	~<gæags/gæags.h
>

61 
	~"ut.h
"

63 
usšg
 
	g¡d
::
£t
;

64 
usšg
 
	g¡d
::
¡ršg
;

65 
usšg
 
	g¡d
::
veùÜ
;

67 #iâdeà
PATH_SEPARATOR


68 
	#PATH_SEPARATOR
 '/'

	)

71 
DEFINE_¡ršg
(
b_com¶‘iÚ_wÜd
, "",

75 
DEFINE_št32
(
b_com¶‘iÚ_cŞumns
, 80,

78 
_START_GOOGLE_NAMESPACE_


80 
	gÇme¥aû
 {

84 
	gCom¶‘iÚO±iÚs
;

85 
	gNÙabËFÏgs
;

88 
PrštFÏgCom¶‘iÚInfo
();

92 
CªÚiÿlizeCursÜWÜdAndS—rchO±iÚs
(

93 cÚ¡ 
¡ršg
 &
cursÜ_wÜd
,

94 
¡ršg
 *
ÿnÚiÿl_£¬ch_tok’
,

95 
Com¶‘iÚO±iÚs
 *
İtiÚs
);

97 
boŞ
 
RemoveT¿šgCh¬
(
¡ršg
 *
¡r
, 
c
);

101 
FšdM©chšgFÏgs
(

102 cÚ¡ 
veùÜ
<
CommªdLšeFÏgInfo
> &
®l_æags
,

103 cÚ¡ 
Com¶‘iÚO±iÚs
 &
İtiÚs
,

104 cÚ¡ 
¡ršg
 &
m©ch_tok’
,

105 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> *
®l_m©ches
,

106 
¡ršg
 *
lÚge¡_commÚ_´efix
);

108 
boŞ
 
DÛsSšgËFÏgM©ch
(

109 cÚ¡ 
CommªdLšeFÏgInfo
 &
æag
,

110 cÚ¡ 
Com¶‘iÚO±iÚs
 &
İtiÚs
,

111 cÚ¡ 
¡ršg
 &
m©ch_tok’
);

115 
C©egÜizeAÎM©chšgFÏgs
(

116 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
®l_m©ches
,

117 cÚ¡ 
¡ršg
 &
£¬ch_tok’
,

118 cÚ¡ 
¡ršg
 &
moduË
,

119 cÚ¡ 
¡ršg
 &
·ckage_dœ
,

120 
NÙabËFÏgs
 *
nÙabË_æags
);

122 
TryFšdModuËAndPackageDœ
(

123 cÚ¡ 
veùÜ
<
CommªdLšeFÏgInfo
> 
®l_æags
,

124 
¡ršg
 *
moduË
,

125 
¡ršg
 *
·ckage_dœ
);

129 
Fš®izeCom¶‘iÚOuut
(

130 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
m©chšg_æags
,

131 
Com¶‘iÚO±iÚs
 *
İtiÚs
,

132 
NÙabËFÏgs
 *
nÙabË_æags
,

133 
veùÜ
<
¡ršg
> *
com¶‘iÚs
);

135 
R‘r›veUnu£dFÏgs
(

136 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
m©chšg_æags
,

137 cÚ¡ 
NÙabËFÏgs
 &
nÙabË_æags
,

138 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> *
unu£d_æags
);

142 
OuutSšgËGroupW™hLim™
(

143 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
group
,

144 cÚ¡ 
¡ršg
 &
lše_šd’tiÚ
,

145 cÚ¡ 
¡ršg
 &
h—d”
,

146 cÚ¡ 
¡ršg
 &
foÙ”
,

147 
boŞ
 
lÚg_ouut_fÜm©
,

148 *
»maššg_lše_lim™
,

149 
size_t
 *
com¶‘iÚ_–em’ts_added
,

150 
veùÜ
<
¡ršg
> *
com¶‘iÚs
);

153 
¡ršg
 
G‘ShÜtFÏgLše
(

154 cÚ¡ 
¡ršg
 &
lše_šd’tiÚ
,

155 cÚ¡ 
CommªdLšeFÏgInfo
 &
šfo
);

157 
¡ršg
 
G‘LÚgFÏgLše
(

158 cÚ¡ 
¡ršg
 &
lše_šd’tiÚ
,

159 cÚ¡ 
CommªdLšeFÏgInfo
 &
šfo
);

177 
	sCom¶‘iÚO±iÚs
 {

178 
boŞ
 
	gæag_Çme_sub¡ršg_£¬ch
;

179 
boŞ
 
	gæag_loÿtiÚ_sub¡ršg_£¬ch
;

180 
boŞ
 
	gæag_desütiÚ_sub¡ršg_£¬ch
;

181 
boŞ
 
	g»tuº_®l_m©chšg_æags
;

182 
boŞ
 
	gfÜû_no_upd©e
;

191 
	sNÙabËFÏgs
 {

192 
	g£t
<cÚ¡ 
	tCommªdLšeFÏgInfo
 *> 
	tFÏgS‘
;

193 
FÏgS‘
 
	g³rãù_m©ch_æag
;

194 
FÏgS‘
 
	gmoduË_æags
;

195 
FÏgS‘
 
	g·ckage_æags
;

196 
FÏgS‘
 
	gmo¡_commÚ_æags
;

197 
FÏgS‘
 
	gsub·ckage_æags
;

203 
PrštFÏgCom¶‘iÚInfo
() {

204 
¡ršg
 
	gcursÜ_wÜd
 = 
FLAGS_b_com¶‘iÚ_wÜd
;

205 
¡ršg
 
	gÿnÚiÿl_tok’
;

206 
Com¶‘iÚO±iÚs
 
	gİtiÚs
 = { };

207 
CªÚiÿlizeCursÜWÜdAndS—rchO±iÚs
(

208 
cursÜ_wÜd
,

209 &
ÿnÚiÿl_tok’
,

210 &
İtiÚs
);

212 
DVLOG
(1è<< "Id’tif›d cªÚiÿl_tok’: '" << 
	gÿnÚiÿl_tok’
 << "'";

214 
	gveùÜ
<
	gCommªdLšeFÏgInfo
> 
	g®l_æags
;

215 
	g£t
<cÚ¡ 
	gCommªdLšeFÏgInfo
 *> 
	gm©chšg_æags
;

216 
G‘AÎFÏgs
(&
®l_æags
);

217 
DVLOG
(2è<< "Found " << 
	g®l_æags
.
size
() << " flags overall";

219 
¡ršg
 
	glÚge¡_commÚ_´efix
;

220 
FšdM©chšgFÏgs
(

221 
®l_æags
,

222 
İtiÚs
,

223 
ÿnÚiÿl_tok’
,

224 &
m©chšg_æags
,

225 &
lÚge¡_commÚ_´efix
);

226 
DVLOG
(1è<< "Id’tif›d " << 
	gm©chšg_æags
.
size
() << " matching flags";

227 
DVLOG
(1è<< "Id’tif›d " << 
	glÚge¡_commÚ_´efix


229 ià(
	glÚge¡_commÚ_´efix
.
size
(è> 
	gÿnÚiÿl_tok’
.size()) {

232 
DVLOG
(1è<< "ThcommÚ…»fix '" << 
	glÚge¡_commÚ_´efix


233 << "' wa lÚg”hªhtok’ '" << 
	gÿnÚiÿl_tok’


235 
årštf
(
¡dout
, "--%s", 
lÚge¡_commÚ_´efix
.
c_¡r
());

238 ià(
	gm©chšg_æags
.
em±y
()) {

239 
VLOG
(1) << "There were‚o matching flags,„eturning‚othing.";

243 
¡ršg
 
	gmoduË
;

244 
¡ršg
 
	g·ckage_dœ
;

245 
TryFšdModuËAndPackageDœ
(
®l_æags
, &
moduË
, &
·ckage_dœ
);

246 
DVLOG
(1è<< "Id’tif›d moduË: '" << 
	gmoduË
 << "'";

247 
DVLOG
(1è<< "Id’tif›d…ackage_dœ: '" << 
	g·ckage_dœ
 << "'";

249 
NÙabËFÏgs
 
	gnÙabË_æags
;

250 
C©egÜizeAÎM©chšgFÏgs
(

251 
m©chšg_æags
,

252 
ÿnÚiÿl_tok’
,

253 
moduË
,

254 
·ckage_dœ
,

255 &
nÙabË_æags
);

256 
DVLOG
(2) << "Categorized matching flags:";

257 
DVLOG
(2è<< "…”ãù_m©ch: " << 
	gnÙabË_æags
.
	g³rãù_m©ch_æag
.
size
();

258 
DVLOG
(2è<< " moduË: " << 
	gnÙabË_æags
.
	gmoduË_æags
.
size
();

259 
DVLOG
(2è<< "…ackage: " << 
	gnÙabË_æags
.
	g·ckage_æags
.
size
();

260 
DVLOG
(2è<< " mo¡ commÚ: " << 
	gnÙabË_æags
.
	gmo¡_commÚ_æags
.
size
();

261 
DVLOG
(2è<< " sub·ckage: " << 
	gnÙabË_æags
.
	gsub·ckage_æags
.
size
();

263 
	gveùÜ
<
	g¡ršg
> 
	gcom¶‘iÚs
;

264 
Fš®izeCom¶‘iÚOuut
(

265 
m©chšg_æags
,

266 &
İtiÚs
,

267 &
nÙabË_æags
,

268 &
com¶‘iÚs
);

270 ià(
	gİtiÚs
.
	gfÜû_no_upd©e
)

271 
	gcom¶‘iÚs
.
push_back
("~");

273 
DVLOG
(1è<< "Fš®ized w™h " << 
	gcom¶‘iÚs
.
size
()

276 
	gveùÜ
<
	g¡ršg
>::
cÚ¡_™”©Ü
 
™
 = 
com¶‘iÚs
.
begš
();

277 
	g™
 !ğ
com¶‘iÚs
.
’d
();

278 ++
	g™
) {

279 
DVLOG
(9è<< " Com¶‘iÚƒÁry: '" << *
	g™
 << "'";

280 
årštf
(
¡dout
, "%s\n", 
™
->
c_¡r
());

286 
CªÚiÿlizeCursÜWÜdAndS—rchO±iÚs
(

287 cÚ¡ 
¡ršg
 &
cursÜ_wÜd
,

288 
¡ršg
 *
ÿnÚiÿl_£¬ch_tok’
,

289 
Com¶‘iÚO±iÚs
 *
İtiÚs
) {

290 *
	gÿnÚiÿl_£¬ch_tok’
 = 
cursÜ_wÜd
;

291 ià(
	gÿnÚiÿl_£¬ch_tok’
->
em±y
()) ;

294 ià((*
	gÿnÚiÿl_£¬ch_tok’
)[0] == '"')

295 *
ÿnÚiÿl_£¬ch_tok’
 = cªÚiÿl_£¬ch_tok’->
sub¡r
(1);

296 (*
	gÿnÚiÿl_£¬ch_tok’
)[0] == '-')

297 *
ÿnÚiÿl_£¬ch_tok’
 = cªÚiÿl_£¬ch_tok’->
sub¡r
(1);

299 
	gİtiÚs
->
	gæag_Çme_sub¡ršg_£¬ch
 = 
çl£
;

300 
	gİtiÚs
->
	gæag_loÿtiÚ_sub¡ršg_£¬ch
 = 
çl£
;

301 
	gİtiÚs
->
	gæag_desütiÚ_sub¡ršg_£¬ch
 = 
çl£
;

302 
	gİtiÚs
->
	g»tuº_®l_m©chšg_æags
 = 
çl£
;

303 
	gİtiÚs
->
	gfÜû_no_upd©e
 = 
çl£
;

309 
	gfound_que¡iÚ_m¬ks
 = 0;

310 
	gfound_¶us£s
 = 0;

311 
	gŒue
) {

312 ià(
	gfound_que¡iÚ_m¬ks
 < 3 &&

313 
RemoveT¿šgCh¬
(
ÿnÚiÿl_£¬ch_tok’
, '?')) {

314 ++
	gfound_que¡iÚ_m¬ks
;

317 ià(
	gfound_¶us£s
 < 1 &&

318 
RemoveT¿šgCh¬
(
ÿnÚiÿl_£¬ch_tok’
, '+')) {

319 ++
	gfound_¶us£s
;

325 
	gfound_que¡iÚ_m¬ks
) {

326 3: 
İtiÚs
->
æag_desütiÚ_sub¡ršg_£¬ch
 = 
Œue
;

327 2: 
İtiÚs
->
æag_loÿtiÚ_sub¡ršg_£¬ch
 = 
Œue
;

328 1: 
İtiÚs
->
æag_Çme_sub¡ršg_£¬ch
 = 
Œue
;

331 
	gİtiÚs
->
	g»tuº_®l_m©chšg_æags
 = (
found_¶us£s
 > 0);

335 
boŞ
 
RemoveT¿šgCh¬
(
¡ršg
 *
¡r
, 
c
) {

336 ià(
	g¡r
->
em±y
()è 
	gçl£
;

337 ià((*
	g¡r
)[
¡r
->
size
(è- 1] =ğ
c
) {

338 *
¡r
 = sŒ->
sub¡r
(0, sŒ->
size
() - 1);

339  
	gŒue
;

341  
	gçl£
;

346 
FšdM©chšgFÏgs
(

347 cÚ¡ 
veùÜ
<
CommªdLšeFÏgInfo
> &
®l_æags
,

348 cÚ¡ 
Com¶‘iÚO±iÚs
 &
İtiÚs
,

349 cÚ¡ 
¡ršg
 &
m©ch_tok’
,

350 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> *
®l_m©ches
,

351 
¡ršg
 *
lÚge¡_commÚ_´efix
) {

352 
	g®l_m©ches
->
ş—r
();

353 
boŞ
 
	gfœ¡_m©ch
 = 
Œue
;

354 
	gveùÜ
<
	gCommªdLšeFÏgInfo
>::
cÚ¡_™”©Ü
 
™
 = 
®l_æags
.
begš
();

355 
	g™
 !ğ
®l_æags
.
’d
();

356 ++
	g™
) {

357 ià(
DÛsSšgËFÏgM©ch
(*
™
, 
İtiÚs
, 
m©ch_tok’
)) {

358 
	g®l_m©ches
->
š£¹
(&*
™
);

359 ià(
	gfœ¡_m©ch
) {

360 
	gfœ¡_m©ch
 = 
çl£
;

361 *
	glÚge¡_commÚ_´efix
 = 
™
->
Çme
;

363 ià(
	glÚge¡_commÚ_´efix
->
em±y
(è|| 
	g™
->
	gÇme
.empty()) {

364 
	glÚge¡_commÚ_´efix
->
ş—r
();

367 
	g¡ršg
::
size_ty³
 
pos
 = 0;

368 
	gpos
 < 
	glÚge¡_commÚ_´efix
->
size
() &&

369 
	gpos
 < 
	g™
->
	gÇme
.
size
() &&

370 (*
	glÚge¡_commÚ_´efix
)[
pos
] =ğ
™
->
Çme
[pos])

371 ++
pos
;

372 
	glÚge¡_commÚ_´efix
->
”a£
(
pos
);

381 
boŞ
 
DÛsSšgËFÏgM©ch
(

382 cÚ¡ 
CommªdLšeFÏgInfo
 &
æag
,

383 cÚ¡ 
Com¶‘iÚO±iÚs
 &
İtiÚs
,

384 cÚ¡ 
¡ršg
 &
m©ch_tok’
) {

386 
	g¡ršg
::
size_ty³
 
pos
 = 
æag
.
Çme
.
fšd
(
m©ch_tok’
);

387 ià(
	gpos
 =ğ0è 
Œue
;

390 ià(
	gİtiÚs
.
	gæag_Çme_sub¡ršg_£¬ch
 &&

391 
	gpos
 !ğ
¡ršg
::
Åos
)

392  
Œue
;

395 ià(
	gİtiÚs
.
	gæag_loÿtiÚ_sub¡ršg_£¬ch
 &&

396 
	gæag
.
	gf’ame
.
fšd
(
m©ch_tok’
è!ğ
¡ršg
::
Åos
)

397  
Œue
;

401 ià(
	gİtiÚs
.
	gæag_desütiÚ_sub¡ršg_£¬ch
 &&

402 
	gæag
.
	gdesütiÚ
.
fšd
(
m©ch_tok’
è!ğ
¡ršg
::
Åos
)

403  
Œue
;

405  
	gçl£
;

412 
C©egÜizeAÎM©chšgFÏgs
(

413 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
®l_m©ches
,

414 cÚ¡ 
¡ršg
 &
£¬ch_tok’
,

415 cÚ¡ 
¡ršg
 &
moduË
,

416 cÚ¡ 
¡ršg
 &
·ckage_dœ
,

417 
NÙabËFÏgs
 *
nÙabË_æags
) {

418 
	gnÙabË_æags
->
	g³rãù_m©ch_æag
.
ş—r
();

419 
	gnÙabË_æags
->
	gmoduË_æags
.
ş—r
();

420 
	gnÙabË_æags
->
	g·ckage_æags
.
ş—r
();

421 
	gnÙabË_æags
->
	gmo¡_commÚ_æags
.
ş—r
();

422 
	gnÙabË_æags
->
	gsub·ckage_æags
.
ş—r
();

424 
	g£t
<cÚ¡ 
	gCommªdLšeFÏgInfo
 *>::
cÚ¡_™”©Ü
 
™
 =

425 
®l_m©ches
.
begš
();

426 
	g™
 !ğ
®l_m©ches
.
’d
();

427 ++
	g™
) {

428 
DVLOG
(2è<< "Examššg m©ch '" << (*
	g™
)->
	gÇme
 << "'";

429 
DVLOG
(7è<< " f’ame: '" << (*
	g™
)->
	gf’ame
 << "'";

430 
	g¡ršg
::
size_ty³
 
pos
 = 
¡ršg
::
Åos
;

431 ià(!
	g·ckage_dœ
.
em±y
())

432 
	gpos
 = (*
™
)->
f’ame
.
fšd
(
·ckage_dœ
);

433 
	g¡ršg
::
size_ty³
 
¦ash
 = 
¡ršg
::
Åos
;

434 ià(
	gpos
 !ğ
¡ršg
::
Åos
)

435 
¦ash
 = (*
™
)->
f’ame
.
fšd
(

436 
PATH_SEPARATOR
,

437 
pos
 + 
·ckage_dœ
.
size
() + 1);

439 ià((*
	g™
)->
	gÇme
 =ğ
£¬ch_tok’
) {

441 
nÙabË_æags
->
³rãù_m©ch_æag
.
š£¹
(*
™
);

442 
DVLOG
(3) << "Result:…erfect match";

443 } ià(!
	gmoduË
.
em±y
(è&& (*
	g™
)->
	gf’ame
 =ğ
moduË
) {

445 
nÙabË_æags
->
moduË_æags
.
š£¹
(*
™
);

446 
DVLOG
(3) << "Result: module match";

447 } ià(!
	g·ckage_dœ
.
em±y
() &&

448 
	gpos
 !ğ
¡ršg
::
Åos
 && 
¦ash
 == string::npos) {

450 
nÙabË_æags
->
·ckage_æags
.
š£¹
(*
™
);

451 
DVLOG
(3) << "Result:…ackage match";

452 } ià(
	gçl£
) {

455 
DVLOG
(3) << "Result: most-common match";

456 } ià(!
	g·ckage_dœ
.
em±y
() &&

457 
	gpos
 !ğ
¡ršg
::
Åos
 && 
¦ash
 != string::npos) {

459 
nÙabË_æags
->
sub·ckage_æags
.
š£¹
(*
™
);

460 
DVLOG
(3) << "Result: subpackage match";

463 
DVLOG
(3) << "Result:‚ot special match";

467 
PushNameW™hSuffix
(
veùÜ
<
¡ršg
>* 
suffixes
, cÚ¡ * 
suffix
) {

468 
	gsuffixes
->
push_back
(

469 
SŒšgPrštf
("/%s%s", 
Prog¿mInvoÿtiÚShÜtName
(), 
suffix
));

472 
TryFšdModuËAndPackageDœ
(

473 cÚ¡ 
veùÜ
<
CommªdLšeFÏgInfo
> 
®l_æags
,

474 
¡ršg
 *
moduË
,

475 
¡ršg
 *
·ckage_dœ
) {

476 
	gmoduË
->
ş—r
();

477 
	g·ckage_dœ
->
ş—r
();

479 
	gveùÜ
<
	g¡ršg
> 
	gsuffixes
;

484 
PushNameW™hSuffix
(&
suffixes
, ".");

485 
PushNameW™hSuffix
(&
suffixes
, "-main.");

486 
PushNameW™hSuffix
(&
suffixes
, "_main.");

488 
PushNameW™hSuffix
(&
suffixes
, "-test.");

489 
PushNameW™hSuffix
(&
suffixes
, "_test.");

490 
PushNameW™hSuffix
(&
suffixes
, "-unittest.");

491 
PushNameW™hSuffix
(&
suffixes
, "_unittest.");

493 
	gveùÜ
<
	gCommªdLšeFÏgInfo
>::
cÚ¡_™”©Ü
 
™
 = 
®l_æags
.
begš
();

494 
	g™
 !ğ
®l_æags
.
’d
();

495 ++
	g™
) {

496 
	gveùÜ
<
	g¡ršg
>::
cÚ¡_™”©Ü
 
suffix
 = 
suffixes
.
begš
();

497 
	gsuffix
 !ğ
suffixes
.
’d
();

498 ++
	gsuffix
) {

500 ià(
	g™
->
	gf’ame
.
fšd
(*
suffix
è!ğ
¡ršg
::
Åos
) {

501 *
moduË
 = 
™
->
f’ame
;

502 
	g¡ršg
::
size_ty³
 
£p
 = 
™
->
f’ame
.
rfšd
(
PATH_SEPARATOR
);

503 *
	g·ckage_dœ
 = 
™
->
f’ame
.
sub¡r
(0, (
£p
 =ğ
¡ršg
::
Åos
) ? 0 : sep);

511 
	sDi¥ÏyInfoGroup
 {

512 cÚ¡ * 
	gh—d”
;

513 cÚ¡ * 
	gfoÙ”
;

514 
	g£t
<cÚ¡ 
	gCommªdLšeFÏgInfo
 *> *
	ggroup
;

516 
SizeInLšes
() const {

517 
	gsize_š_lšes
 = 
¡©ic_ÿ¡
<>(
group
->
size
()) + 1;

518 ià(
¡¾’
(
h—d”
) > 0) {

519 
	gsize_š_lšes
++;

521 ià(
¡¾’
(
foÙ”
) > 0) {

522 
	gsize_š_lšes
++;

524  
	gsize_š_lšes
;

529 
Fš®izeCom¶‘iÚOuut
(

530 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
m©chšg_æags
,

531 
Com¶‘iÚO±iÚs
 *
İtiÚs
,

532 
NÙabËFÏgs
 *
nÙabË_æags
,

533 
veùÜ
<
¡ršg
> *
com¶‘iÚs
) {

543 
	gmax_desœed_lšes
 =

544 (
İtiÚs
->
»tuº_®l_m©chšg_æags
 ? 999999 : 98);

545 
	glšes_so_çr
 = 0;

547 
	gveùÜ
<
	gDi¥ÏyInfoGroup
> 
	gouut_groups
;

548 
boŞ
 
	g³rãù_m©ch_found
 = 
çl£
;

549 ià(
	glšes_so_çr
 < 
	gmax_desœed_lšes
 &&

550 !
	gnÙabË_æags
->
	g³rãù_m©ch_æag
.
em±y
()) {

551 
	g³rãù_m©ch_found
 = 
Œue
;

552 
Di¥ÏyInfoGroup
 
	ggroup
 =

555 &
nÙabË_æags
->
³rãù_m©ch_æag
 };

556 
	glšes_so_çr
 +ğ
group
.
SizeInLšes
();

557 
	gouut_groups
.
push_back
(
group
);

559 ià(
	glšes_so_çr
 < 
	gmax_desœed_lšes
 &&

560 !
	gnÙabË_æags
->
	gmoduË_æags
.
em±y
()) {

561 
Di¥ÏyInfoGroup
 
	ggroup
 = {

564 &
nÙabË_æags
->
moduË_æags
 };

565 
	glšes_so_çr
 +ğ
group
.
SizeInLšes
();

566 
	gouut_groups
.
push_back
(
group
);

568 ià(
	glšes_so_çr
 < 
	gmax_desœed_lšes
 &&

569 !
	gnÙabË_æags
->
	g·ckage_æags
.
em±y
()) {

570 
Di¥ÏyInfoGroup
 
	ggroup
 = {

573 &
nÙabË_æags
->
·ckage_æags
 };

574 
	glšes_so_çr
 +ğ
group
.
SizeInLšes
();

575 
	gouut_groups
.
push_back
(
group
);

577 ià(
	glšes_so_çr
 < 
	gmax_desœed_lšes
 &&

578 !
	gnÙabË_æags
->
	gmo¡_commÚ_æags
.
em±y
()) {

579 
Di¥ÏyInfoGroup
 
	ggroup
 = {

582 &
nÙabË_æags
->
mo¡_commÚ_æags
 };

583 
	glšes_so_çr
 +ğ
group
.
SizeInLšes
();

584 
	gouut_groups
.
push_back
(
group
);

586 ià(
	glšes_so_çr
 < 
	gmax_desœed_lšes
 &&

587 !
	gnÙabË_æags
->
	gsub·ckage_æags
.
em±y
()) {

588 
Di¥ÏyInfoGroup
 
	ggroup
 = {

591 &
nÙabË_æags
->
sub·ckage_æags
 };

592 
	glšes_so_çr
 +ğ
group
.
SizeInLšes
();

593 
	gouut_groups
.
push_back
(
group
);

596 
	g£t
<cÚ¡ 
	gCommªdLšeFÏgInfo
 *> 
	gobscu»_æags
;

597 ià(
	glšes_so_çr
 < 
	gmax_desœed_lšes
) {

598 
R‘r›veUnu£dFÏgs
(
m©chšg_æags
, *
nÙabË_æags
, &
obscu»_æags
);

599 ià(!
	gobscu»_æags
.
em±y
()) {

600 
Di¥ÏyInfoGroup
 
	ggroup
 = {

603 &
obscu»_æags
 };

604 
	glšes_so_çr
 +ğ
group
.
SizeInLšes
();

605 
	gouut_groups
.
push_back
(
group
);

611 
	g»maššg_lšes
 = 
max_desœed_lšes
;

612 
size_t
 
	gcom¶‘iÚs_ouut
 = 0;

613 
	gšd’t
 = 
¡©ic_ÿ¡
<>(
ouut_groups
.
size
()) - 1;

614 
	gveùÜ
<
	gDi¥ÏyInfoGroup
>::
cÚ¡_™”©Ü
 
™
 =

615 
ouut_groups
.
begš
();

616 
	g™
 !ğ
ouut_groups
.
’d
();

617 ++
	g™
, --
	gšd’t
) {

618 
OuutSšgËGroupW™hLim™
(

619 *
™
->
group
,

620 
¡ršg
(
šd’t
, ' '),

621 
¡ršg
(
™
->
h—d”
),

622 
¡ršg
(
™
->
foÙ”
),

623 
³rãù_m©ch_found
,

624 &
»maššg_lšes
,

625 &
com¶‘iÚs_ouut
,

626 
com¶‘iÚs
);

627 
	g³rãù_m©ch_found
 = 
çl£
;

630 ià(
	gcom¶‘iÚs_ouut
 !ğ
m©chšg_æags
.
size
()) {

631 
İtiÚs
->
fÜû_no_upd©e
 = 
çl£
;

632 
	gcom¶‘iÚs
->
push_back
("~ (Remaining flags hidden) ~");

634 
	gİtiÚs
->
	gfÜû_no_upd©e
 = 
Œue
;

638 
R‘r›veUnu£dFÏgs
(

639 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
m©chšg_æags
,

640 cÚ¡ 
NÙabËFÏgs
 &
nÙabË_æags
,

641 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> *
unu£d_æags
) {

644 
	g£t
<cÚ¡ 
	gCommªdLšeFÏgInfo
 *>::
cÚ¡_™”©Ü
 
™
 =

645 
m©chšg_æags
.
begš
();

646 
	g™
 !ğ
m©chšg_æags
.
’d
();

647 ++
	g™
) {

648 ià(
	gnÙabË_æags
.
	g³rãù_m©ch_æag
.
couÁ
(*
™
) ||

649 
	gnÙabË_æags
.
	gmoduË_æags
.
couÁ
(*
™
) ||

650 
	gnÙabË_æags
.
	g·ckage_æags
.
couÁ
(*
™
) ||

651 
	gnÙabË_æags
.
	gmo¡_commÚ_æags
.
couÁ
(*
™
) ||

652 
	gnÙabË_æags
.
	gsub·ckage_æags
.
couÁ
(*
™
))

654 
	gunu£d_æags
->
š£¹
(*
™
);

660 
OuutSšgËGroupW™hLim™
(

661 cÚ¡ 
£t
<cÚ¡ 
CommªdLšeFÏgInfo
 *> &
group
,

662 cÚ¡ 
¡ršg
 &
lše_šd’tiÚ
,

663 cÚ¡ 
¡ršg
 &
h—d”
,

664 cÚ¡ 
¡ršg
 &
foÙ”
,

665 
boŞ
 
lÚg_ouut_fÜm©
,

666 *
»maššg_lše_lim™
,

667 
size_t
 *
com¶‘iÚ_–em’ts_ouut
,

668 
veùÜ
<
¡ršg
> *
com¶‘iÚs
) {

669 ià(
	ggroup
.
em±y
()) ;

670 ià(!
	gh—d”
.
em±y
()) {

671 ià(*
	g»maššg_lše_lim™
 < 2) ;

672 *
	g»maššg_lše_lim™
 -= 2;

673 
	gcom¶‘iÚs
->
push_back
(
lše_šd’tiÚ
 + 
h—d”
);

674 
	gcom¶‘iÚs
->
push_back
(
lše_šd’tiÚ
 + 
¡ršg
(
h—d”
.
size
(), '-'));

676 
	g£t
<cÚ¡ 
	gCommªdLšeFÏgInfo
 *>::
cÚ¡_™”©Ü
 
™
 = 
group
.
begš
();

677 
	g™
 !ğ
group
.
’d
(è&& *
»maššg_lše_lim™
 > 0;

678 ++
	g™
) {

679 --*
	g»maššg_lše_lim™
;

680 ++*
	gcom¶‘iÚ_–em’ts_ouut
;

681 
	gcom¶‘iÚs
->
push_back
(

682 (
lÚg_ouut_fÜm©


683 ? 
G‘LÚgFÏgLše
(
lše_šd’tiÚ
, **
™
)

684 : 
G‘ShÜtFÏgLše
(
lše_šd’tiÚ
, **
™
)));

686 ià(!
	gfoÙ”
.
em±y
()) {

687 ià(*
	g»maššg_lše_lim™
 < 1) ;

688 --*
	g»maššg_lše_lim™
;

689 
	gcom¶‘iÚs
->
push_back
(
lše_šd’tiÚ
 + 
foÙ”
);

693 
¡ršg
 
G‘ShÜtFÏgLše
(

694 cÚ¡ 
¡ršg
 &
lše_šd’tiÚ
,

695 cÚ¡ 
CommªdLšeFÏgInfo
 &
šfo
) {

696 
¡ršg
 
	g´efix
;

697 
boŞ
 
	gis_¡ršg
 = (
šfo
.
ty³
 == "string");

698 
SSŒšgPrštf
(&
´efix
, "%s--%s [%s%s%s] ",

699 
lše_šd’tiÚ
.
c_¡r
(),

700 
šfo
.
Çme
.
c_¡r
(),

701 (
is_¡ršg
 ? "'" : ""),

702 
šfo
.
deçuÉ_v®ue
.
c_¡r
(),

703 (
is_¡ršg
 ? "'" : ""));

704 
	g»mašd”
 =

705 
FLAGS_b_com¶‘iÚ_cŞumns
 - 
¡©ic_ÿ¡
<>(
´efix
.
size
());

706 
¡ršg
 
	gsuffix
;

707 ià(
	g»mašd”
 > 0)

708 
	gsuffix
 =

709 (
¡©ic_ÿ¡
<>(
šfo
.
desütiÚ
.
size
()è> 
»mašd”
 ?

710 (
šfo
.
desütiÚ
.
sub¡r
(0, 
»mašd”
 - 3è+ "...").
c_¡r
() :

711 
šfo
.
desütiÚ
.
c_¡r
());

712  
	g´efix
 + 
	gsuffix
;

715 
¡ršg
 
G‘LÚgFÏgLše
(

716 cÚ¡ 
¡ršg
 &
lše_šd’tiÚ
,

717 cÚ¡ 
CommªdLšeFÏgInfo
 &
šfo
) {

719 
¡ršg
 
	gouut
 = 
DesüibeOÃFÏg
(
šfo
);

723 
¡ršg
 
	gŞd_æagÇme
 = "-" + 
šfo
.
Çme
;

724 
	gouut
.
»¶aû
(

725 
ouut
.
fšd
(
Şd_æagÇme
),

726 
Şd_æagÇme
.
size
(),

727 "-" + 
Şd_æagÇme
);

730 cÚ¡ 
	gkNewlšeW™hInd’t
[] = "\n ";

731 
	gouut
.
»¶aû
(
ouut
.
fšd
("y³:"), 1, 
¡ršg
(
kNewlšeW™hInd’t
));

732 
	gouut
.
»¶aû
(
ouut
.
fšd
(" deçuÉ:"), 1, 
¡ršg
(
kNewlšeW™hInd’t
));

733 
	gouut
 = 
SŒšgPrštf
("%s Details for '--%s':\n"

735 
lše_šd’tiÚ
.
c_¡r
(),

736 
šfo
.
Çme
.
c_¡r
(),

737 
ouut
.
c_¡r
(),

738 
šfo
.
f’ame
.
c_¡r
());

743 cÚ¡ 
¡ršg
 
lše_of_¥aûs
(
FLAGS_b_com¶‘iÚ_cŞumns
, ' ');

744 cÚ¡ 
	gkDoubËdNewlšes
[] = "\n \n";

745 
	g¡ršg
::
size_ty³
 
Ãwlšes
 = 
ouut
.
fšd
(
kDoubËdNewlšes
);

746 
	gÃwlšes
 !ğ
¡ršg
::
Åos
;

747 
	gÃwlšes
 = 
ouut
.
fšd
(
kDoubËdNewlšes
))

749 
ouut
.
»¶aû
(
Ãwlšes
, (
kDoubËdNewlšes
è- 1, 
¡ršg
("\n"));

751 
	g¡ršg
::
size_ty³
 
Ãwlše
 = 
ouut
.
fšd
('\n');

752 
	gÃwlše
 !ğ
¡ršg
::
Åos
;

753 
	gÃwlše
 = 
ouut
.
fšd
('\n')) {

754 
Ãwlše_pos
 = 
¡©ic_ÿ¡
<>(
Ãwlše
è% 
FLAGS_b_com¶‘iÚ_cŞumns
;

755 
	gmissšg_¥aûs
 = 
FLAGS_b_com¶‘iÚ_cŞumns
 - 
Ãwlše_pos
;

756 
	gouut
.
»¶aû
(
Ãwlše
, 1, 
lše_of_¥aûs
, 1, 
missšg_¥aûs
);

758  
	gouut
;

762 
	$HªdËCommªdLšeCom¶‘iÚs
() {

763 ià(
FLAGS_b_com¶‘iÚ_wÜd
.
	`em±y
()) ;

764 
	`PrštFÏgCom¶‘iÚInfo
();

765 
	`gæags_ex™func
(0);

766 
	}
}

768 
	g_END_GOOGLE_NAMESPACE_


	@/home/dell/tut/gflags/gflags-2.0/src/gflags_nc.cc

34 
	~<gæags/gæags.h
>

36 #ià
defšed
(
TEST_SWAPPED_ARGS
)

38 
DEFINE_boŞ
(
some_boŞ_æag
,

40 
çl£
);

43 #–ià
defšed
(
TEST_INT_INSTEAD_OF_BOOL
)

45 
DEFINE_boŞ
(
some_boŞ_æag_2
,

49 #–ià
defšed
(
TEST_BOOL_IN_QUOTES
)

52 
DEFINE_boŞ
(
some_boŞ_æag_3
,

56 #–ià
defšed
(
TEST_SANITY
)

58 
DEFINE_boŞ
(
some_boŞ_æag_4
,

59 
Œue
,

62 #–ià
defšed
(
TEST_DEFINE_STRING_WITH_0
)

64 
DEFINE_¡ršg
(
some_¡ršg_æag
,

	@/home/dell/tut/gflags/gflags-2.0/src/gflags_reporting.cc

51 
	~<cÚfig.h
>

52 
	~<¡dio.h
>

53 
	~<¡ršg.h
>

54 
	~<ùy³.h
>

55 
	~<as£¹.h
>

56 
	~<¡ršg
>

57 
	~<veùÜ
>

58 
	~<gæags/gæags.h
>

59 
	~<gæags/gæags_com¶‘iÚs.h
>

60 
	~"ut.h
"

62 #iâdeà
PATH_SEPARATOR


63 
	#PATH_SEPARATOR
 '/'

	)

67 
DEFINE_boŞ
(
h–p
, 
çl£
,

69 
DEFINE_boŞ
(
h–pfuÎ
, 
çl£
,

71 
DEFINE_boŞ
(
h–pshÜt
, 
çl£
,

73 
DEFINE_¡ršg
(
h–pÚ
, "",

75 
DEFINE_¡ršg
(
h–pm©ch
, "",

77 
DEFINE_boŞ
(
h–µackage
, 
çl£
,

79 
DEFINE_boŞ
(
h–pxml
, 
çl£
,

81 
DEFINE_boŞ
(
v”siÚ
, 
çl£
,

84 
_START_GOOGLE_NAMESPACE_


86 
usšg
 
	g¡d
::
¡ršg
;

87 
usšg
 
	g¡d
::
veùÜ
;

98 cÚ¡ 
	gkLšeL’gth
 = 80;

100 
	$AddSŒšg
(cÚ¡ 
¡ršg
& 
s
,

101 
¡ršg
* 
fš®_¡ršg
, * 
ch¬s_š_lše
) {

102 cÚ¡ 
¦’
 = 
¡©ic_ÿ¡
<>(
s
.
	`Ëngth
());

103 ià(*
ch¬s_š_lše
 + 1 + 
¦’
 >ğ
kLšeL’gth
) {

104 *
fš®_¡ršg
 += "\n ";

105 *
ch¬s_š_lše
 = 6;

107 *
fš®_¡ršg
 += " ";

108 *
ch¬s_š_lše
 += 1;

110 *
fš®_¡ršg
 +ğ
s
;

111 *
ch¬s_š_lše
 +ğ
¦’
;

112 
	}
}

114 
¡ršg
 
	$PrštSŒšgFÏgsW™hQuÙes
(cÚ¡ 
CommªdLšeFÏgInfo
& 
æag
,

115 cÚ¡ 
¡ršg
& 
‹xt
, 
boŞ
 
cu¼’t
) {

116 cÚ¡ * 
c_¡ršg
 = (
cu¼’t
 ? 
æag
.
cu¼’t_v®ue
.
	`c_¡r
() :

117 
æag
.
deçuÉ_v®ue
.
	`c_¡r
());

118 ià(
	`¡rcmp
(
æag
.
ty³
.
	`c_¡r
(), "string") == 0) {

119  
	`SŒšgPrštf
("%s: \"%s\"", 
‹xt
.
	`c_¡r
(), 
c_¡ršg
);

121  
	`SŒšgPrštf
("%s: %s", 
‹xt
.
	`c_¡r
(), 
c_¡ršg
);

123 
	}
}

127 
¡ršg
 
	$DesüibeOÃFÏg
(cÚ¡ 
CommªdLšeFÏgInfo
& 
æag
) {

128 
¡ršg
 
maš_·¹
;

129 
	`SSŒšgPrštf
(&
maš_·¹
, " -%s (%s)",

130 
æag
.
Çme
.
	`c_¡r
(),

131 
æag
.
desütiÚ
.
	`c_¡r
());

132 cÚ¡ * 
c_¡ršg
 = 
maš_·¹
.
	`c_¡r
();

133 
ch¬s_Ëá
 = 
¡©ic_ÿ¡
<>(
maš_·¹
.
	`Ëngth
());

134 
¡ršg
 
fš®_¡ršg
 = "";

135 
ch¬s_š_lše
 = 0;

137 
	`as£¹
(
ch¬s_Ëá
 =ğ
	`¡¾’
(
c_¡ršg
));

138 cÚ¡ * 
Ãwlše
 = 
	`¡rchr
(
c_¡ršg
, '\n');

139 ià(
Ãwlše
 =ğ
NULL
 && 
ch¬s_š_lše
+
ch¬s_Ëá
 < 
kLšeL’gth
) {

141 
fš®_¡ršg
 +ğ
c_¡ršg
;

142 
ch¬s_š_lše
 +ğ
ch¬s_Ëá
;

145 ià(
Ãwlše
 !ğ
NULL
 &&‚ewlš- 
c_¡ršg
 < 
kLšeL’gth
 - 
ch¬s_š_lše
) {

146 
n
 = 
¡©ic_ÿ¡
<>(
Ãwlše
 - 
c_¡ršg
);

147 
fš®_¡ršg
.
	`­³nd
(
c_¡ršg
, 
n
);

148 
ch¬s_Ëá
 -ğ
n
 + 1;

149 
c_¡ršg
 +ğ
n
 + 1;

152 
wh™e¥aû
 = 
kLšeL’gth
-
ch¬s_š_lše
-1;

153  
wh™e¥aû
 > 0 && !
	`is¥aû
(
c_¡ršg
[whitespace]) ) {

154 --
wh™e¥aû
;

156 ià(
wh™e¥aû
 <= 0) {

159 
fš®_¡ršg
 +ğ
c_¡ršg
;

160 
ch¬s_š_lše
 = 
kLšeL’gth
;

163 
fš®_¡ršg
 +ğ
	`¡ršg
(
c_¡ršg
, 
wh™e¥aû
);

164 
ch¬s_š_lše
 +ğ
wh™e¥aû
;

165 
	`is¥aû
(
c_¡ršg
[
wh™e¥aû
])) ++whitespace;

166 
c_¡ršg
 +ğ
wh™e¥aû
;

167 
ch¬s_Ëá
 -ğ
wh™e¥aû
;

169 ià(*
c_¡ršg
 == '\0')

171 
	`SŒšgAµ’dF
(&
fš®_¡ršg
, "\n ");

172 
ch¬s_š_lše
 = 6;

176 
	`AddSŒšg
(
	`¡ršg
("ty³: "è+ 
æag
.
ty³
, &
fš®_¡ršg
, &
ch¬s_š_lše
);

181 
	`AddSŒšg
(
	`PrštSŒšgFÏgsW™hQuÙes
(
æag
, "deçuÉ", 
çl£
), &
fš®_¡ršg
,

182 &
ch¬s_š_lše
);

183 ià(!
æag
.
is_deçuÉ
) {

184 
	`AddSŒšg
(
	`PrštSŒšgFÏgsW™hQuÙes
(
æag
, "cu¼’y", 
Œue
),

185 &
fš®_¡ršg
, &
ch¬s_š_lše
);

188 
	`SŒšgAµ’dF
(&
fš®_¡ršg
, "\n");

189  
fš®_¡ršg
;

190 
	}
}

193 
¡ršg
 
	$XMLText
(cÚ¡ 
¡ršg
& 
txt
) {

194 
¡ršg
 
ªs
 = 
txt
;

195 
¡ršg
::
size_ty³
 
pos
 = 0; (po ğ
ªs
.
	`fšd
("&",…os)è!ğ¡ršg::
Åos
; )

196 
ªs
.
	`»¶aû
(
pos
++, 1, "&amp;");

197 
¡ršg
::
size_ty³
 
pos
 = 0; (po ğ
ªs
.
	`fšd
("<",…os)è!ğ¡ršg::
Åos
; )

198 
ªs
.
	`»¶aû
(
pos
++, 1, "&lt;");

199  
ªs
;

200 
	}
}

202 
	$AddXMLTag
(
¡ršg
* 
r
, cÚ¡ * 
g
, cÚ¡ sŒšg& 
txt
) {

203 
	`SŒšgAµ’dF
(
r
, "<%s>%s</%s>", 
g
, 
	`XMLText
(
txt
).
	`c_¡r
(),ag);

204 
	}
}

207 
¡ršg
 
	$DesüibeOÃFÏgInXML
(cÚ¡ 
CommªdLšeFÏgInfo
& 
æag
) {

211 
¡ršg
 
	`r
("<flag>");

212 
	`AddXMLTag
(&
r
, "fe", 
æag
.
f’ame
);

213 
	`AddXMLTag
(&
r
, "Çme", 
æag
.
Çme
);

214 
	`AddXMLTag
(&
r
, "m—nšg", 
æag
.
desütiÚ
);

215 
	`AddXMLTag
(&
r
, "deçuÉ", 
æag
.
deçuÉ_v®ue
);

216 
	`AddXMLTag
(&
r
, "cu¼’t", 
æag
.
cu¼’t_v®ue
);

217 
	`AddXMLTag
(&
r
, "ty³", 
æag
.
ty³
);

218 
r
 += "</flag>";

219  
r
;

220 
	}
}

235 cÚ¡ * 
	$Ba£Çme
(cÚ¡ * 
f’ame
) {

236 cÚ¡ * 
£p
 = 
	`¡¼chr
(
f’ame
, 
PATH_SEPARATOR
);

237  
£p
 ? s• + 1 : 
f’ame
;

238 
	}
}

240 
¡ršg
 
	$DœÇme
(cÚ¡ 
¡ršg
& 
f’ame
) {

241 
¡ršg
::
size_ty³
 
£p
 = 
f’ame
.
	`rfšd
(
PATH_SEPARATOR
);

242  
f’ame
.
	`sub¡r
(0, (
£p
 =ğ
¡ršg
::
Åos
) ? 0 : sep);

243 
	}
}

246 
boŞ
 
FeM©chesSub¡ršg
(cÚ¡ 
¡ršg
& 
f’ame
,

247 cÚ¡ 
veùÜ
<
¡ršg
>& 
sub¡ršgs
) {

248 
	gveùÜ
<
	g¡ršg
>::
cÚ¡_™”©Ü
 
rg‘
 = 
sub¡ršgs
.
begš
();

249 
	grg‘
 !ğ
sub¡ršgs
.
’d
();

250 ++
	grg‘
) {

251 ià(
¡r¡r
(
f’ame
.
c_¡r
(), 
rg‘
->c_¡r()è!ğ
NULL
)

252  
Œue
;

257 ià(!
	grg‘
->
em±y
() && (*target)[0] == '/' &&

258 
¡ºcmp
(
f’ame
.
c_¡r
(), 
rg‘
->c_str() + 1,

259 
¡¾’
(
rg‘
->
c_¡r
() + 1)) == 0)

260  
Œue
;

262  
	gçl£
;

270 
ShowU§geW™hFÏgsM©chšg
(cÚ¡ *
¬gv0
,

271 cÚ¡ 
veùÜ
<
¡ršg
> &
sub¡ršgs
) {

272 
årštf
(
¡dout
, "%s: %s\n", 
Ba£Çme
(
¬gv0
), 
Prog¿mU§ge
());

274 
	gveùÜ
<
	gCommªdLšeFÏgInfo
> 
	gæags
;

275 
G‘AÎFÏgs
(&
æags
);

277 
¡ršg
 
	gÏ¡_f’ame
;

278 
boŞ
 
	gfœ¡_dœeùÜy
 = 
Œue
;

279 
boŞ
 
	gfound_m©ch
 = 
çl£
;

280 
	gveùÜ
<
	gCommªdLšeFÏgInfo
>::
cÚ¡_™”©Ü
 
æag
 = 
æags
.
begš
();

281 
	gæag
 !ğ
æags
.
’d
();

282 ++
	gæag
) {

283 ià(
	gsub¡ršgs
.
em±y
() ||

284 
FeM©chesSub¡ršg
(
æag
->
f’ame
, 
sub¡ršgs
)) {

286 ià(
	gæag
->
	gdesütiÚ
 =ğ
kSŒ³dFÏgH–p
) ;

287 
	gfound_m©ch
 = 
Œue
;

288 ià(
	gæag
->
	gf’ame
 !ğ
Ï¡_f’ame
) {

289 ià(
DœÇme
(
æag
->
f’ame
è!ğDœÇme(
Ï¡_f’ame
)) {

290 ià(!
fœ¡_dœeùÜy
)

291 
årštf
(
¡dout
, "\n\n");

292 
	gfœ¡_dœeùÜy
 = 
çl£
;

294 
årštf
(
¡dout
, "\À FÏg äom %s:\n", 
æag
->
f’ame
.
c_¡r
());

295 
	gÏ¡_f’ame
 = 
æag
->
f’ame
;

298 
årštf
(
¡dout
, "%s", 
DesüibeOÃFÏg
(*
æag
).
c_¡r
());

301 ià(!
	gfound_m©ch
 && !
	gsub¡ršgs
.
em±y
()) {

302 
årštf
(
¡dout
, "\n No modules matched: use -help\n");

306 
	$ShowU§geW™hFÏgsRe¡riù
(cÚ¡ *
¬gv0
, cÚ¡ *
»¡riù
) {

307 
veùÜ
<
¡ršg
> 
sub¡ršgs
;

308 ià(
»¡riù
 !ğ
NULL
 && *restrict != '\0') {

309 
sub¡ršgs
.
	`push_back
(
»¡riù
);

311 
	`ShowU§geW™hFÏgsM©chšg
(
¬gv0
, 
sub¡ršgs
);

312 
	}
}

314 
	$ShowU§geW™hFÏgs
(cÚ¡ *
¬gv0
) {

315 
	`ShowU§geW™hFÏgsRe¡riù
(
¬gv0
, "");

316 
	}
}

319 
	$ShowXMLOfFÏgs
(cÚ¡ *
´og_Çme
) {

320 
veùÜ
<
CommªdLšeFÏgInfo
> 
æags
;

321 
	`G‘AÎFÏgs
(&
æags
);

324 
	`årštf
(
¡dout
, "<?xml version=\"1.0\"?>\n");

326 
	`årštf
(
¡dout
, "<AllFlags>\n");

328 
	`årštf
(
¡dout
, "<program>%s</program>\n",

329 
	`XMLText
(
	`Ba£Çme
(
´og_Çme
)).
	`c_¡r
());

330 
	`årštf
(
¡dout
, "<usage>%s</usage>\n",

331 
	`XMLText
(
	`Prog¿mU§ge
()).
	`c_¡r
());

333 
veùÜ
<
CommªdLšeFÏgInfo
>::
cÚ¡_™”©Ü
 
æag
 = 
æags
.
	`begš
();

334 
æag
 !ğ
æags
.
	`’d
();

335 ++
æag
) {

336 ià(
æag
->
desütiÚ
 !ğ
kSŒ³dFÏgH–p
)

337 
	`årštf
(
¡dout
, "%s\n", 
	`DesüibeOÃFÏgInXML
(*
æag
).
	`c_¡r
());

340 
	`årštf
(
¡dout
, "</AllFlags>\n");

341 
	}
}

348 
	$ShowV”siÚ
() {

349 cÚ¡ * 
v”siÚ_¡ršg
 = 
	`V”siÚSŒšg
();

350 ià(
v”siÚ_¡ršg
 && *version_string) {

351 
	`årštf
(
¡dout
, "%s version %s\n",

352 
	`Prog¿mInvoÿtiÚShÜtName
(), 
v”siÚ_¡ršg
);

354 
	`årštf
(
¡dout
, "%s\n", 
	`Prog¿mInvoÿtiÚShÜtName
());

356 #ià!
	`defšed
(
NDEBUG
)

357 
	`årštf
(
¡dout
, "Debug build (NDEBUG‚ot #defined)\n");

359 
	}
}

361 
Aµ’dProgÇmeSŒšgs
(
veùÜ
<
¡ršg
>* 
sub¡ršgs
,

362 cÚ¡ * 
´ogÇme
) {

363 
¡ršg
 
r
("/");

364 
	gr
 +ğ
´ogÇme
;

365 
	gsub¡ršgs
->
push_back
(
r
 + ".");

366 
	gsub¡ršgs
->
push_back
(
r
 + "-main.");

367 
	gsub¡ršgs
->
push_back
(
r
 + "_main.");

378 
	$HªdËCommªdLšeH–pFÏgs
() {

379 cÚ¡ * 
´ogÇme
 = 
	`Prog¿mInvoÿtiÚShÜtName
();

381 
	`HªdËCommªdLšeCom¶‘iÚs
();

383 
veùÜ
<
¡ršg
> 
sub¡ršgs
;

384 
	`Aµ’dProgÇmeSŒšgs
(&
sub¡ršgs
, 
´ogÇme
);

386 ià(
FLAGS_h–pshÜt
) {

389 
	`ShowU§geW™hFÏgsM©chšg
(
´ogÇme
, 
sub¡ršgs
);

390 
	`gæags_ex™func
(1);

392 } ià(
FLAGS_h–p
 || 
FLAGS_h–pfuÎ
) {

394 
	`ShowU§geW™hFÏgsRe¡riù
(
´ogÇme
, "");

395 
	`gæags_ex™func
(1);

397 } ià(!
FLAGS_h–pÚ
.
	`em±y
()) {

398 
¡ršg
 
»¡riù
 = "/" + 
FLAGS_h–pÚ
 + ".";

399 
	`ShowU§geW™hFÏgsRe¡riù
(
´ogÇme
, 
»¡riù
.
	`c_¡r
());

400 
	`gæags_ex™func
(1);

402 } ià(!
FLAGS_h–pm©ch
.
	`em±y
()) {

403 
	`ShowU§geW™hFÏgsRe¡riù
(
´ogÇme
, 
FLAGS_h–pm©ch
.
	`c_¡r
());

404 
	`gæags_ex™func
(1);

406 } ià(
FLAGS_h–µackage
) {

412 
veùÜ
<
CommªdLšeFÏgInfo
> 
æags
;

413 
	`G‘AÎFÏgs
(&
æags
);

414 
¡ršg
 
Ï¡_·ckage
;

415 
veùÜ
<
CommªdLšeFÏgInfo
>::
cÚ¡_™”©Ü
 
æag
 = 
æags
.
	`begš
();

416 
æag
 !ğ
æags
.
	`’d
();

417 ++
æag
) {

418 ià(!
	`FeM©chesSub¡ršg
(
æag
->
f’ame
, 
sub¡ršgs
))

420 cÚ¡ 
¡ršg
 
·ckage
 = 
	`DœÇme
(
æag
->
f’ame
) + "/";

421 ià(
·ckage
 !ğ
Ï¡_·ckage
) {

422 
	`ShowU§geW™hFÏgsRe¡riù
(
´ogÇme
, 
·ckage
.
	`c_¡r
());

423 
	`VLOG
(7è<< "Found…ackage: " << 
·ckage
;

424 ià(!
Ï¡_·ckage
.
	`em±y
()) {

425 
	`LOG
(
WARNING
è<< "MuÉË…ackage cÚš‡ fe=" << 
´ogÇme
;

427 
Ï¡_·ckage
 = 
·ckage
;

430 ià(
Ï¡_·ckage
.
	`em±y
()) {

431 
	`LOG
(
WARNING
è<< "UÇbËØfšd‡…ackagfÜ fe=" << 
´ogÇme
;

433 
	`gæags_ex™func
(1);

435 } ià(
FLAGS_h–pxml
) {

436 
	`ShowXMLOfFÏgs
(
´ogÇme
);

437 
	`gæags_ex™func
(1);

439 } ià(
FLAGS_v”siÚ
) {

440 
	`ShowV”siÚ
();

442 
	`gæags_ex™func
(0);

445 
	}
}

447 
	g_END_GOOGLE_NAMESPACE_


	@/home/dell/tut/gflags/gflags-2.0/src/gflags_strip_flags_test.cc

37 
	~"cÚfig_fÜ_un™‹¡s.h
"

38 
	#STRIP_FLAG_HELP
 1

	)

39 
	~<gæags/gæags.h
>

41 
	~<¡dio.h
>

43 
usšg
 
	gGOOGLE_NAMESPACE
::
S‘U§geMes§ge
;

44 
usšg
 
	gGOOGLE_NAMESPACE
::
P¬£CommªdLšeFÏgs
;

47 
DEFINE_boŞ
(
‹¡
, 
Œue
, "Thisext should be stripped out");

49 
	$maš
(
¬gc
, ** 
¬gv
) {

50 
	`S‘U§geMes§ge
("Usage message");

51 
	`P¬£CommªdLšeFÏgs
(&
¬gc
, &
¬gv
, 
çl£
);

58 
	`puts
(
¬gv
[0]);

61 
	}
}

	@/home/dell/tut/gflags/gflags-2.0/src/gflags_unittest.cc

35 
	~"cÚfig_fÜ_un™‹¡s.h
"

36 
	~<gæags/gæags.h
>

38 
	~<m©h.h
>

39 
	~<¡dio.h
>

40 
	~<¡dlib.h
>

41 
	~<¡ršg.h
>

42 #ifdeà
HAVE_UNISTD_H


43 
	~<uni¡d.h
>

45 
	~<veùÜ
>

46 
	~<¡ršg
>

47 
	~"ut.h
"

48 
TEST_INIT


49 
	gEXPECT_DEATH_INIT


55 #iâdeà
_MSC_VER


56 
	~<googË/gæags_com¶‘iÚs.h
>

57 (*
	gunu£d_â
)(èğ&
GOOGLE_NAMESPACE
::
HªdËCommªdLšeCom¶‘iÚs
;

60 
usšg
 
	g¡d
::
¡ršg
;

61 
usšg
 
	g¡d
::
veùÜ
;

62 
usšg
 
	gGOOGLE_NAMESPACE
::
št32
;

63 
usšg
 
	gGOOGLE_NAMESPACE
::
FÏgRegi¡””
;

64 
usšg
 
	gGOOGLE_NAMESPACE
::
SŒšgFromEnv
;

65 
usšg
 
	gGOOGLE_NAMESPACE
::
Regi¡”FÏgV®id©Ü
;

66 
usšg
 
	gGOOGLE_NAMESPACE
::
CommªdLšeFÏgInfo
;

67 
usšg
 
	gGOOGLE_NAMESPACE
::
G‘AÎFÏgs
;

69 
DEFINE_¡ršg
(
‹¡_tmpdœ
, "/tmp/gflags_unittest", "Dir we use foremp files");

70 #ifdeà
_MSC_VER


71 
DEFINE_¡ršg
(
¤cdœ
, "..\\..",

74 
DEFINE_¡ršg
(
¤cdœ
, 
SŒšgFromEnv
("SRCDIR", "."),

78 
DECLARE_¡ršg
(
Œyäom’v
);

80 
DEFINE_boŞ
(
‹¡_boŞ
, 
çl£
, "tests bool-ness");

81 
DEFINE_št32
(
‹¡_št32
, -1, "");

82 
DEFINE_št64
(
‹¡_št64
, -2, "");

83 
DEFINE_ušt64
(
‹¡_ušt64
, 2, "");

84 
DEFINE_doubË
(
‹¡_doubË
, -1.0, "");

85 
DEFINE_¡ršg
(
‹¡_¡ršg
, "initial", "");

91 
DEFINE_boŞ
(
‹¡_boŞ_w™h_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_qu™e_lÚg_Çme
,

92 
çl£
,

95 
DEFINE_¡ršg
(
‹¡_¡r1
, "initial", "");

96 
DEFINE_¡ršg
(
‹¡_¡r2
, "initial", "");

97 
DEFINE_¡ršg
(
‹¡_¡r3
, "initial", "");

100 
DEFINE_¡ršg
(
‹¡_Œyäom’v
, "initial", "");

103 
	gchªg—bË_v¬
 = 12;

104 
DEFINE_št32
(
chªg—bË_v¬
, ++changeable_var, "");

106 
	gchªg—bË_boŞ_v¬
 = 8008;

107 
DEFINE_boŞ
(
chªg—bË_boŞ_v¬
, ++changeable_bool_var == 8009, "");

109 
	gchªg—bË_¡ršg_v¬
 = 0;

110 
¡ršg
 
	$Chªg—bËSŒšg
() {

111 
r
[] = {
¡©ic_ÿ¡
<>('0' + ++
chªg—bË_¡ršg_v¬
), '\0'};

112  
r
;

113 
	}
}

114 
DEFINE_¡ršg
(
chªg—bË_¡ršg_v¬
, 
Chªg—bËSŒšg
(), "");

120 
DEFINE_boŞ
(
unu£d_boŞ
, 
Œue
, "unused bool-ness");

121 
DEFINE_št32
(
unu£d_št32
, -1001, "");

122 
DEFINE_št64
(
unu£d_št64
, -2001, "");

123 
DEFINE_ušt64
(
unu£d_ušt64
, 2000, "");

124 
DEFINE_doubË
(
unu£d_doubË
, -1000.0, "");

125 
DEFINE_¡ršg
(
unu£d_¡ršg
, "unused", "");

128 
DEFINE_boŞ
(
chªged_boŞ1
, 
çl£
, "changed");

129 
DEFINE_boŞ
(
chªged_boŞ2
, 
çl£
, "changed");

130 
DEFINE_boŞ
(
lÚg_h–p¡ršg
, 
çl£
,

144 
boŞ
 
	$AlwaysFa
(cÚ¡ * 
æag
, 
boŞ
 
v®ue
è{  v®u=ğ
çl£
; 
	}
}

145 
DEFINE_boŞ
(
®ways_ç
, 
çl£
, "will failo validate when you set it");

146 
	gÇme¥aû
 {

147 
boŞ
 
	gdummy
 = 
Regi¡”FÏgV®id©Ü
(&
FLAGS_®ways_ç
, 
AlwaysFa
);

151 
boŞ
 
	$D—dlockIfCªtLockInV®id©Üs
(cÚ¡ * 
æag
, 
boŞ
 
v®ue
) {

152 ià(!
v®ue
) {

153  
Œue
;

155 
veùÜ
<
CommªdLšeFÏgInfo
> 
dummy
;

156 
	`G‘AÎFÏgs
(&
dummy
);

157  
Œue
;

158 
	}
}

159 
DEFINE_boŞ
(
d—dlock_if_ÿÁ_lock
,

160 
çl£
,

163 
	gÇme¥aû
 {

164 
boŞ
 
	gdummy1
 = 
Regi¡”FÏgV®id©Ü
(&
FLAGS_d—dlock_if_ÿÁ_lock
,

165 
D—dlockIfCªtLockInV®id©Üs
);

168 
	#MAKEFLAG
(
x
è
	`DEFINE_št32
(
‹¡_æag_num
##x, x, "Te¡ fÏg")

	)

171 
	#MAKEFLAG10
(
x
) \

172 
	`MAKEFLAG
(
x
##0); \

173 
	`MAKEFLAG
(
x
##1); \

174 
	`MAKEFLAG
(
x
##2); \

175 
	`MAKEFLAG
(
x
##3); \

176 
	`MAKEFLAG
(
x
##4); \

177 
	`MAKEFLAG
(
x
##5); \

178 
	`MAKEFLAG
(
x
##6); \

179 
	`MAKEFLAG
(
x
##7); \

180 
	`MAKEFLAG
(
x
##8); \

181 
	`MAKEFLAG
(
x
##9)

	)

184 
	#MAKEFLAG100
(
x
) \

185 
	`MAKEFLAG10
(
x
##0); \

186 
	`MAKEFLAG10
(
x
##1); \

187 
	`MAKEFLAG10
(
x
##2); \

188 
	`MAKEFLAG10
(
x
##3); \

189 
	`MAKEFLAG10
(
x
##4); \

190 
	`MAKEFLAG10
(
x
##5); \

191 
	`MAKEFLAG10
(
x
##6); \

192 
	`MAKEFLAG10
(
x
##7); \

193 
	`MAKEFLAG10
(
x
##8); \

194 
	`MAKEFLAG10
(
x
##9)

	)

199 
MAKEFLAG100
(1);

200 
MAKEFLAG100
(2);

201 
MAKEFLAG100
(3);

202 
MAKEFLAG100
(4);

203 
MAKEFLAG100
(5);

204 
MAKEFLAG100
(6);

205 
MAKEFLAG100
(7);

206 
MAKEFLAG100
(8);

207 
MAKEFLAG100
(9);

208 
MAKEFLAG100
(10);

209 
MAKEFLAG100
(11);

210 
MAKEFLAG100
(12);

211 
MAKEFLAG100
(13);

212 
MAKEFLAG100
(14);

213 
MAKEFLAG100
(15);

215 #undeà
MAKEFLAG100


216 #undeà
MAKEFLAG10


217 #undeà
MAKEFLAG


222 
Çme¥aû
 
	gfLI
 {

223 cÚ¡ 
št32
 
	gFLAGS_nÚÙldæag1
 = 12;

224 
št32
 
	gFLAGS_dæag1
 = 
FLAGS_nÚÙldæag1
;

225 
št32
 
	gFLAGS_nÙldæag1
 = 
FLAGS_nÚÙldæag1
;

226 
FÏgRegi¡””
 
o_dæag1
(

229 &
FLAGS_dæag1
, &
FLAGS_nÙldæag1
);

231 
usšg
 
	gfLI
::
FLAGS_dæag1
;

233 
Çme¥aû
 
	gfLI
 {

234 cÚ¡ 
št32
 
	gFLAGS_nÚÙldæag2
 = 23;

235 
št32
 
	gFLAGS_dæag2
 = 
FLAGS_nÚÙldæag2
;

236 
št32
 
	gFLAGS_nÙldæag2
 = 
FLAGS_nÚÙldæag2
;

237 
FÏgRegi¡””
 
o_dæag2
(

240 &
FLAGS_dæag2
, &
FLAGS_nÙldæag2
);

242 
usšg
 
	gfLI
::
FLAGS_dæag2
;

244 
_START_GOOGLE_NAMESPACE_


246 
	gÇme¥aû
 {

249 
¡ršg
 
TmpFe
(cÚ¡ sŒšg& 
ba£Çme
) {

250 #ifdeà
_MSC_VER


251  
	gFLAGS_‹¡_tmpdœ
 + "\\" + 
	gba£Çme
;

253  
	gFLAGS_‹¡_tmpdœ
 + "/" + 
	gba£Çme
;

259 cÚ¡ * 
G‘FÏgFeFÏg
() {

260 #ifdeà
_MSC_VER


261 cÚ¡ 
¡ršg
 
	gæagfe
 = 
FLAGS_¤cdœ
 + "\\src\\gflags_unittest_flagfile";

263 cÚ¡ 
¡ršg
 
	gæagfe
 = 
FLAGS_¤cdœ
 + "/src/gflags_unittest_flagfile";

265 cÚ¡ 
¡ršg
 
	gæagfe_æag
 = sŒšg("--æagfe="è+ 
æagfe
;

266  
	gæagfe_æag
.
c_¡r
();

272 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

273 
	gCompeAs£¹Ty³sEqu®
;

275 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

276 
	gCompeAs£¹Ty³sEqu®
<
	gT
, T> {

280 
	g‹m¶©e
 <
ty³Çme
 
	gEx³ùed
,y³Çm
	gAùu®
>

281 
As£¹IsTy³
(
Aùu®
& 
x
) {

282 
	gCompeAs£¹Ty³sEqu®
<
	gEx³ùed
, 
	gAùu®
>();

286 
TEST
(
FÏgTy³s
, FlagTypes) {

287 
	gAs£¹IsTy³
<
	gboŞ
>(
	gFLAGS_‹¡_boŞ
);

288 
	gAs£¹IsTy³
<
	gšt32
>(
	gFLAGS_‹¡_št32
);

289 
	gAs£¹IsTy³
<
	gšt64
>(
	gFLAGS_‹¡_št64
);

290 
	gAs£¹IsTy³
<
	gušt64
>(
	gFLAGS_‹¡_ušt64
);

291 
	gAs£¹IsTy³
<>(
	gFLAGS_‹¡_doubË
);

292 
	gAs£¹IsTy³
<
	g¡ršg
>(
	gFLAGS_‹¡_¡ršg
);

295 #ifdeà
GTEST_HAS_DEATH_TEST


303 
TEST
(
R—dFÏgsFromSŒšgD—thTe¡
, 
H–pM©ch
) {

304 
EXPECT_DEATH
(
R—dFÏgsFromSŒšg
("-h–pm©ch=ba£", 
G‘Argv0
(), 
Œue
),

310 
TEST
(
R—dFÏgsFromSŒšgD—thTe¡
, 
H–pXml
) {

311 
EXPECT_DEATH
(
R—dFÏgsFromSŒšg
("-h–pxml", 
G‘Argv0
(), 
Œue
),

318 
Te¡FÏgSŒšg
(cÚ¡ 
¡ršg
& 
æags
,

319 cÚ¡ 
¡ršg
& 
ex³ùed_¡ršg
,

320 
boŞ
 
ex³ùed_boŞ
,

321 
št32
 
ex³ùed_št32
,

322 
ex³ùed_doubË
) {

323 
EXPECT_TRUE
(
R—dFÏgsFromSŒšg
(
æags
,

324 
G‘Argv0
(),

326 
Œue
));

328 
EXPECT_EQ
(
ex³ùed_¡ršg
, 
FLAGS_‹¡_¡ršg
);

329 
EXPECT_EQ
(
ex³ùed_boŞ
, 
FLAGS_‹¡_boŞ
);

330 
EXPECT_EQ
(
ex³ùed_št32
, 
FLAGS_‹¡_št32
);

331 
EXPECT_DOUBLE_EQ
(
ex³ùed_doubË
, 
FLAGS_‹¡_doubË
);

336 
TEST
(
FÏgFeTe¡
, 
R—dFÏgsFromSŒšg
) {

337 
Te¡FÏgSŒšg
(

351 
Œue
,

355 
Te¡FÏgSŒšg
(

364 
çl£
,

370 
TEST
(
FÏgFeTe¡
, 
F’amesOurfeLa¡
) {

371 
	gFLAGS_‹¡_¡ršg
 = "initial";

372 
	gFLAGS_‹¡_boŞ
 = 
çl£
;

373 
	gFLAGS_‹¡_št32
 = -1;

374 
	gFLAGS_‹¡_doubË
 = -1.0;

375 
Te¡FÏgSŒšg
(

391 
çl£
,

396 
TEST
(
FÏgFeTe¡
, 
F’amesOurfeFœ¡
) {

397 
	gFLAGS_‹¡_¡ršg
 = "initial";

398 
	gFLAGS_‹¡_boŞ
 = 
çl£
;

399 
	gFLAGS_‹¡_št32
 = -1;

400 
	gFLAGS_‹¡_doubË
 = -1.0;

401 
Te¡FÏgSŒšg
(

417 
Œue
,

422 #ifdeà
HAVE_FNMATCH_H


423 
TEST
(
FÏgFeTe¡
, 
F’amesOurfeGlob
) {

424 
	gFLAGS_‹¡_¡ršg
 = "initial";

425 
	gFLAGS_‹¡_boŞ
 = 
çl£
;

426 
	gFLAGS_‹¡_št32
 = -1;

427 
	gFLAGS_‹¡_doubË
 = -1.0;

428 
Te¡FÏgSŒšg
(

444 
Œue
,

449 
TEST
(
FÏgFeTe¡
, 
F’amesOurfeInBigLi¡
) {

450 
	gFLAGS_‹¡_¡ršg
 = "initial";

451 
	gFLAGS_‹¡_boŞ
 = 
çl£
;

452 
	gFLAGS_‹¡_št32
 = -1;

453 
	gFLAGS_‹¡_doubË
 = -1.0;

454 
Te¡FÏgSŒšg
(

470 
Œue
,

477 
TEST
(
FÏgFeTe¡
, 
FaR—dFÏgsFromSŒšg
) {

478 
	gFLAGS_‹¡_št32
 = 119;

479 
¡ršg
 
æags
("#†et's make sure it can update values\n"

485 
EXPECT_FALSE
(
R—dFÏgsFromSŒšg
(
æags
,

486 
G‘Argv0
(),

488 
çl£
));

490 
EXPECT_EQ
(119, 
FLAGS_‹¡_št32
);

491 
EXPECT_EQ
("š™Ÿl", 
FLAGS_‹¡_¡ršg
);

495 
TEST
(
S‘FÏgV®ueTe¡
, 
Ordš¬yV®ues
) {

496 
EXPECT_EQ
("š™Ÿl", 
FLAGS_‹¡_¡r1
);

498 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r1", "£cÚd", 
SET_FLAG_IF_DEFAULT
);

499 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r1
);

501 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r1", "thœd", 
SET_FLAG_IF_DEFAULT
);

502 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r1
);

504 
	gFLAGS_‹¡_¡r1
 = "initial";

505 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r1", "thœd", 
SET_FLAG_IF_DEFAULT
);

506 
EXPECT_EQ
("š™Ÿl", 
FLAGS_‹¡_¡r1
);

508 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r1", "thœd", 
SET_FLAGS_VALUE
);

509 
EXPECT_EQ
("thœd", 
FLAGS_‹¡_¡r1
);

511 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r1", "fou¹h", 
SET_FLAGS_DEFAULT
);

512 
EXPECT_EQ
("thœd", 
FLAGS_‹¡_¡r1
);

515 
EXPECT_EQ
("š™Ÿl", 
FLAGS_‹¡_¡r2
);

517 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r2", "£cÚd", 
SET_FLAGS_DEFAULT
);

518 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r2
);

520 
	gFLAGS_‹¡_¡r2
 = "extra";

521 
EXPECT_EQ
("exŒa", 
FLAGS_‹¡_¡r2
);

523 
	gFLAGS_‹¡_¡r2
 = "second";

524 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r2", "thœd", 
SET_FLAGS_DEFAULT
);

525 
EXPECT_EQ
("thœd", 
FLAGS_‹¡_¡r2
);

527 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r2", "fou¹h", 
SET_FLAG_IF_DEFAULT
);

528 
EXPECT_EQ
("fou¹h", 
FLAGS_‹¡_¡r2
);

530 
EXPECT_EQ
("š™Ÿl", 
FLAGS_‹¡_¡r3
);

532 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r3", "£cÚd", 
SET_FLAGS_DEFAULT
);

533 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r3
);

535 
	gFLAGS_‹¡_¡r3
 = "third";

536 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r3", "fou¹h", 
SET_FLAGS_DEFAULT
);

537 
EXPECT_EQ
("thœd", 
FLAGS_‹¡_¡r3
);

539 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r3", "fou¹h", 
SET_FLAG_IF_DEFAULT
);

540 
EXPECT_EQ
("thœd", 
FLAGS_‹¡_¡r3
);

542 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r3", "fou¹h", 
SET_FLAGS_VALUE
);

543 
EXPECT_EQ
("fou¹h", 
FLAGS_‹¡_¡r3
);

551 
TEST
(
S‘FÏgV®ueTe¡
, 
Exû±iÚ®V®ues
) {

552 #ià
defšed
(
isšf
è&& !defšed(
__MINGW32__
)

553 
EXPECT_EQ
("test_double seto inf\n",

554 
S‘CommªdLšeO±iÚ
("test_double", "inf"));

555 
EXPECT_INF
(
FLAGS_‹¡_doubË
);

557 
EXPECT_EQ
("test_double seto inf\n",

558 
S‘CommªdLšeO±iÚ
("test_double", "INF"));

559 
EXPECT_INF
(
FLAGS_‹¡_doubË
);

563 
EXPECT_EQ
("",

564 
S‘CommªdLšeO±iÚ
("test_double", "0.1xxx"));

565 
EXPECT_EQ
("",

566 
S‘CommªdLšeO±iÚ
("test_double", " "));

567 
EXPECT_EQ
("",

568 
S‘CommªdLšeO±iÚ
("test_double", ""));

569 #ià
defšed
(
isšf
è&& !defšed(
__MINGW32__
)

570 
EXPECT_EQ
("test_double seto -inf\n",

571 
S‘CommªdLšeO±iÚ
("test_double", "-inf"));

572 
EXPECT_INF
(
FLAGS_‹¡_doubË
);

573 
EXPECT_GT
(0, 
FLAGS_‹¡_doubË
);

576 #ià
defšed
(
i¢ª
è&& !defšed(
__MINGW32__
)

577 
EXPECT_EQ
("test_double seto‚an\n",

578 
S‘CommªdLšeO±iÚ
("test_double", "NaN"));

579 
EXPECT_NAN
(
FLAGS_‹¡_doubË
);

584 
TEST
(
S‘FÏgV®ueTe¡
, 
Difã»ÁRadiûs
) {

585 
EXPECT_EQ
("test_int32 seto 12\n",

586 
S‘CommªdLšeO±iÚ
("test_int32", "12"));

588 
EXPECT_EQ
("test_int32 seto 16\n",

589 
S‘CommªdLšeO±iÚ
("test_int32", "0x10"));

591 
EXPECT_EQ
("test_int32 seto 34\n",

592 
S‘CommªdLšeO±iÚ
("test_int32", "0X22"));

595 
EXPECT_EQ
("test_int32 seto 10\n",

596 
S‘CommªdLšeO±iÚ
("test_int32", "010"));

600 
TEST
(
S‘FÏgV®ueTe¡
, 
IÎeg®V®ues
) {

601 
	gFLAGS_‹¡_boŞ
 = 
Œue
;

602 
	gFLAGS_‹¡_št32
 = 119;

603 
	gFLAGS_‹¡_št64
 = 1191;

604 
	gFLAGS_‹¡_ušt64
 = 11911;

606 
EXPECT_EQ
("",

607 
S‘CommªdLšeO±iÚ
("test_bool", "12"));

609 
EXPECT_EQ
("",

610 
S‘CommªdLšeO±iÚ
("test_int32", "7000000000000"));

614 
EXPECT_EQ
("",

615 
S‘CommªdLšeO±iÚ
("test_uint64", "-1"));

618 
EXPECT_EQ
("",

619 
S‘CommªdLšeO±iÚ
("test_int64", "not‡‚umber!"));

622 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_bool", ""));

623 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_int32", ""));

624 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_int64", ""));

625 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_uint64", ""));

626 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_double", ""));

627 
EXPECT_EQ
("‹¡_¡ršg s‘Ø\n", 
S‘CommªdLšeO±iÚ
("test_string", ""));

629 
EXPECT_TRUE
(
FLAGS_‹¡_boŞ
);

630 
EXPECT_EQ
(119, 
FLAGS_‹¡_št32
);

631 
EXPECT_EQ
(1191, 
FLAGS_‹¡_št64
);

632 
EXPECT_EQ
(11911, 
FLAGS_‹¡_ušt64
);

637 
TEST
(
MaüoArgs
, 
Ev®u©eOnû
) {

638 
EXPECT_EQ
(13, 
FLAGS_chªg—bË_v¬
);

640 
EXPECT_EQ
(13, 
FLAGS_chªg—bË_v¬
);

642 
EXPECT_EQ
(13, 
chªg—bË_v¬
);

644 
S‘CommªdLšeO±iÚW™hMode
("chªg—bË_v¬", "21", 
SET_FLAG_IF_DEFAULT
);

645 
EXPECT_EQ
(21, 
FLAGS_chªg—bË_v¬
);

648 
TEST
(
MaüoArgs
, 
Ev®u©eOnûBoŞ
) {

649 
EXPECT_TRUE
(
FLAGS_chªg—bË_boŞ_v¬
);

650 
EXPECT_TRUE
(
FLAGS_chªg—bË_boŞ_v¬
);

651 
EXPECT_EQ
(8009, 
chªg—bË_boŞ_v¬
);

652 
S‘CommªdLšeO±iÚW™hMode
("changeable_bool_var", "false",

653 
SET_FLAG_IF_DEFAULT
);

654 
EXPECT_FALSE
(
FLAGS_chªg—bË_boŞ_v¬
);

657 
TEST
(
MaüoArgs
, 
Ev®u©eOnûSŒšgs
) {

658 
EXPECT_EQ
("1", 
FLAGS_chªg—bË_¡ršg_v¬
);

659 
EXPECT_EQ
("1", 
FLAGS_chªg—bË_¡ršg_v¬
);

660 
EXPECT_EQ
(1, 
chªg—bË_¡ršg_v¬
);

661 
S‘CommªdLšeO±iÚW™hMode
("changeable_string_var", "different",

662 
SET_FLAG_IF_DEFAULT
);

663 
EXPECT_EQ
("difã»Á", 
FLAGS_chªg—bË_¡ršg_v¬
);

667 
TEST
(
FromEnvTe¡
, 
Leg®V®ues
) {

668 
£‹nv
("BOOL_VAL1", "true", 1);

669 
£‹nv
("BOOL_VAL2", "false", 1);

670 
£‹nv
("BOOL_VAL3", "1", 1);

671 
£‹nv
("BOOL_VAL4", "F", 1);

672 
EXPECT_TRUE
(
BoŞFromEnv
("BOOL_VAL1", 
çl£
));

673 
EXPECT_FALSE
(
BoŞFromEnv
("BOOL_VAL2", 
Œue
));

674 
EXPECT_TRUE
(
BoŞFromEnv
("BOOL_VAL3", 
çl£
));

675 
EXPECT_FALSE
(
BoŞFromEnv
("BOOL_VAL4", 
Œue
));

676 
EXPECT_TRUE
(
BoŞFromEnv
("BOOL_VAL_UNKNOWN", 
Œue
));

677 
EXPECT_FALSE
(
BoŞFromEnv
("BOOL_VAL_UNKNOWN", 
çl£
));

679 
£‹nv
("INT_VAL1", "1", 1);

680 
£‹nv
("INT_VAL2", "-1", 1);

681 
EXPECT_EQ
(1, 
IÁ32FromEnv
("INT_VAL1", 10));

682 
EXPECT_EQ
(-1, 
IÁ32FromEnv
("INT_VAL2", 10));

683 
EXPECT_EQ
(10, 
IÁ32FromEnv
("INT_VAL_UNKNOWN", 10));

685 
£‹nv
("INT_VAL3", "1099511627776", 1);

686 
EXPECT_EQ
(1, 
IÁ64FromEnv
("INT_VAL1", 20));

687 
EXPECT_EQ
(-1, 
IÁ64FromEnv
("INT_VAL2", 20));

688 
EXPECT_EQ
(1099511627776LL, 
IÁ64FromEnv
("INT_VAL3", 20));

689 
EXPECT_EQ
(20, 
IÁ64FromEnv
("INT_VAL_UNKNOWN", 20));

691 
EXPECT_EQ
(1, 
Ušt64FromEnv
("INT_VAL1", 30));

692 
EXPECT_EQ
(1099511627776ULL, 
Ušt64FromEnv
("INT_VAL3", 30));

693 
EXPECT_EQ
(30, 
Ušt64FromEnv
("INT_VAL_UNKNOWN", 30));

696 
£‹nv
("DOUBLE_VAL1", "0.0", 1);

697 
£‹nv
("DOUBLE_VAL2", "1.0", 1);

698 
£‹nv
("DOUBLE_VAL3", "-1.0", 1);

699 
EXPECT_EQ
(0.0, 
DoubËFromEnv
("DOUBLE_VAL1", 40.0));

700 
EXPECT_EQ
(1.0, 
DoubËFromEnv
("DOUBLE_VAL2", 40.0));

701 
EXPECT_EQ
(-1.0, 
DoubËFromEnv
("DOUBLE_VAL3", 40.0));

702 
EXPECT_EQ
(40.0, 
DoubËFromEnv
("DOUBLE_VAL_UNKNOWN", 40.0));

704 
£‹nv
("STRING_VAL1", "", 1);

705 
£‹nv
("STRING_VAL2", "my happy string!", 1);

706 
EXPECT_STREQ
("", 
SŒšgFromEnv
("STRING_VAL1", "unknown"));

707 
EXPECT_STREQ
("my h­py sŒšg!", 
SŒšgFromEnv
("STRING_VAL2", "unknown"));

708 
EXPECT_STREQ
("unknown", 
SŒšgFromEnv
("STRING_VAL_UNKNOWN", "unknown"));

711 #ifdeà
GTEST_HAS_DEATH_TEST


713 
TEST
(
FromEnvD—thTe¡
, 
IÎeg®V®ues
) {

714 
£‹nv
("BOOL_BAD1", "sorue!", 1);

715 
£‹nv
("BOOL_BAD2", "", 1);

716 
EXPECT_DEATH
(
BoŞFromEnv
("BOOL_BAD1", 
çl£
), "error…arsingƒnv variable");

717 
EXPECT_DEATH
(
BoŞFromEnv
("BOOL_BAD2", 
Œue
), "error…arsingƒnv variable");

719 
£‹nv
("INT_BAD1", "one", 1);

720 
£‹nv
("INT_BAD2", "100000000000000000", 1);

721 
£‹nv
("INT_BAD3", "0xx10", 1);

722 
£‹nv
("INT_BAD4", "", 1);

723 
EXPECT_DEATH
(
IÁ32FromEnv
("INT_BAD1", 10), "error…arsingƒnv variable");

724 
EXPECT_DEATH
(
IÁ32FromEnv
("INT_BAD2", 10), "error…arsingƒnv variable");

725 
EXPECT_DEATH
(
IÁ32FromEnv
("INT_BAD3", 10), "error…arsingƒnv variable");

726 
EXPECT_DEATH
(
IÁ32FromEnv
("INT_BAD4", 10), "error…arsingƒnv variable");

728 
£‹nv
("BIGINT_BAD1", "18446744073709551616000", 1);

729 
EXPECT_DEATH
(
IÁ64FromEnv
("INT_BAD1", 20), "error…arsingƒnv variable");

730 
EXPECT_DEATH
(
IÁ64FromEnv
("INT_BAD3", 20), "error…arsingƒnv variable");

731 
EXPECT_DEATH
(
IÁ64FromEnv
("INT_BAD4", 20), "error…arsingƒnv variable");

732 
EXPECT_DEATH
(
IÁ64FromEnv
("BIGINT_BAD1", 200), "error…arsingƒnv variable");

734 
£‹nv
("BIGINT_BAD2", "-1", 1);

735 
EXPECT_DEATH
(
Ušt64FromEnv
("INT_BAD1", 30), "error…arsingƒnv variable");

736 
EXPECT_DEATH
(
Ušt64FromEnv
("INT_BAD3", 30), "error…arsingƒnv variable");

737 
EXPECT_DEATH
(
Ušt64FromEnv
("INT_BAD4", 30), "error…arsingƒnv variable");

738 
EXPECT_DEATH
(
Ušt64FromEnv
("BIGINT_BAD1", 30), "error…arsingƒnv variable");

741 
EXPECT_DEATH
(
Ušt64FromEnv
("BIGINT_BAD2", 30), "error…arsingƒnv variable");

744 
£‹nv
("DOUBLE_BAD1", "0.0.0", 1);

745 
£‹nv
("DOUBLE_BAD2", "", 1);

746 
EXPECT_DEATH
(
DoubËFromEnv
("DOUBLE_BAD1", 40.0), "error…arsingƒnv variable");

747 
EXPECT_DEATH
(
DoubËFromEnv
("DOUBLE_BAD2", 40.0), "error…arsingƒnv variable");

753 
TEST
(
FÏgSav”Te¡
, 
CªSaveSŒšgFÏgS‹s
) {

761 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r2", "£cÚd", 
SET_FLAGS_VALUE
);

767 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r3", "£cÚd", 
SET_FLAGS_DEFAULT
);

776 
FÏgSav”
 
	gfs
;

780 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r1", "£cÚd", 
SET_FLAGS_VALUE
);

781 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r1
);

787 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r2", "thœd", 
SET_FLAGS_DEFAULT
);

788 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r2
);

794 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r3", "thœd", 
SET_FLAGS_VALUE
);

795 
EXPECT_EQ
("thœd", 
FLAGS_‹¡_¡r3
);

807 
EXPECT_EQ
("š™Ÿl", 
FLAGS_‹¡_¡r1
);

809 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r1", "£cÚd", 
SET_FLAG_IF_DEFAULT
);

810 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r1
);

813 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r2
);

815 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r2", "fou¹h", 
SET_FLAG_IF_DEFAULT
);

816 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r2
);

819 
EXPECT_EQ
("£cÚd", 
FLAGS_‹¡_¡r3
);

821 
S‘CommªdLšeO±iÚW™hMode
("‹¡_¡r3", "fou¹h", 
SET_FLAG_IF_DEFAULT
);

822 
EXPECT_EQ
("fou¹h", 
FLAGS_‹¡_¡r3
);

827 
TEST
(
FÏgSav”Te¡
, 
CªSaveV¬iousTy³dFÏgV®ues
) {

829 
	gFLAGS_‹¡_boŞ
 = 
çl£
;

830 
	gFLAGS_‹¡_št32
 = -1;

831 
	gFLAGS_‹¡_št64
 = -2;

832 
	gFLAGS_‹¡_ušt64
 = 3;

833 
	gFLAGS_‹¡_doubË
 = 4.0;

834 
	gFLAGS_‹¡_¡ršg
 = "good";

838 
FÏgSav”
 
	gfs
;

841 
	gFLAGS_‹¡_boŞ
 = 
Œue
;

842 
	gFLAGS_‹¡_št32
 = -5;

843 
	gFLAGS_‹¡_št64
 = -6;

844 
	gFLAGS_‹¡_ušt64
 = 7;

845 
	gFLAGS_‹¡_doubË
 = 8.0;

846 
	gFLAGS_‹¡_¡ršg
 = "bad";

852 
EXPECT_FALSE
(
FLAGS_‹¡_boŞ
);

853 
EXPECT_EQ
(-1, 
FLAGS_‹¡_št32
);

854 
EXPECT_EQ
(-2, 
FLAGS_‹¡_št64
);

855 
EXPECT_EQ
(3, 
FLAGS_‹¡_ušt64
);

856 
EXPECT_DOUBLE_EQ
(4.0, 
FLAGS_‹¡_doubË
);

857 
EXPECT_EQ
("good", 
FLAGS_‹¡_¡ršg
);

860 
TEST
(
G‘AÎFÏgsTe¡
, 
Ba£Te¡
) {

861 
	gveùÜ
<
	gCommªdLšeFÏgInfo
> 
	gæags
;

862 
G‘AÎFÏgs
(&
æags
);

863 
boŞ
 
	gfound_‹¡_boŞ
 = 
çl£
;

864 
	gveùÜ
<
	gCommªdLšeFÏgInfo
>::
cÚ¡_™”©Ü
 
i
;

865 
	gi
 = 
æags
.
begš
(); i !ğæags.
’d
(); ++i) {

866 ià(
	gi
->
	gÇme
 == "test_bool") {

867 
found_‹¡_boŞ
 = 
Œue
;

868 
EXPECT_EQ
(
i
->
ty³
, "bool");

869 
EXPECT_EQ
(
i
->
deçuÉ_v®ue
, "false");

870 
EXPECT_EQ
(
i
->
æag_±r
, &
FLAGS_‹¡_boŞ
);

874 
EXPECT_TRUE
(
found_‹¡_boŞ
);

877 
TEST
(
ShowU§geW™hFÏgsTe¡
, 
Ba£Te¡
) {

883 
TEST
(
ShowU§geW™hFÏgsRe¡riùTe¡
, 
Ba£Te¡
) {

891 
TEST
(
G‘ArgvsTe¡
, 
Ba£Te¡
) {

892 
	gveùÜ
<
	g¡ršg
> 
	g¬gvs
 = 
G‘Argvs
();

893 
EXPECT_EQ
(4, 
¬gvs
.
size
());

894 
EXPECT_EQ
("/‹¡/¬gv/fÜ/gæags_un™‹¡", 
¬gvs
[0]);

895 
EXPECT_EQ
("¬gv 2", 
¬gvs
[1]);

896 
EXPECT_EQ
("3rd‡rgv", 
¬gvs
[2]);

897 
EXPECT_EQ
("¬gv #4", 
¬gvs
[3]);

900 
TEST
(
G‘ArgvTe¡
, 
Ba£Te¡
) {

901 
EXPECT_STREQ
("/test/argv/for/gflags_unittest "

902 "¬gv 2 3rd‡rgv‡rgv #4", 
G‘Argv
());

905 
TEST
(
G‘Argv0Te¡
, 
Ba£Te¡
) {

906 
EXPECT_STREQ
("/‹¡/¬gv/fÜ/gæags_un™‹¡", 
G‘Argv0
());

909 
TEST
(
G‘ArgvSumTe¡
, 
Ba£Te¡
) {

912 
EXPECT_EQ
(4904, 
G‘ArgvSum
());

915 
TEST
(
Prog¿mInvoÿtiÚNameTe¡
, 
Ba£Te¡
) {

916 
EXPECT_STREQ
("/test/argv/for/gflags_unittest",

917 
Prog¿mInvoÿtiÚName
());

920 
TEST
(
Prog¿mInvoÿtiÚShÜtNameTe¡
, 
Ba£Te¡
) {

921 
EXPECT_STREQ
("gæags_un™‹¡", 
Prog¿mInvoÿtiÚShÜtName
());

924 
TEST
(
Prog¿mU§geTe¡
, 
Ba£Te¡
) {

925 
EXPECT_STREQ
("/test/argv/for/gflags_unittest: "

927 
Prog¿mU§ge
());

930 
TEST
(
G‘CommªdLšeO±iÚTe¡
, 
NameExi¡sAndIsDeçuÉ
) {

931 
¡ršg
 
v®ue
("will be changed");

932 
boŞ
 
	gr
 = 
G‘CommªdLšeO±iÚ
("‹¡_boŞ", &
v®ue
);

933 
EXPECT_TRUE
(
r
);

934 
EXPECT_EQ
("çl£", 
v®ue
);

936 
	gr
 = 
G‘CommªdLšeO±iÚ
("‹¡_št32", &
v®ue
);

937 
EXPECT_TRUE
(
r
);

938 
EXPECT_EQ
("-1", 
v®ue
);

941 
TEST
(
G‘CommªdLšeO±iÚTe¡
, 
NameExi¡sAndWasAssigÃd
) {

942 
	gFLAGS_‹¡_št32
 = 400;

943 
¡ršg
 
v®ue
("will be changed");

944 cÚ¡ 
boŞ
 
	gr
 = 
G‘CommªdLšeO±iÚ
("‹¡_št32", &
v®ue
);

945 
EXPECT_TRUE
(
r
);

946 
EXPECT_EQ
("400", 
v®ue
);

949 
TEST
(
G‘CommªdLšeO±iÚTe¡
, 
NameExi¡sAndWasS‘
) {

950 
S‘CommªdLšeO±iÚ
("test_int32", "700");

951 
¡ršg
 
v®ue
("will be changed");

952 cÚ¡ 
boŞ
 
	gr
 = 
G‘CommªdLšeO±iÚ
("‹¡_št32", &
v®ue
);

953 
EXPECT_TRUE
(
r
);

954 
EXPECT_EQ
("700", 
v®ue
);

957 
TEST
(
G‘CommªdLšeO±iÚTe¡
, 
NameExi¡sAndWasNÙS‘
) {

960 
S‘CommªdLšeO±iÚW™hMode
("‹¡_št32", "800", 
SET_FLAGS_DEFAULT
);

961 
¡ršg
 
v®ue
("will be changed");

962 cÚ¡ 
boŞ
 
	gr
 = 
G‘CommªdLšeO±iÚ
("‹¡_št32", &
v®ue
);

963 
EXPECT_TRUE
(
r
);

964 
EXPECT_EQ
("800", 
v®ue
);

965 
EXPECT_TRUE
(
G‘CommªdLšeFÏgInfoOrD›
("‹¡_št32").
is_deçuÉ
);

968 
TEST
(
G‘CommªdLšeO±iÚTe¡
, 
NameExi¡sAndWasCÚd™iÚ®lyS‘
) {

969 
S‘CommªdLšeO±iÚW™hMode
("‹¡_št32", "900", 
SET_FLAG_IF_DEFAULT
);

970 
¡ršg
 
v®ue
("will be changed");

971 cÚ¡ 
boŞ
 
	gr
 = 
G‘CommªdLšeO±iÚ
("‹¡_št32", &
v®ue
);

972 
EXPECT_TRUE
(
r
);

973 
EXPECT_EQ
("900", 
v®ue
);

976 
TEST
(
G‘CommªdLšeO±iÚTe¡
, 
NameDÛsNÙExi¡
) {

977 
¡ršg
 
v®ue
("will‚ot be changed");

978 cÚ¡ 
boŞ
 
	gr
 = 
G‘CommªdLšeO±iÚ
("‹¡_št3210", &
v®ue
);

979 
EXPECT_FALSE
(
r
);

980 
EXPECT_EQ
("wÈnÙ bchªged", 
v®ue
);

983 
TEST
(
G‘CommªdLšeFÏgInfoTe¡
, 
FÏgExi¡s
) {

984 
CommªdLšeFÏgInfo
 
	gšfo
;

985 
boŞ
 
	gr
 = 
G‘CommªdLšeFÏgInfo
("‹¡_št32", &
šfo
);

986 
EXPECT_TRUE
(
r
);

987 
EXPECT_EQ
("‹¡_št32", 
šfo
.
Çme
);

988 
EXPECT_EQ
("št32", 
šfo
.
ty³
);

989 
EXPECT_EQ
("", 
šfo
.
desütiÚ
);

990 
EXPECT_EQ
("-1", 
šfo
.
cu¼’t_v®ue
);

991 
EXPECT_EQ
("-1", 
šfo
.
deçuÉ_v®ue
);

992 
EXPECT_TRUE
(
šfo
.
is_deçuÉ
);

993 
EXPECT_FALSE
(
šfo
.
has_v®id©Ü_â
);

994 
EXPECT_EQ
(&
FLAGS_‹¡_št32
, 
šfo
.
æag_±r
);

996 
	gFLAGS_‹¡_boŞ
 = 
Œue
;

997 
	gr
 = 
G‘CommªdLšeFÏgInfo
("‹¡_boŞ", &
šfo
);

998 
EXPECT_TRUE
(
r
);

999 
EXPECT_EQ
("‹¡_boŞ", 
šfo
.
Çme
);

1000 
EXPECT_EQ
("boŞ", 
šfo
.
ty³
);

1001 
EXPECT_EQ
("‹¡ boŞ-Ãss", 
šfo
.
desütiÚ
);

1002 
EXPECT_EQ
("Œue", 
šfo
.
cu¼’t_v®ue
);

1003 
EXPECT_EQ
("çl£", 
šfo
.
deçuÉ_v®ue
);

1004 
EXPECT_FALSE
(
šfo
.
is_deçuÉ
);

1005 
EXPECT_FALSE
(
šfo
.
has_v®id©Ü_â
);

1006 
EXPECT_EQ
(&
FLAGS_‹¡_boŞ
, 
šfo
.
æag_±r
);

1008 
	gFLAGS_‹¡_boŞ
 = 
çl£
;

1009 
	gr
 = 
G‘CommªdLšeFÏgInfo
("‹¡_boŞ", &
šfo
);

1010 
EXPECT_TRUE
(
r
);

1011 
EXPECT_EQ
("‹¡_boŞ", 
šfo
.
Çme
);

1012 
EXPECT_EQ
("boŞ", 
šfo
.
ty³
);

1013 
EXPECT_EQ
("‹¡ boŞ-Ãss", 
šfo
.
desütiÚ
);

1014 
EXPECT_EQ
("çl£", 
šfo
.
cu¼’t_v®ue
);

1015 
EXPECT_EQ
("çl£", 
šfo
.
deçuÉ_v®ue
);

1016 
EXPECT_FALSE
(
šfo
.
is_deçuÉ
);

1017 
EXPECT_FALSE
(
šfo
.
has_v®id©Ü_â
);

1018 
EXPECT_EQ
(&
FLAGS_‹¡_boŞ
, 
šfo
.
æag_±r
);

1021 
TEST
(
G‘CommªdLšeFÏgInfoTe¡
, 
FÏgDÛsNÙExi¡
) {

1022 
CommªdLšeFÏgInfo
 
	gšfo
;

1024 
	gšfo
.
	gÇme
 = "name";

1025 
	gšfo
.
	gty³
 = "type";

1026 
	gšfo
.
	gcu¼’t_v®ue
 = "curr";

1027 
	gšfo
.
	gdeçuÉ_v®ue
 = "def";

1028 
	gšfo
.
	gf’ame
 = "/";

1029 
	gšfo
.
	gis_deçuÉ
 = 
çl£
;

1030 
	gšfo
.
	ghas_v®id©Ü_â
 = 
Œue
;

1031 
	gšfo
.
	gæag_±r
 = 
NULL
;

1032 
boŞ
 
	gr
 = 
G‘CommªdLšeFÏgInfo
("‹¡_št3210", &
šfo
);

1033 
EXPECT_FALSE
(
r
);

1034 
EXPECT_EQ
("Çme", 
šfo
.
Çme
);

1035 
EXPECT_EQ
("ty³", 
šfo
.
ty³
);

1036 
EXPECT_EQ
("", 
šfo
.
desütiÚ
);

1037 
EXPECT_EQ
("cu¼", 
šfo
.
cu¼’t_v®ue
);

1038 
EXPECT_EQ
("def", 
šfo
.
deçuÉ_v®ue
);

1039 
EXPECT_EQ
("/", 
šfo
.
f’ame
);

1040 
EXPECT_FALSE
(
šfo
.
is_deçuÉ
);

1041 
EXPECT_TRUE
(
šfo
.
has_v®id©Ü_â
);

1042 
EXPECT_EQ
(
NULL
, 
šfo
.
æag_±r
);

1045 
TEST
(
G‘CommªdLšeFÏgInfoOrD›Te¡
, 
FÏgExi¡sAndIsDeçuÉ
) {

1046 
CommªdLšeFÏgInfo
 
	gšfo
;

1047 
	gšfo
 = 
G‘CommªdLšeFÏgInfoOrD›
("test_int32");

1048 
EXPECT_EQ
("‹¡_št32", 
šfo
.
Çme
);

1049 
EXPECT_EQ
("št32", 
šfo
.
ty³
);

1050 
EXPECT_EQ
("", 
šfo
.
desütiÚ
);

1051 
EXPECT_EQ
("-1", 
šfo
.
cu¼’t_v®ue
);

1052 
EXPECT_EQ
("-1", 
šfo
.
deçuÉ_v®ue
);

1053 
EXPECT_TRUE
(
šfo
.
is_deçuÉ
);

1054 
EXPECT_EQ
(&
FLAGS_‹¡_št32
, 
šfo
.
æag_±r
);

1055 
	gšfo
 = 
G‘CommªdLšeFÏgInfoOrD›
("test_bool");

1056 
EXPECT_EQ
("‹¡_boŞ", 
šfo
.
Çme
);

1057 
EXPECT_EQ
("boŞ", 
šfo
.
ty³
);

1058 
EXPECT_EQ
("‹¡ boŞ-Ãss", 
šfo
.
desütiÚ
);

1059 
EXPECT_EQ
("çl£", 
šfo
.
cu¼’t_v®ue
);

1060 
EXPECT_EQ
("çl£", 
šfo
.
deçuÉ_v®ue
);

1061 
EXPECT_TRUE
(
šfo
.
is_deçuÉ
);

1062 
EXPECT_FALSE
(
šfo
.
has_v®id©Ü_â
);

1063 
EXPECT_EQ
(&
FLAGS_‹¡_boŞ
, 
šfo
.
æag_±r
);

1066 
TEST
(
G‘CommªdLšeFÏgInfoOrD›Te¡
, 
FÏgExi¡sAndWasAssigÃd
) {

1067 
	gFLAGS_‹¡_št32
 = 400;

1068 
CommªdLšeFÏgInfo
 
	gšfo
;

1069 
	gšfo
 = 
G‘CommªdLšeFÏgInfoOrD›
("test_int32");

1070 
EXPECT_EQ
("‹¡_št32", 
šfo
.
Çme
);

1071 
EXPECT_EQ
("št32", 
šfo
.
ty³
);

1072 
EXPECT_EQ
("", 
šfo
.
desütiÚ
);

1073 
EXPECT_EQ
("400", 
šfo
.
cu¼’t_v®ue
);

1074 
EXPECT_EQ
("-1", 
šfo
.
deçuÉ_v®ue
);

1075 
EXPECT_FALSE
(
šfo
.
is_deçuÉ
);

1076 
EXPECT_EQ
(&
FLAGS_‹¡_št32
, 
šfo
.
æag_±r
);

1077 
	gFLAGS_‹¡_boŞ
 = 
Œue
;

1078 
	gšfo
 = 
G‘CommªdLšeFÏgInfoOrD›
("test_bool");

1079 
EXPECT_EQ
("‹¡_boŞ", 
šfo
.
Çme
);

1080 
EXPECT_EQ
("boŞ", 
šfo
.
ty³
);

1081 
EXPECT_EQ
("‹¡ boŞ-Ãss", 
šfo
.
desütiÚ
);

1082 
EXPECT_EQ
("Œue", 
šfo
.
cu¼’t_v®ue
);

1083 
EXPECT_EQ
("çl£", 
šfo
.
deçuÉ_v®ue
);

1084 
EXPECT_FALSE
(
šfo
.
is_deçuÉ
);

1085 
EXPECT_FALSE
(
šfo
.
has_v®id©Ü_â
);

1086 
EXPECT_EQ
(&
FLAGS_‹¡_boŞ
, 
šfo
.
æag_±r
);

1089 #ifdeà
GTEST_HAS_DEATH_TEST


1090 
TEST
(
G‘CommªdLšeFÏgInfoOrD›D—thTe¡
, 
FÏgDÛsNÙExi¡
) {

1091 
EXPECT_DEATH
(
G‘CommªdLšeFÏgInfoOrD›
("test_int3210"),

1100 
TEST
(
D•»ÿ‹dFunùiÚsTe¡
, 
CommªdlšeFÏgsIÁoSŒšg
) {

1101 
¡ršg
 
	gs
 = 
CommªdlšeFÏgsIÁoSŒšg
();

1102 
EXPECT_NE
(
¡ršg
::
Åos
, 
s
.
fšd
("--test_bool="));

1105 
TEST
(
D•»ÿ‹dFunùiÚsTe¡
, 
Aµ’dFÏgsIÁoFe
) {

1106 
	gFLAGS_‹¡_št32
 = 10;

1107 
¡ršg
 
f’ame
(
TmpFe
("flagfile"));

1108 
uÆšk
(
f’ame
.
c_¡r
());

1109 cÚ¡ 
boŞ
 
	gr
 = 
Aµ’dFÏgsIÁoFe
(
f’ame
, "nothe„eal‡rgv0");

1110 
EXPECT_TRUE
(
r
);

1112 
FILE
* 
	gå
 = 
fİ’
(
f’ame
.
c_¡r
(), "r");

1113 
EXPECT_TRUE
(
å
 !ğ
NULL
);

1114 
	glše
[8192];

1115 
EXPECT_TRUE
(
fg‘s
(
lše
, Öše)-1, 
å
è!ğ
NULL
);

1117 
EXPECT_STREQ
("nÙh»®‡rgv0\n", 
lše
);

1119 
boŞ
 
	gfound_boŞ
 = 
çl£
, 
	gfound_št32
 = false;

1120 
fg‘s
(
lše
, Öše)-1, 
å
)) {

1121 
	glše
[(
lše
)-1] = '\0';

1122 ià(
¡rcmp
(
lše
, "--test_bool=false\n") == 0)

1123 
found_boŞ
 = 
Œue
;

1124 ià(
¡rcmp
(
lše
, "--test_int32=10\n") == 0)

1125 
found_št32
 = 
Œue
;

1127 
EXPECT_TRUE
(
found_št32
);

1128 
EXPECT_TRUE
(
found_boŞ
);

1129 
fşo£
(
å
);

1132 
TEST
(
D•»ÿ‹dFunùiÚsTe¡
, 
R—dFromFÏgsFe
) {

1133 
	gFLAGS_‹¡_št32
 = -10;

1134 
¡ršg
 
f’ame
(
TmpFe
("flagfile2"));

1135 
uÆšk
(
f’ame
.
c_¡r
());

1136 
boŞ
 
	gr
 = 
Aµ’dFÏgsIÁoFe
(
f’ame
, 
G‘Argv0
());

1137 
EXPECT_TRUE
(
r
);

1139 
	gFLAGS_‹¡_št32
 = -11;

1140 
	gr
 = 
R—dFromFÏgsFe
(
f’ame
, 
G‘Argv0
(), 
Œue
);

1141 
EXPECT_TRUE
(
r
);

1142 
EXPECT_EQ
(-10, 
FLAGS_‹¡_št32
);

1145 
TEST
(
D•»ÿ‹dFunùiÚsTe¡
, 
R—dFromFÏgsFeFau»
) {

1146 
	gFLAGS_‹¡_št32
 = -20;

1147 
¡ršg
 
f’ame
(
TmpFe
("flagfile3"));

1148 
FILE
* 
	gå
 = 
fİ’
(
f’ame
.
c_¡r
(), "w");

1149 
EXPECT_TRUE
(
å
 !ğ
NULL
);

1151 
årštf
(
å
, "%s\n--‹¡_št32=-21\n--‹¡_boŞòÙ_a_boŞ!\n", 
G‘Argv0
());

1152 
fşo£
(
å
);

1154 
	gFLAGS_‹¡_št32
 = -22;

1155 cÚ¡ 
boŞ
 
	gr
 = 
R—dFromFÏgsFe
(
f’ame
, 
G‘Argv0
(), 
çl£
);

1156 
EXPECT_FALSE
(
r
);

1157 
EXPECT_EQ
(-22, 
FLAGS_‹¡_št32
);

1160 
TEST
(
FÏgsS‘BefÜeIn™Te¡
, 
TryFromEnv
) {

1161 
EXPECT_EQ
("´e-£t", 
FLAGS_‹¡_Œyäom’v
);

1168 
DEFINE_št32
(
‹¡_æag
, -1, "used foresting gflags.cc");

1173 
št32
 
P¬£Te¡FÏg
(
boŞ
 
w™h_h–p
, 
¬gc
, cÚ¡ ** 
cÚ¡_¬gv
) {

1174 
FÏgSav”
 
	gfs
;

1178 ** cÚ¡ 
	g¬gv_§ve
 = 
Ãw
 *[
¬gc
 + 1];

1179 ** 
	g¬gv
 = 
¬gv_§ve
;

1180 
memıy
(
¬gv
, 
cÚ¡_¬gv
, (*¬gv)*(
¬gc
 + 1));

1182 ià(
	gw™h_h–p
) {

1183 
P¬£CommªdLšeFÏgs
(&
¬gc
, &
¬gv
, 
Œue
);

1185 
P¬£CommªdLšeNÚH–pFÏgs
(&
¬gc
, &
¬gv
, 
Œue
);

1188 
	gd–‘e
[] 
	g¬gv_§ve
;

1189  
	gFLAGS_‹¡_æag
;

1192 
TEST
(
P¬£CommªdLšeFÏgsU£sLa¡Defš™iÚTe¡
,

1193 
Wh’FÏgIsDefšedTwiûOnCommªdLše
) {

1194 cÚ¡ * 
	g¬gv
[] = {

1198 
NULL
,

1201 
EXPECT_EQ
(2, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1202 
EXPECT_EQ
(2, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1205 
TEST
(
P¬£CommªdLšeFÏgsU£sLa¡Defš™iÚTe¡
,

1206 
Wh’FÏgIsDefšedTwiûInFÏgFe
) {

1207 cÚ¡ * 
	g¬gv
[] = {

1209 
G‘FÏgFeFÏg
(),

1210 
NULL
,

1213 
EXPECT_EQ
(2, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1214 
EXPECT_EQ
(2, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1217 
TEST
(
P¬£CommªdLšeFÏgsU£sLa¡Defš™iÚTe¡
,

1218 
Wh’FÏgIsDefšedInCommªdLšeAndTh’FÏgFe
) {

1219 cÚ¡ * 
	g¬gv
[] = {

1222 
G‘FÏgFeFÏg
(),

1223 
NULL
,

1226 
EXPECT_EQ
(2, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1227 
EXPECT_EQ
(2, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1230 
TEST
(
P¬£CommªdLšeFÏgsU£sLa¡Defš™iÚTe¡
,

1231 
Wh’FÏgIsDefšedInFÏgFeAndTh’CommªdLše
) {

1232 cÚ¡ * 
	g¬gv
[] = {

1234 
G‘FÏgFeFÏg
(),

1236 
NULL
,

1239 
EXPECT_EQ
(3, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1240 
EXPECT_EQ
(3, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1243 
TEST
(
P¬£CommªdLšeFÏgsU£sLa¡Defš™iÚTe¡
,

1244 
Wh’FÏgIsDefšedInCommªdLšeAndFÏgFeAndTh’CommªdLše
) {

1245 cÚ¡ * 
	g¬gv
[] = {

1248 
G‘FÏgFeFÏg
(),

1250 
NULL
,

1253 
EXPECT_EQ
(3, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1254 
EXPECT_EQ
(3, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1257 
TEST
(
P¬£CommªdLšeFÏgsAndDashArgs
, 
TwoDashArgFœ¡
) {

1258 cÚ¡ * 
	g¬gv
[] = {

1262 
NULL
,

1265 
EXPECT_EQ
(-1, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1266 
EXPECT_EQ
(-1, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1269 
TEST
(
P¬£CommªdLšeFÏgsAndDashArgs
, 
TwoDashArgMiddË
) {

1270 cÚ¡ * 
	g¬gv
[] = {

1275 
NULL
,

1278 
EXPECT_EQ
(7, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1279 
EXPECT_EQ
(7, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1282 
TEST
(
P¬£CommªdLšeFÏgsAndDashArgs
, 
OÃDashArg
) {

1283 cÚ¡ * 
	g¬gv
[] = {

1287 
NULL
,

1290 
EXPECT_EQ
(0, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1291 
EXPECT_EQ
(0, 
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1294 #ifdeà
GTEST_HAS_DEATH_TEST


1295 
TEST
(
P¬£CommªdLšeFÏgsUnknownFÏgD—thTe¡
,

1296 
FÏgIsCom¶‘–yUnknown
) {

1297 cÚ¡ * 
	g¬gv
[] = {

1300 
NULL
,

1303 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1305 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1309 
TEST
(
P¬£CommªdLšeFÏgsUnknownFÏgD—thTe¡
,

1310 
BoŞFÏgIsCom¶‘–yUnknown
) {

1311 cÚ¡ * 
	g¬gv
[] = {

1314 
NULL
,

1317 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1319 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1323 
TEST
(
P¬£CommªdLšeFÏgsUnknownFÏgD—thTe¡
,

1324 
FÏgIsNÙABoŞ
) {

1325 cÚ¡ * 
	g¬gv
[] = {

1328 
NULL
,

1331 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1333 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
çl£
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1338 
TEST
(
P¬£CommªdLšeFÏgsWrÚgF›lds
,

1339 
DesütiÚIsInv®id
) {

1345 
boŞ
 
	gcu¼’t_¡Üage
;

1346 
boŞ
 
	gdefv®ue_¡Üage
;

1347 
FÏgRegi¡””
 
ä
("flag_name", "bool", 0, "filename",

1348 &
cu¼’t_¡Üage
, &
defv®ue_¡Üage
);

1349 
CommªdLšeFÏgInfo
 
	gfi
;

1350 
EXPECT_TRUE
(
G‘CommªdLšeFÏgInfo
("æag_Çme", &
fi
));

1351 
EXPECT_EQ
("", 
fi
.
desütiÚ
);

1352 
EXPECT_EQ
(&
cu¼’t_¡Üage
, 
fi
.
æag_±r
);

1355 
boŞ
 
V®id©eTe¡FÏgIs5
(cÚ¡ * 
æagÇme
, 
št32
 
æagv®
) {

1356 ià(
	gæagv®
 == 5)

1357  
Œue
;

1358 
´štf
("% i¢'ˆ5!\n", 
æagÇme
);

1359  
	gçl£
;

1362 
boŞ
 
V®id©eTe¡FÏgIs10
(cÚ¡ * 
æagÇme
, 
št32
 
æagv®
) {

1363  
	gæagv®
 == 10;

1367 
TEST
(
FÏgsV®id©Ü
, 
V®idFÏgVŸArgv
) {

1368 cÚ¡ * 
	g¬gv
[] = {

1371 
NULL
,

1373 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1374 
EXPECT_EQ
(5, 
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv));

1376 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1379 
TEST
(
FÏgsV®id©Ü
, 
V®idFÏgVŸS‘DeçuÉ
) {

1380 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1382 
EXPECT_NE
("", 
S‘CommªdLšeO±iÚW™hMode
("test_flag", "5",

1383 
SET_FLAG_IF_DEFAULT
));

1384 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1387 
TEST
(
FÏgsV®id©Ü
, 
V®idFÏgVŸS‘V®ue
) {

1388 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1389 
	gFLAGS_‹¡_æag
 = 100;

1391 
EXPECT_NE
("", 
S‘CommªdLšeO±iÚW™hMode
("test_flag", "5",

1392 
SET_FLAGS_VALUE
));

1393 
EXPECT_NE
("", 
S‘CommªdLšeO±iÚW™hMode
("test_flag", "5",

1394 
SET_FLAGS_DEFAULT
));

1395 
EXPECT_NE
("", 
S‘CommªdLšeO±iÚ
("test_flag", "5"));

1396 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1399 #ifdeà
GTEST_HAS_DEATH_TEST


1400 
TEST
(
FÏgsV®id©ÜD—thTe¡
, 
Inv®idFÏgVŸArgv
) {

1401 cÚ¡ * 
	g¬gv
[] = {

1404 
NULL
,

1406 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1407 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1409 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1413 
TEST
(
FÏgsV®id©Ü
, 
Inv®idFÏgVŸS‘DeçuÉ
) {

1414 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1416 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚW™hMode
("test_flag", "50",

1417 
SET_FLAG_IF_DEFAULT
));

1418 
EXPECT_EQ
(-1, 
FLAGS_‹¡_æag
);

1419 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1422 
TEST
(
FÏgsV®id©Ü
, 
Inv®idFÏgVŸS‘V®ue
) {

1423 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1424 
	gFLAGS_‹¡_æag
 = 100;

1426 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚW™hMode
("test_flag", "50",

1427 
SET_FLAGS_VALUE
));

1428 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚW™hMode
("test_flag", "50",

1429 
SET_FLAGS_DEFAULT
));

1430 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_flag", "50"));

1431 
EXPECT_EQ
(100, 
FLAGS_‹¡_æag
);

1432 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1435 #ifdeà
GTEST_HAS_DEATH_TEST


1436 
TEST
(
FÏgsV®id©ÜD—thTe¡
, 
Inv®idFÏgNev”S‘
) {

1439 cÚ¡ * 
	g¬gv
[] = {

1441 
NULL
,

1443 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1444 
EXPECT_DEATH
(
P¬£Te¡FÏg
(
Œue
, 
¬¿ysize
(
¬gv
) - 1,‡rgv),

1449 
TEST
(
FÏgsV®id©Ü
, 
Inv®idFÏgPŒ
) {

1450 
št32
 
	gdummy
;

1451 
EXPECT_FALSE
(
Regi¡”FÏgV®id©Ü
(
NULL
, &
V®id©eTe¡FÏgIs5
));

1452 
EXPECT_FALSE
(
Regi¡”FÏgV®id©Ü
(&
dummy
, &
V®id©eTe¡FÏgIs5
));

1455 
TEST
(
FÏgsV®id©Ü
, 
Regi¡”V®id©ÜTwiû
) {

1456 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1457 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1458 
EXPECT_FALSE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs10
));

1459 
EXPECT_FALSE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs10
));

1460 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1461 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1462 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs10
));

1463 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1466 
TEST
(
FÏgsV®id©Ü
, 
CommªdLšeFÏgInfo
) {

1467 
CommªdLšeFÏgInfo
 
	gšfo
;

1468 
	gšfo
 = 
G‘CommªdLšeFÏgInfoOrD›
("test_flag");

1469 
EXPECT_FALSE
(
šfo
.
has_v®id©Ü_â
);

1471 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1472 
	gšfo
 = 
G‘CommªdLšeFÏgInfoOrD›
("test_flag");

1473 
EXPECT_TRUE
(
šfo
.
has_v®id©Ü_â
);

1475 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1476 
	gšfo
 = 
G‘CommªdLšeFÏgInfoOrD›
("test_flag");

1477 
EXPECT_FALSE
(
šfo
.
has_v®id©Ü_â
);

1480 
TEST
(
FÏgsV®id©Ü
, 
FÏgSav”
) {

1482 
FÏgSav”
 
	gfs
;

1483 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1484 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_flag", "50"));

1486 
EXPECT_NE
("", 
S‘CommªdLšeO±iÚ
("test_flag", "50"));

1488 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, &
V®id©eTe¡FÏgIs5
));

1490 
FÏgSav”
 
	gfs
;

1491 
EXPECT_TRUE
(
Regi¡”FÏgV®id©Ü
(&
FLAGS_‹¡_æag
, 
NULL
));

1492 
EXPECT_NE
("", 
S‘CommªdLšeO±iÚ
("test_flag", "50"));

1494 
EXPECT_EQ
("", 
S‘CommªdLšeO±iÚ
("test_flag", "50"));

1500 
	$maš
(
¬gc
, **
¬gv
) {

1504 cÚ¡ * 
‹¡_¬gv
[] = { "/test/argv/for/gflags_unittest",

1506 
	`S‘Argv
(
	`¬¿ysize
(
‹¡_¬gv
),est_argv);

1509 
¡ršg
 
u§ge_mes§ge
 = (
	`¡ršg
(
	`G‘Argv0
()) +

1514 
FLAGS_Œyäom’v
 = "test_tryfromenv";

1515 
	`£‹nv
("FLAGS_test_tryfromenv", "pre-set", 1);

1519 
	`S‘CommªdLšeO±iÚW™hMode
("chªged_boŞ1", "Œue", 
SET_FLAGS_DEFAULT
);

1522 
FLAGS_chªged_boŞ2
 = 
Œue
;

1524 
	`S‘U§geMes§ge
(
u§ge_mes§ge
.
	`c_¡r
());

1525 
	`S‘V”siÚSŒšg
("test_version");

1526 
	`P¬£CommªdLšeFÏgs
(&
¬gc
, &
¬gv
, 
Œue
);

1527 
	`MakeTmpdœ
(&
FLAGS_‹¡_tmpdœ
);

1529 cÚ¡ 
ex™_¡©us
 = 
	`RUN_ALL_TESTS
();

1530 
	`ShutDownCommªdLšeFÏgs
();

1531  
ex™_¡©us
;

1532 
	}
}

1534 
_END_GOOGLE_NAMESPACE_


1536 
	$maš
(
¬gc
, ** 
¬gv
) {

1537  
GOOGLE_NAMESPACE
::
	`maš
(
¬gc
, 
¬gv
);

1538 
	}
}

	@/home/dell/tut/gflags/gflags-2.0/src/google/gflags.h

34 
	~<gæags/gæags.h
>

	@/home/dell/tut/gflags/gflags-2.0/src/google/gflags_completions.h

34 
	~<gæags/gæags_com¶‘iÚs.h
>

	@/home/dell/tut/gflags/gflags-2.0/src/mutex.h

111 #iâdeà
GOOGLE_MUTEX_H_


112 
	#GOOGLE_MUTEX_H_


	)

114 
	~"cÚfig.h
"

116 #ià
defšed
(
NO_THREADS
)

117 
	tMu‹xTy³
;

118 #–ià
defšed
(
_WIN32
è|| defšed(
__CYGWIN32__
è|| defšed(
__CYGWIN64__
)

119 #iâdeà
WIN32_LEAN_AND_MEAN


120 
	#WIN32_LEAN_AND_MEAN


122 #iâdeà
NOMINMAX


	)

123 
	#NOMINMAX


125 #ifdeà
GMUTEX_TRYLOCK


	)

129 #iâdeà
_WIN32_WINNT


130 
	#_WIN32_WINNT
 0x0400

	)

133 
	~<wšdows.h
>

134 
CRITICAL_SECTION
 
	tMu‹xTy³
;

135 #–ià
defšed
(
HAVE_PTHREAD
è&& defšed(
HAVE_RWLOCK
)

140 #ifdeà
__lšux__


141 #ià
_XOPEN_SOURCE
 < 500

142 #undeà
_XOPEN_SOURCE


143 
	#_XOPEN_SOURCE
 500

146 
	~<±h»ad.h
>

	)

147 
±h»ad_rwlock_t
 
	tMu‹xTy³
;

148 #–ià
defšed
(
HAVE_PTHREAD
)

149 
	~<±h»ad.h
>

150 
±h»ad_mu‹x_t
 
	tMu‹xTy³
;

152 
N“d
 
to
 
im¶em’t
 
mu‹x
.
h
 
your
 
¬ch™eùu»
, 
Ü
 #defš
	#NO_THREADS


	)

155 
	~<as£¹.h
>

156 
	~<¡dlib.h
>

158 
	#MUTEX_NAMESPACE
 
gæags_mu‹x_Çme¥aû


	)

160 
Çme¥aû
 
	gMUTEX_NAMESPACE
 {

162 şas 
	cMu‹x
 {

163 
	gpublic
:

165 
	eLšk”In™Ÿlized
 { 
LINKER_INITIALIZED
 };

169 
šlše
 
Mu‹x
();

174 
šlše
 
Mu‹x
(
Lšk”In™Ÿlized
);

177 
	gšlše
 ~
Mu‹x
();

179 
šlše
 
Lock
();

180 
šlše
 
UÆock
();

181 #ifdeà
GMUTEX_TRYLOCK


182 
šlše
 
boŞ
 
TryLock
();

188 
šlše
 
R—d”Lock
();

189 
šlše
 
R—d”UÆock
();

190 
šlše
 
Wr™”Lock
(è{ 
Lock
(); }

191 
šlše
 
Wr™”UÆock
(è{ 
UÆock
(); }

193 
	g´iv©e
:

194 
Mu‹xTy³
 
mu‹x_
;

198 vŞ©
boŞ
 
	gis_§ã_
;

200 
boŞ
 
	gde¡roy_
;

202 
šlše
 
S‘IsSaã
(è{ 
	gis_§ã_
 = 
Œue
; }

205 
Mu‹x
(Mutex* ) {}

207 
Mu‹x
(const Mutex&);

208 
	gİ”©Ü
=(cÚ¡ 
Mu‹x
&);

212 #ià
	$defšed
(
NO_THREADS
)

224 
Mu‹x
::
	$Mu‹x
(è: 
	$mu‹x_
(0è{ 
	}
}

225 
Mu‹x
::Mu‹x(Mu‹x::
Lšk”In™Ÿlized
è: 
	$mu‹x_
(0è{ 
	}
}

226 
Mu‹x
::~
	$Mu‹x
(è{ 
	`as£¹
(
mu‹x_
 =ğ0); 
	}
}

227 
	gMu‹x
::
	$Lock
(è{ 
	`as£¹
(--
mu‹x_
 =ğ-1); 
	}
}

228 
	gMu‹x
::
	$UÆock
(è{ 
	`as£¹
(
mu‹x_
++ =ğ-1); 
	}
}

229 #ifdeà
GMUTEX_TRYLOCK


230 
boŞ
 
	gMu‹x
::
	$TryLock
(è{ ià(
mu‹x_
è 
çl£
; 
	`Lock
();  
Œue
; 
	}
}

232 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`as£¹
(++
mu‹x_
 > 0); 
	}
}

233 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`as£¹
(
mu‹x_
-- > 0); 
	}
}

235 #–ià
defšed
(
_WIN32
è|| defšed(
__CYGWIN32__
è|| 
	$defšed
(
__CYGWIN64__
)

237 
Mu‹x
::
	$Mu‹x
(è: 
	$de¡roy_
(
Œue
) {

238 
	`In™ŸlizeCr™iÿlSeùiÚ
(&
mu‹x_
);

239 
	`S‘IsSaã
();

240 
	}
}

241 
	gMu‹x
::
	$Mu‹x
(
Lšk”In™Ÿlized
è: 
	$de¡roy_
(
çl£
) {

242 
	`In™ŸlizeCr™iÿlSeùiÚ
(&
mu‹x_
);

243 
	`S‘IsSaã
();

244 
	}
}

245 
	gMu‹x
::~
	$Mu‹x
(è{ ià(
de¡roy_
è
	`D–‘eCr™iÿlSeùiÚ
(&
mu‹x_
); 
	}
}

246 
	gMu‹x
::
	$Lock
(è{ ià(
is_§ã_
è
	`EÁ”Cr™iÿlSeùiÚ
(&
mu‹x_
); 
	}
}

247 
	gMu‹x
::
	$UÆock
(è{ ià(
is_§ã_
è
	`L—veCr™iÿlSeùiÚ
(&
mu‹x_
); 
	}
}

248 #ifdeà
GMUTEX_TRYLOCK


249 
boŞ
 
	gMu‹x
::
	$TryLock
(è{  
is_§ã_
 ?

250 
	`TryEÁ”Cr™iÿlSeùiÚ
(&
mu‹x_
è!ğ0 : 
Œue
; 
	}
}

252 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`Lock
(); 
	}
}

253 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`UÆock
(); 
	}
}

255 #–ià
defšed
(
HAVE_PTHREAD
è&& 
	$defšed
(
HAVE_RWLOCK
)

257 
	#SAFE_PTHREAD
(
âÿÎ
) do { \

258 ià(
is_§ã_
 && 
	`âÿÎ
(&
mu‹x_
è!ğ0è
	`abÜt
(); \

259 
	}
} 0)

	)

261 
Mu‹x
::
	$Mu‹x
(è: 
	$de¡roy_
(
Œue
) {

262 
	`S‘IsSaã
();

263 ià(
is_§ã_
 && 
	`±h»ad_rwlock_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

264 
	}
}

265 
	gMu‹x
::
Mu‹x
(Mu‹x::
Lšk”In™Ÿlized
è: 
	$de¡roy_
(
çl£
) {

266 
	`S‘IsSaã
();

267 ià(
is_§ã_
 && 
	`±h»ad_rwlock_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

268 
	}
}

269 
	gMu‹x
::~
	$Mu‹x
(è{ ià(
de¡roy_
è
	`SAFE_PTHREAD
(
±h»ad_rwlock_de¡roy
); 
	}
}

270 
	gMu‹x
::
	$Lock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_w¾ock
); 
	}
}

271 
	gMu‹x
::
	$UÆock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_uÆock
); 
	}
}

272 #ifdeà
GMUTEX_TRYLOCK


273 
boŞ
 
	gMu‹x
::
	$TryLock
(è{  
is_§ã_
 ?

274 
	`±h»ad_rwlock_Œyw¾ock
(&
mu‹x_
è=ğ0 : 
Œue
; 
	}
}

276 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_rdlock
); 
	}
}

277 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_uÆock
); 
	}
}

278 #undeà
SAFE_PTHREAD


280 #–ià
	$defšed
(
HAVE_PTHREAD
)

282 
	#SAFE_PTHREAD
(
âÿÎ
) do { \

283 ià(
is_§ã_
 && 
	`âÿÎ
(&
mu‹x_
è!ğ0è
	`abÜt
(); \

284 
	}
} 0)

	)

286 
Mu‹x
::
	$Mu‹x
(è: 
	$de¡roy_
(
Œue
) {

287 
	`S‘IsSaã
();

288 ià(
is_§ã_
 && 
	`±h»ad_mu‹x_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

289 
	}
}

290 
	gMu‹x
::
Mu‹x
(Mu‹x::
Lšk”In™Ÿlized
è: 
	$de¡roy_
(
çl£
) {

291 
	`S‘IsSaã
();

292 ià(
is_§ã_
 && 
	`±h»ad_mu‹x_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

293 
	}
}

294 
	gMu‹x
::~
	$Mu‹x
(è{ ià(
de¡roy_
è
	`SAFE_PTHREAD
(
±h»ad_mu‹x_de¡roy
); 
	}
}

295 
	gMu‹x
::
	$Lock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_mu‹x_lock
); 
	}
}

296 
	gMu‹x
::
	$UÆock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_mu‹x_uÆock
); 
	}
}

297 #ifdeà
GMUTEX_TRYLOCK


298 
boŞ
 
	gMu‹x
::
	$TryLock
(è{  
is_§ã_
 ?

299 
	`±h»ad_mu‹x_Œylock
(&
mu‹x_
è=ğ0 : 
Œue
; 
	}
}

301 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`Lock
(); 
	}
}

302 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`UÆock
(); 
	}
}

303 #undeà
SAFE_PTHREAD


311 şas 
	cMu‹xLock
 {

312 
	gpublic
:

313 
ex¶ic™
 
Mu‹xLock
(
Mu‹x
 *
mu
è: 
mu_
(muè{ mu_->
Lock
(); }

314 ~
Mu‹xLock
(è{ 
	gmu_
->
UÆock
(); }

315 
	g´iv©e
:

316 
Mu‹x
 * cÚ¡ 
mu_
;

318 
Mu‹xLock
(const MutexLock&);

319 
	gİ”©Ü
=(cÚ¡ 
Mu‹xLock
&);

323 şas 
	cR—d”Mu‹xLock
 {

324 
	gpublic
:

325 
ex¶ic™
 
R—d”Mu‹xLock
(
Mu‹x
 *
mu
è: 
mu_
(muè{ mu_->
R—d”Lock
(); }

326 ~
R—d”Mu‹xLock
(è{ 
	gmu_
->
R—d”UÆock
(); }

327 
	g´iv©e
:

328 
Mu‹x
 * cÚ¡ 
mu_
;

330 
R—d”Mu‹xLock
(const ReaderMutexLock&);

331 
	gİ”©Ü
=(cÚ¡ 
R—d”Mu‹xLock
&);

334 şas 
	cWr™”Mu‹xLock
 {

335 
	gpublic
:

336 
ex¶ic™
 
Wr™”Mu‹xLock
(
Mu‹x
 *
mu
è: 
mu_
(muè{ mu_->
Wr™”Lock
(); }

337 ~
Wr™”Mu‹xLock
(è{ 
	gmu_
->
Wr™”UÆock
(); }

338 
	g´iv©e
:

339 
Mu‹x
 * cÚ¡ 
mu_
;

341 
Wr™”Mu‹xLock
(const WriterMutexLock&);

342 
	gİ”©Ü
=(cÚ¡ 
Wr™”Mu‹xLock
&);

346 
	#Mu‹xLock
(
x
è
	$COMPILE_ASSERT
(0, 
mu‹x_lock_deş_missšg_v¬_Çme
)

	)

347 
	#R—d”Mu‹xLock
(
x
è
	$COMPILE_ASSERT
(0, 
rmu‹x_lock_deş_missšg_v¬_Çme
)

	)

348 
	#Wr™”Mu‹xLock
(
x
è
	`COMPILE_ASSERT
(0, 
wmu‹x_lock_deş_missšg_v¬_Çme
)

	)

350 
	}
}

352 
usšg
 
Çme¥aû
 
	gMUTEX_NAMESPACE
;

354 #undeà
MUTEX_NAMESPACE


	@/home/dell/tut/gflags/gflags-2.0/src/util.h

34 #iâdeà
GFLAGS_UTIL_H_


35 
	#GFLAGS_UTIL_H_


	)

37 
	~<as£¹.h
>

38 
	~<cÚfig.h
>

39 #ifdeà
HAVE_INTTYPES_H


40 
	~<š‰y³s.h
>

42 
	~<¡d¬g.h
>

43 
	~<¡dlib.h
>

44 
	~<¡dio.h
>

45 
	~<io¡»am
>

46 
	~<¡ršg
>

47 #ifdeà
HAVE_SYS_STAT_H


48 
	~<sys/¡©.h
>

51 
_START_GOOGLE_NAMESPACE_


54 
GFLAGS_DLL_DECL
 (*
gæags_ex™func
)();

57 #ifdeà
HAVE_STRTOLL


58 
	#¡¹o64
 
¡¹Şl


	)

59 
	#¡¹ou64
 
¡¹ouÎ


	)

60 #–ià
HAVE_STRTOQ


61 
	#¡¹o64
 
¡¹oq


	)

62 
	#¡¹ou64
 
¡¹ouq


	)

65 
	#¡¹o64
 
¡¹Ş


	)

66 
	#¡¹ou64
 
¡¹oul


	)

71 #iâdeà
PRId32


72 
	#PRId32
 "d"

	)

74 #iâdeà
PRId64


75 
	#PRId64
 "Îd"

	)

77 #iâdeà
PRIu64


78 
	#PRIu64
 "Îu"

	)

81 sigÃd 
	tšt8
;

82 
	tušt8
;

86 
‹m¶©e
 <
boŞ
> 
	sCompeAs£¹
 {};

87 
	#COMPILE_ASSERT
(
ex´
, 
msg
) \

88 
CompeAs£¹
<(
	tboŞ
(
	tex´
))> 
	tmsg
[
	`boŞ
(
ex´
è? 1 : -1]

	)

91 
	t¬¿ysize
(
	t¬r
è(×¼)/(*×¼)))

	)

98 
	tLOG
(
	tËv–
è
	t¡d
::
	tû¼


	)

99 
	tVLOG
(
	tËv–
èià(
	tŒue
è{
	}
} 
	t¡d
::
	tû¼


	)

100 
	tDVLOG
(
	tËv–
èià(
	tŒue
è{} 
	t¡d
::
	tû¼


	)

107 
	tEXPECT_TRUE
(
	tcÚd™iÚ
) \

108 ià(
	tŒue
) { \

109 ià(!(
cÚd™iÚ
)) { \

110 
	`årštf
(
¡d”r
, "Check failed: %s\n", #condition); \

111 
	`ex™
(1); \

113 } 
	t¡d
::
	tû¼
 << ""

	)

115 
	tEXPECT_OP
(
	tİ
, 
	tv®1
, 
	tv®2
) \

116 ià(
	tŒue
) { \

117 ià(!((
v®1
è
	`İ
 (
v®2
))) { \

118 
	`årštf
(
¡d”r
, "Check failed: %s %s %s\n", #val1, #op, #val2); \

119 
	`ex™
(1); \

121 } 
	t¡d
::
	tû¼
 << ""

	)

123 
	tEXPECT_EQ
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(==, v®1, v®2)

	)

124 
	tEXPECT_NE
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(!=, v®1, v®2)

	)

125 
	tEXPECT_LE
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(<=, v®1, v®2)

	)

126 
	tEXPECT_LT
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(< , v®1, v®2)

	)

127 
	tEXPECT_GE
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(>=, v®1, v®2)

	)

128 
	tEXPECT_GT
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(> , v®1, v®2)

	)

129 
	tEXPECT_FALSE
(
	tcÚd
è
	tEXPECT_TRUE
(!(cÚd))

	)

135 #ifdeà
	ti¢ª


136 
	tEXPECT_NAN
(
	t¬g
) \

138 ià(!
	`i¢ª
(
¬g
)) { \

139 
	`årštf
(
¡d”r
, "Check failed: isnan(%s)\n", #arg); \

140 
	`ex™
(1); \

142 } 0)

	)

144 
	tEXPECT_NAN
(
	t¬g
)

	)

147 #ifdeà
	tisšf


148 
	tEXPECT_INF
(
	t¬g
) \

150 ià(!
	`isšf
(
¬g
)) { \

151 
	`årštf
(
¡d”r
, "Check failed: isinf(%s)\n", #arg); \

152 
	`ex™
(1); \

154 } 0)

	)

156 
	tEXPECT_INF
(
	t¬g
)

	)

159 
	tEXPECT_DOUBLE_EQ
(
	tv®1
, 
	tv®2
) \

161 ià(((
v®1
è< (
v®2
) - 0.001 || (val1) > (val2) + 0.001)) { \

162 
	`årštf
(
¡d”r
, "Check failed: %s == %s\n", #val1, #val2); \

163 
	`ex™
(1); \

165 } 0)

	)

167 
	tEXPECT_STREQ
(
	tv®1
, 
	tv®2
) \

169 ià(
	`¡rcmp
((
v®1
), (
v®2
)) != 0) { \

170 
	`årštf
(
¡d”r
, "Check failed: streq(%s, %s)\n", #val1, #val2); \

171 
	`ex™
(1); \

173 } 0)

	)

176 
	tTEST_INIT
 \

177 
	t¡d
::
	tveùÜ
<(*)()> 
	tg_‹¡li¡
; \

178 
	`RUN_ALL_TESTS
() { \

179 
¡d
::
veùÜ
<(*)()>::
cÚ¡_™”©Ü
 
™
; \

180 
™
 = 
g_‹¡li¡
.
	`begš
(); iˆ!ğg_‹¡li¡.
	`’d
(); ++it) { \

181 (*
™
)(); \

183 
	`årštf
(
¡d”r
, "\nPassed %dests\n\nPASS\n", \

184 
¡©ic_ÿ¡
<>(
g_‹¡li¡
.
	`size
())); \

186 }

	)

189 
	#TEST
(
a
, 
b
) \

190 
Te¡_
##
a
##
_
##
b
 { \

191 
Te¡_
##
a
##
_
##
	`b
(è{ 
g_‹¡li¡
.
	`push_back
(&
Run
); } \

192 
	`Run
() { \

193 
FÏgSav”
 
fs
; \

194 
	`årštf
(
¡d”r
, "Runningest %s/%s\n", #a, #b); \

195 
	`RunTe¡
(); \

197 
	`RunTe¡
(); \

199 
Te¡_
##
a
##
_
##
b
 
g_‹¡_
##a##_##b; \

200 
Te¡_
##
a
##
_
##
b
::
	`RunTe¡
()

	)

203 
Çme¥aû
 
	g‹¡šg
 {

204 şas 
	cTe¡
 {};

208 
	#EXPECT_DEATH_INIT
 \

209 
boŞ
 
g_ÿÎed_ex™
; \

210 
	`C®ËdEx™
(è{ 
g_ÿÎed_ex™
 = 
Œue
; }

	)

212 
	#EXPECT_DEATH
(
â
, 
msg
) \

214 
g_ÿÎed_ex™
 = 
çl£
; \

215 
gæags_ex™func
 = &
C®ËdEx™
; \

216 
â
; \

217 
gæags_ex™func
 = &
ex™
; \

218 ià(!
g_ÿÎed_ex™
) { \

219 
	`årštf
(
¡d”r
, "FunùiÚ didn'ˆd› (%s): %s\n", 
msg
, #fn); \

220 
	`ex™
(1); \

222 } 0)

	)

224 
	#GTEST_HAS_DEATH_TEST
 1

	)

230 #ià
defšed
(
__MINGW32__
)

231 
	~<io.h
>

232 
šlše
 
MakeTmpdœ
(
¡d
::
¡ršg
* 
·th
) {

234 *
·th
 = "./gflags_unittest_testdir";

235 
mkdœ
(
·th
->
c_¡r
());

237 #–ià
defšed
(
_MSC_VER
)

238 
	~<dœeù.h
>

239 
šlše
 
MakeTmpdœ
(
¡d
::
¡ršg
* 
·th
) {

240 
tmµ©h_bufãr
[1024];

241 
	gtmµ©h_Ën
 = 
G‘TempP©hA
((
tmµ©h_bufãr
),mppath_buffer);

242 
as£¹
(
tmµ©h_Ën
 > 0 &&mµ©h_ËÀ< (
tmµ©h_bufãr
));

243 
as£¹
(
tmµ©h_bufãr
[
tmµ©h_Ën
 - 1] == '\\');

244 *
	g·th
 = 
¡d
::
¡ršg
(
tmµ©h_bufãr
) + "gflags_unittest_testdir";

245 
_mkdœ
(
·th
->
c_¡r
());

248 
šlše
 
MakeTmpdœ
(
¡d
::
¡ršg
* 
·th
) {

249 
mkdœ
(
·th
->
c_¡r
(), 0755);

255 
šlše
 
IÁ”ÇlSŒšgPrštf
(
¡d
::
¡ršg
* 
ouut
, cÚ¡ * 
fÜm©
,

256 
va_li¡
 
­
) {

257 
	g¥aû
[128];

262 
va_li¡
 
	gbackup_­
;

263 
va_cİy
(
backup_­
, 
­
);

264 
	gby‹s_wr™‹n
 = 
v¢´štf
(
¥aû
, (¥aû), 
fÜm©
, 
backup_­
);

265 
va_’d
(
backup_­
);

267 ià((
	gby‹s_wr™‹n
 >ğ0è&& (
by‹s_wr™‹n
 < (
¥aû
))) {

268 
ouut
->
­³nd
(
¥aû
, 
by‹s_wr™‹n
);

273 
	gËngth
 = (
¥aû
);

274 
	gŒue
) {

275 ià(
	gby‹s_wr™‹n
 < 0) {

277 
	gËngth
 *= 2;

280 
	gËngth
 = 
by‹s_wr™‹n
+1;

282 * 
	gbuf
 = 
Ãw
 [
Ëngth
];

285 
va_cİy
(
backup_­
, 
­
);

286 
	gby‹s_wr™‹n
 = 
v¢´štf
(
buf
, 
Ëngth
, 
fÜm©
, 
backup_­
);

287 
va_’d
(
backup_­
);

289 ià((
	gby‹s_wr™‹n
 >ğ0è&& (
by‹s_wr™‹n
 < 
Ëngth
)) {

290 
ouut
->
­³nd
(
buf
, 
by‹s_wr™‹n
);

291 
	gd–‘e
[] 
	gbuf
;

294 
	gd–‘e
[] 
	gbuf
;

299 
šlše
 
SSŒšgPrštf
(
¡d
::
¡ršg
* 
ouut
, cÚ¡ * 
fÜm©
, ...) {

300 
va_li¡
 
	g­
;

301 
va_¡¬t
(
­
, 
fÜm©
);

302 
	gouut
->
ş—r
();

303 
IÁ”ÇlSŒšgPrštf
(
ouut
, 
fÜm©
, 
­
);

304 
va_’d
(
­
);

307 
šlše
 
SŒšgAµ’dF
(
¡d
::
¡ršg
* 
ouut
, cÚ¡ * 
fÜm©
, ...) {

308 
va_li¡
 
	g­
;

309 
va_¡¬t
(
­
, 
fÜm©
);

310 
IÁ”ÇlSŒšgPrštf
(
ouut
, 
fÜm©
, 
­
);

311 
va_’d
(
­
);

314 
šlše
 
	g¡d
::
¡ršg
 
	$SŒšgPrštf
(cÚ¡ * 
fÜm©
, ...) {

315 
va_li¡
 
­
;

316 
	`va_¡¬t
(
­
, 
fÜm©
);

317 
¡d
::
¡ršg
 
ouut
;

318 
	`IÁ”ÇlSŒšgPrštf
(&
ouut
, 
fÜm©
, 
­
);

319 
	`va_’d
(
­
);

320  
ouut
;

321 
	}
}

323 
	g_END_GOOGLE_NAMESPACE_


	@/home/dell/tut/gflags/gflags-2.0/src/windows/config.h

7 #ifdeà
__MINGW32__


8 
	~"../cÚfig.h
"

9 
	#GOOGLE_GFLAGS_WINDOWS_CONFIG_H_


	)

12 #iâdeà
GOOGLE_GFLAGS_WINDOWS_CONFIG_H_


13 
	#GOOGLE_GFLAGS_WINDOWS_CONFIG_H_


	)

20 #iâdeà
GFLAGS_DLL_DECL


21 
	#GFLAGS_IS_A_DLL
 1

	)

22 
	#GFLAGS_DLL_DECL
 
	`__deş¥ec
(
dÎexpÜt
)

	)

23 
	#GFLAGS_DLL_DECL_FOR_UNITTESTS
 
	`__deş¥ec
(
dÎimpÜt
)

	)

27 
	#GOOGLE_NAMESPACE
 ::
googË


	)

30 #undeà
HAVE_DLFCN_H


33 #undeà
HAVE_FNMATCH_H


36 #undeà
HAVE_INTTYPES_H


39 #undeà
HAVE_MEMORY_H


42 
	#HAVE_NAMESPACES
 1

	)

45 #undeà
HAVE_PTHREAD


48 
	#HAVE_PUTENV
 1

	)

51 #undeà
HAVE_SETENV


54 #undeà
HAVE_STDINT_H


57 
	#HAVE_STDLIB_H
 1

	)

60 #undeà
HAVE_STRINGS_H


63 
	#HAVE_STRING_H
 1

	)

66 
	#HAVE_STRTOLL
 1

	)

69 
	#HAVE_STRTOQ
 1

	)

72 
	#HAVE_SYS_STAT_H
 1

	)

75 
	#HAVE_SYS_TYPES_H
 1

	)

78 #undeà
HAVE_UNISTD_H


81 #undeà
HAVE___ATTRIBUTE__


85 #undeà
LT_OBJDIR


88 #undeà
PACKAGE


91 #undeà
PACKAGE_BUGREPORT


94 #undeà
PACKAGE_NAME


97 #undeà
PACKAGE_STRING


100 #undeà
PACKAGE_TARNAME


103 #undeà
PACKAGE_URL


106 #undeà
PACKAGE_VERSION


110 #undeà
PTHREAD_CREATE_JOINABLE


113 
	#STDC_HEADERS
 1

	)

116 
	#STL_NAMESPACE
 
¡d


	)

119 #undeà
VERSION


122 
	#_END_GOOGLE_NAMESPACE_
 }

	)

125 
	#_START_GOOGLE_NAMESPACE_
 
Çme¥aû
 
googË
 {

	)

132 #iâdeà
_WIN32_WINNT


133 
	#_WIN32_WINNT
 0x0400

	)

137 
	~"wšdows/pÜt.h
"

	@/home/dell/tut/gflags/gflags-2.0/src/windows/gflags/gflags.h

78 #iâdeà
BASE_COMMANDLINEFLAGS_H_


79 
	#BASE_COMMANDLINEFLAGS_H_


	)

81 
	~<¡ršg
>

82 
	~<veùÜ
>

83 
	~<gæags/gæags_deş¬e.h
>

84 
Çme¥aû
 
	ggoogË
 {

91 #ià
defšed
(
_MSC_VER
è&& !defšed(
GFLAGS_DLL_DECL
)

92 
	#GFLAGS_DLL_DECL
 
	`__deş¥ec
(
dÎimpÜt
)

	)

94 #ià
defšed
(
_MSC_VER
è&& !defšed(
GFLAGS_DLL_DEFINE_FLAG
)

95 
	#GFLAGS_DLL_DEFINE_FLAG
 
	`__deş¥ec
(
dÎexpÜt
)

	)

128 
GFLAGS_DLL_DECL
 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ boŞ* 
æag
,

129 
boŞ
 (*
v®id©e_â
)(const *, bool));

130 
GFLAGS_DLL_DECL
 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
št32
* 
æag
,

131 
boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
št32
));

132 
GFLAGS_DLL_DECL
 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
št64
* 
æag
,

133 
boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
št64
));

134 
GFLAGS_DLL_DECL
 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
ušt64
* 
æag
,

135 
boŞ
 (*
v®id©e_â
)(cÚ¡ *, 
ušt64
));

136 
GFLAGS_DLL_DECL
 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ * 
æag
,

137 
boŞ
 (*
v®id©e_â
)(const *, ));

138 
GFLAGS_DLL_DECL
 
boŞ
 
Regi¡”FÏgV®id©Ü
(cÚ¡ 
¡d
::
¡ršg
* 
æag
,

139 
boŞ
 (*
v®id©e_â
)(const *,

140 cÚ¡ 
¡d
::
¡ršg
&));

154 
GFLAGS_DLL_DECL
 
	gCommªdLšeFÏgInfo
 {

155 
	g¡d
::
¡ršg
 
Çme
;

156 
	g¡d
::
¡ršg
 
ty³
;

157 
	g¡d
::
¡ršg
 
desütiÚ
;

158 
	g¡d
::
¡ršg
 
cu¼’t_v®ue
;

159 
	g¡d
::
¡ršg
 
deçuÉ_v®ue
;

160 
	g¡d
::
¡ršg
 
f’ame
;

161 
boŞ
 
	ghas_v®id©Ü_â
;

162 
boŞ
 
	gis_deçuÉ
;

165 cÚ¡ * 
	gæag_±r
;

173 
GFLAGS_DLL_DECL
 
G‘AÎFÏgs
(
¡d
::
veùÜ
<
CommªdLšeFÏgInfo
>* 
OUTPUT
);

175 
GFLAGS_DLL_DECL
 
ShowU§geW™hFÏgs
(cÚ¡ *
¬gv0
);

176 
GFLAGS_DLL_DECL
 
ShowU§geW™hFÏgsRe¡riù
(cÚ¡ *
¬gv0
, cÚ¡ *
»¡riù
);

180 
GFLAGS_DLL_DECL
 
¡d
::
¡ršg
 
DesüibeOÃFÏg
(cÚ¡ 
CommªdLšeFÏgInfo
& 
æag
);

183 
GFLAGS_DLL_DECL
 
S‘Argv
(
¬gc
, cÚ¡ ** 
¬gv
);

187 
GFLAGS_DLL_DECL
 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
G‘Argvs
();

188 
GFLAGS_DLL_DECL
 cÚ¡ * 
G‘Argv
();

189 
GFLAGS_DLL_DECL
 cÚ¡ * 
G‘Argv0
();

190 
GFLAGS_DLL_DECL
 
ušt32
 
G‘ArgvSum
();

191 
GFLAGS_DLL_DECL
 cÚ¡ * 
Prog¿mInvoÿtiÚName
();

192 
GFLAGS_DLL_DECL
 cÚ¡ * 
Prog¿mInvoÿtiÚShÜtName
();

196 
GFLAGS_DLL_DECL
 cÚ¡ * 
Prog¿mU§ge
();

200 
GFLAGS_DLL_DECL
 cÚ¡ * 
V”siÚSŒšg
();

214 
GFLAGS_DLL_DECL
 
boŞ
 
G‘CommªdLšeO±iÚ
(cÚ¡ * 
Çme
, 
¡d
::
¡ršg
* 
OUTPUT
);

218 
GFLAGS_DLL_DECL
 
boŞ
 
G‘CommªdLšeFÏgInfo
(cÚ¡ * 
Çme
,

219 
CommªdLšeFÏgInfo
* 
OUTPUT
);

224 
GFLAGS_DLL_DECL
 
CommªdLšeFÏgInfo
 
G‘CommªdLšeFÏgInfoOrD›
(cÚ¡ * 
Çme
);

226 
GFLAGS_DLL_DECL
 
	gFÏgS‘tšgMode
 {

228 
	gSET_FLAGS_VALUE
,

231 
	gSET_FLAG_IF_DEFAULT
,

235 
	gSET_FLAGS_DEFAULT


246 
GFLAGS_DLL_DECL
 
¡d
::
¡ršg
 
S‘CommªdLšeO±iÚ
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
);

247 
GFLAGS_DLL_DECL
 
¡d
::
¡ršg
 
S‘CommªdLšeO±iÚW™hMode
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
,

248 
FÏgS‘tšgMode
 
£t_mode
);

279 şas 
	cGFLAGS_DLL_DECL
 
	gFÏgSav”
 {

280 
	gpublic
:

281 
FÏgSav”
();

282 ~
FÏgSav”
();

284 
	g´iv©e
:

285 
şass
 
FÏgSav”Im¶
* 
im¶_
;

287 
FÏgSav”
(const FlagSaver&);

288 
	gİ”©Ü
=(cÚ¡ 
FÏgSav”
&);

296 
GFLAGS_DLL_DECL
 
¡d
::
¡ršg
 
CommªdlšeFÏgsIÁoSŒšg
();

298 
GFLAGS_DLL_DECL
 
boŞ
 
R—dFÏgsFromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
æagfecÚ‹Ás
,

299 cÚ¡ * 
´og_Çme
,

300 
boŞ
 
”rÜs_¬e_çl
);

304 
GFLAGS_DLL_DECL
 
boŞ
 
Aµ’dFÏgsIÁoFe
(cÚ¡ 
¡d
::
¡ršg
& 
f’ame
, cÚ¡ * 
´og_Çme
);

305 
GFLAGS_DLL_DECL
 
boŞ
 
R—dFromFÏgsFe
(cÚ¡ 
¡d
::
¡ršg
& 
f’ame
, cÚ¡ * 
´og_Çme
,

306 
boŞ
 
”rÜs_¬e_çl
);

317 
GFLAGS_DLL_DECL
 
boŞ
 
BoŞFromEnv
(cÚ¡ *
v¬Çme
, boŞ 
defv®
);

318 
GFLAGS_DLL_DECL
 
št32
 
IÁ32FromEnv
(cÚ¡ *
v¬Çme
, iÁ32 
defv®
);

319 
GFLAGS_DLL_DECL
 
št64
 
IÁ64FromEnv
(cÚ¡ *
v¬Çme
, iÁ64 
defv®
);

320 
GFLAGS_DLL_DECL
 
ušt64
 
Ušt64FromEnv
(cÚ¡ *
v¬Çme
, ušt64 
defv®
);

321 
GFLAGS_DLL_DECL
 
DoubËFromEnv
(cÚ¡ *
v¬Çme
, 
defv®
);

322 
GFLAGS_DLL_DECL
 cÚ¡ *
SŒšgFromEnv
(cÚ¡ *
v¬Çme
, cÚ¡ *
defv®
);

334 
GFLAGS_DLL_DECL
 
S‘U§geMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
u§ge
);

339 
GFLAGS_DLL_DECL
 
S‘V”siÚSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
v”siÚ
);

348 #iâdeà
SWIG


349 
GFLAGS_DLL_DECL
 
ušt32
 
P¬£CommªdLšeFÏgs
(*
¬gc
, *** 
¬gv
, 
boŞ
 
»move_æags
);

363 
GFLAGS_DLL_DECL
 
ušt32
 
P¬£CommªdLšeNÚH–pFÏgs
(*
¬gc
, *** 
¬gv
,

364 
boŞ
 
»move_æags
);

368 
GFLAGS_DLL_DECL
 
HªdËCommªdLšeH–pFÏgs
();

374 
GFLAGS_DLL_DECL
 
AÎowCommªdLšeR•¬sšg
();

382 
GFLAGS_DLL_DECL
 
R•¬£CommªdLšeNÚH–pFÏgs
();

393 
GFLAGS_DLL_DECL
 
ShutDownCommªdLšeFÏgs
();

433 şas 
	cGFLAGS_DLL_DECL
 
	gFÏgRegi¡””
 {

434 
	gpublic
:

435 
FÏgRegi¡””
(cÚ¡ * 
Çme
, cÚ¡ * 
ty³
,

436 cÚ¡ * 
h–p
, cÚ¡ * 
f’ame
,

437 * 
cu¼’t_¡Üage
, * 
defv®ue_¡Üage
);

445 
GFLAGS_DLL_DECL
 cÚ¡ 
kSŒ³dFÏgH–p
[];

449 #iâdeà
SWIG


451 #ià
defšed
(
STRIP_FLAG_HELP
) && STRIP_FLAG_HELP > 0

453 
	#MAYBE_STRIPPED_HELP
(
txt
) \

454 (
çl£
 ? (
txt
è: ::
googË
::
kSŒ³dFÏgH–p
)

	)

456 
	#MAYBE_STRIPPED_HELP
(
txt
è
	)
txt

470 
	#DEFINE_VARIABLE
(
ty³
, 
shÜ‰y³
, 
Çme
, 
v®ue
, 
h–p
) \

471 
Çme¥aû
 
fL
##
shÜ‰y³
 { \

472 cÚ¡ 
ty³
 
FLAGS_nÚo
##
Çme
 = 
v®ue
; \

474 
GFLAGS_DLL_DEFINE_FLAG
 
ty³
 
FLAGS_
##
Çme
 = 
FLAGS_nÚo
##name; \

475 
ty³
 
FLAGS_no
##
Çme
 = 
FLAGS_nÚo
##name; \

476 ::
googË
::
FÏgRegi¡””
 
o_
##
	`Çme
( \

477 #Çme, #ty³, 
	`MAYBE_STRIPPED_HELP
(
h–p
), 
__FILE__
, \

478 &
FLAGS_
##
Çme
, &
FLAGS_no
##name); \

480 
usšg
 
fL
##
shÜ‰y³
::
FLAGS_
##
Çme


	)

490 
Çme¥aû
 
	gfLB
 {

491 
	sCompeAs£¹
 {};

492 
CompeAs£¹
 
	tex³ùed_sizeof_doubË_Ãq_sizeof_boŞ
[

493 ((è!ğ(
boŞ
)) ? 1 : -1];

494 
	g‹m¶©e
<
ty³Çme
 
	gFrom
> 
GFLAGS_DLL_DECL
 
IsBoŞFÏg
(cÚ¡ 
From
& 
äom
);

495 
GFLAGS_DLL_DECL
 
boŞ
 
IsBoŞFÏg
(boŞ 
äom
);

501 
	#DEFINE_boŞ
(
Çme
, 
v®
, 
txt
) \

502 
Çme¥aû
 
fLB
 { \

503 ::
fLB
::
	tCompeAs£¹
 
	tFLAG_
##
	tÇme
##
	t_v®ue_is_nÙ_a_boŞ
[ \

504 ((::
fLB
::
	`IsBoŞFÏg
(
v®
)) != ()) ? 1 : -1]; \

506 
	`DEFINE_VARIABLE
(
boŞ
, 
B
, 
Çme
, 
v®
, 
txt
)

	)

508 
	#DEFINE_št32
(
Çme
, 
v®
, 
txt
) \

509 
	`DEFINE_VARIABLE
(::
googË
::
št32
, 
I
, \

510 
Çme
, 
v®
, 
txt
)

	)

512 
	#DEFINE_št64
(
Çme
, 
v®
, 
txt
) \

513 
	`DEFINE_VARIABLE
(::
googË
::
št64
, 
I64
, \

514 
Çme
, 
v®
, 
txt
)

	)

516 
	#DEFINE_ušt64
(
Çme
,
v®
, 
txt
) \

517 
	`DEFINE_VARIABLE
(::
googË
::
ušt64
, 
U64
, \

518 
Çme
, 
v®
, 
txt
)

	)

520 
	#DEFINE_doubË
(
Çme
, 
v®
, 
txt
) \

521 
	`DEFINE_VARIABLE
(, 
D
, 
Çme
, 
v®
, 
txt
)

	)

530 
Çme¥aû
 
	gfLS
 {

532 
šlše
 
ş¡ršg
* 
dÚt_·ss0toDEFINE_¡ršg
(*
¡ršg¥Ù
,

533 cÚ¡ *
v®ue
) {

534  
Ãw
(
¡ršg¥Ù
è
ş¡ršg
(
v®ue
);

536 
šlše
 
ş¡ršg
* 
dÚt_·ss0toDEFINE_¡ršg
(*
¡ršg¥Ù
,

537 cÚ¡ 
ş¡ršg
 &
v®ue
) {

538  
Ãw
(
¡ršg¥Ù
è
ş¡ršg
(
v®ue
);

540 
šlše
 
ş¡ršg
* 
dÚt_·ss0toDEFINE_¡ršg
(*
¡ršg¥Ù
,

541 
v®ue
);

551 
	#DEFINE_¡ršg
(
Çme
, 
v®
, 
txt
) \

552 
Çme¥aû
 
fLS
 { \

553 
usšg
 ::
fLS
::
ş¡ršg
; \

554 uniÚ { * 
®ign
; 
s
[(
ş¡ršg
)]; } 
s_
##
Çme
[2]; \

555 
ş¡ršg
* cÚ¡ 
FLAGS_no
##
Çme
 = ::
fLS
:: \

556 
	`dÚt_·ss0toDEFINE_¡ršg
(
s_
##
Çme
[0].
s
, \

557 
v®
); \

558 ::
googË
::
FÏgRegi¡””
 
o_
##
	`Çme
( \

559 #Çme, "¡ršg", 
	`MAYBE_STRIPPED_HELP
(
txt
), 
__FILE__
, \

560 
s_
##
Çme
[0].
s
, 
	`Ãw
 (s_##Çme[1].sè
	`ş¡ršg
(*
FLAGS_no
##name)); \

561 
GFLAGS_DLL_DEFINE_FLAG
 
ş¡ršg
& 
FLAGS_
##
Çme
; \

562 
usšg
 
fLS
::
FLAGS_
##
Çme
; \

563 
ş¡ršg
& 
FLAGS_
##
Çme
 = *
FLAGS_no
##name; \

565 
usšg
 
fLS
::
FLAGS_
##
Çme


	)

	@/home/dell/tut/gflags/gflags-2.0/src/windows/gflags/gflags_completions.h

112 #iâdeà
BASE_COMMANDLINEFLAGS_COMPLETIONS_H_


113 
	#BASE_COMMANDLINEFLAGS_COMPLETIONS_H_


	)

121 #ià
defšed
(
_MSC_VER
è&& !defšed(
GFLAGS_DLL_DECL
)

122 
	#GFLAGS_DLL_DECL
 
	`__deş¥ec
(
dÎimpÜt
)

	)

126 
Çme¥aû
 
	ggoogË
 {

128 
GFLAGS_DLL_DECL
 
HªdËCommªdLšeCom¶‘iÚs
();

	@/home/dell/tut/gflags/gflags-2.0/src/windows/gflags/gflags_declare.h

37 #iâdeà
BASE_COMMANDLINEFLAGS_DECLARE_H_


38 
	#BASE_COMMANDLINEFLAGS_DECLARE_H_


	)

40 
	~<¡ršg
>

42 
	~<¡dšt.h
>

45 
	~<sys/ty³s.h
>

48 
	~<š‰y³s.h
>

51 
Çme¥aû
 
	ggoogË
 {

53 
št32_t
 
	tšt32
;

54 
ušt32_t
 
	tušt32
;

55 
št64_t
 
	tšt64
;

56 
ušt64_t
 
	tušt64
;

58 
št32_t
 
	tšt32
;

59 
u_št32_t
 
	tušt32
;

60 
št64_t
 
	tšt64
;

61 
u_št64_t
 
	tušt64
;

63 
__št32
 
	tšt32
;

64 
	t__št32
 
	tušt32
;

65 
__št64
 
	tšt64
;

66 
	t__št64
 
	tušt64
;

68 #”rÜ 
Do
 
nÙ
 
know
 
how
 
to
 
defše
 
a
 32-
b™
 
š‹g”
 
quªt™y
 
Ú
 
your
 
sy¡em


73 #ià
defšed
(
_MSC_VER
è&& !defšed(
GFLAGS_DLL_DECLARE_FLAG
)

74 
	#GFLAGS_DLL_DECLARE_FLAG
 
	`__deş¥ec
(
dÎimpÜt
)

	)

77 
Çme¥aû
 
	gfLS
 {

83 
	g¡d
::
	t¡ršg
 
	tş¡ršg
;

87 
	#DECLARE_VARIABLE
(
ty³
, 
shÜ‰y³
, 
Çme
) \

89 
Çme¥aû
 
fL
##
shÜ‰y³
 { 
GFLAGS_DLL_DECLARE_FLAG
 
ty³
 
FLAGS_
##
Çme
; } \

90 
usšg
 
fL
##
shÜ‰y³
::
FLAGS_
##
Çme


	)

92 
	#DECLARE_boŞ
(
Çme
) \

93 
	`DECLARE_VARIABLE
(
boŞ
, 
B
, 
Çme
)

	)

95 
	#DECLARE_št32
(
Çme
) \

96 
	`DECLARE_VARIABLE
(::
googË
::
št32
, 
I
, 
Çme
)

	)

98 
	#DECLARE_št64
(
Çme
) \

99 
	`DECLARE_VARIABLE
(::
googË
::
št64
, 
I64
, 
Çme
)

	)

101 
	#DECLARE_ušt64
(
Çme
) \

102 
	`DECLARE_VARIABLE
(::
googË
::
ušt64
, 
U64
, 
Çme
)

	)

104 
	#DECLARE_doubË
(
Çme
) \

105 
	`DECLARE_VARIABLE
(, 
D
, 
Çme
)

	)

107 
	#DECLARE_¡ršg
(
Çme
) \

108 
Çme¥aû
 
fLS
 { \

109 
usšg
 ::
fLS
::
ş¡ršg
; \

110 
GFLAGS_DLL_DECLARE_FLAG
 ::
fLS
::
ş¡ršg
& 
FLAGS_
##
Çme
; \

112 
usšg
 
fLS
::
FLAGS_
##
Çme


	)

	@/home/dell/tut/gflags/gflags-2.0/src/windows/port.cc

34 #iâdeà
_WIN32


35 #”rÜ 
You
 
should
 
Úly
 
be
 
šşudšg
 
wšdows
/
pÜt
.
cc
 
š
 
a
 wšdow 
’vœÚm’t
!

38 
	~<cÚfig.h
>

39 
	~<¡ršg.h
>

40 
	~<as£¹.h
>

41 
	~<¡d¬g.h
>

42 
	~<wšdows.h
>

43 
	~"pÜt.h
"

46 #ià!
defšed
(
__MINGW32__
è&& !defšed(
__MINGW64__
)

47 
	$§ã_v¢´štf
(*
¡r
, 
size_t
 
size
, cÚ¡ *
fÜm©
, 
va_li¡
 
­
) {

48 ià(
size
 == 0)

50 
¡r
[
size
-1] = '\0';

51  
	`_v¢´štf
(
¡r
, 
size
-1, 
fÜm©
, 
­
);

52 
	}
}

54 
	$¢´štf
(*
¡r
, 
size_t
 
size
, cÚ¡ *
fÜm©
, ...) {

55 
r
;

56 
va_li¡
 
­
;

57 
	`va_¡¬t
(
­
, 
fÜm©
);

58 
r
 = 
	`v¢´štf
(
¡r
, 
size
, 
fÜm©
, 
­
);

59 
	`va_’d
(
­
);

60  
r
;

61 
	}
}

	@/home/dell/tut/gflags/gflags-2.0/src/windows/port.h

40 #iâdeà
GOOGLE_GFLAGS_WINDOWS_PORT_H_


41 
	#GOOGLE_GFLAGS_WINDOWS_PORT_H_


	)

43 #ifdeà
_WIN32


45 #iâdeà
WIN32_LEAN_AND_MEAN


46 
	#WIN32_LEAN_AND_MEAN


	)

48 
	~<wšdows.h
>

49 
	~<dœeù.h
>

50 
	~<¡dlib.h
>

51 
	~<¡dio.h
>

52 
	~<¡d¬g.h
>

53 
	~<¡ršg.h
>

59 #ià!
defšed
(
__MINGW32__
è&& !defšed(
__MINGW64__
)

60 
GFLAGS_DLL_DECL
 
¢´štf
(*
¡r
, 
size_t
 
size
,

61 cÚ¡ *
fÜm©
, ...);

62 
GFLAGS_DLL_DECL
 
§ã_v¢´štf
(*
¡r
, 
size_t
 
size
,

63 cÚ¡ *
fÜm©
, 
va_li¡
 
­
);

64 
	#v¢´štf
(
¡r
, 
size
, 
fÜm©
, 
­
è
	`§ã_v¢´štf
(¡r, size, fÜm©,‡p)

	)

65 
	#va_cİy
(
d¡
, 
¤c
è(d¡èğ(¤c)

	)

68 
šlše
 
	$£‹nv
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
, ) {

74 cÚ¡ * cÚ¡ 
kFakeZ”o
 = "0";

75 ià(*
v®ue
 == '\0')

76 
v®ue
 = 
kFakeZ”o
;

79 cÚ¡ 
Çmev®_Ën
 = 
	`¡¾’
(
Çme
è+ 1 + sŒËn(
v®ue
) + 1;

80 * 
Çmev®
 = 
»š‹½»t_ÿ¡
<*>(
	`m®loc
(
Çmev®_Ën
));

81 
	`¢´štf
(
Çmev®
, 
Çmev®_Ën
, "%s=%s", 
Çme
, 
v®ue
);

82 
	`_pu‹nv
(
Çmev®
);

83 ià(
v®ue
 =ğ
kFakeZ”o
) {

84 
Çmev®
[
Çmev®_Ën
 - 2] = '\0';

85 ià(*
	`g‘’v
(
Çme
) != '\0')

86 *
	`g‘’v
(
Çme
) = '\0';

88 
	}
}

90 
	#¡rÿ£cmp
 
_¡ricmp


	)

92 
	#PRId32
 "d"

	)

93 
	#PRIu32
 "u"

	)

94 
	#PRId64
 "I64d"

	)

95 
	#PRIu64
 "I64u"

	)

97 #iâdeà
__MINGW32__


98 
	#¡¹oq
 
_¡¹oi64


	)

99 
	#¡¹ouq
 
_¡¹oui64


	)

100 
	#¡¹Şl
 
_¡¹oi64


	)

101 
	#¡¹ouÎ
 
_¡¹oui64


	)

102 
	#©Şl
 
_©oi64


	)

105 #iâdeà
PATH_MAX


106 
	#PATH_MAX
 1024

	)

	@config.h

9 
	#GFLAGS_DLL_DECL


	)

12 
	#GOOGLE_NAMESPACE
 ::
googË


	)

15 
	#HAVE_DLFCN_H
 1

	)

18 
	#HAVE_FNMATCH_H
 1

	)

21 
	#HAVE_INTTYPES_H
 1

	)

24 
	#HAVE_MEMORY_H
 1

	)

27 
	#HAVE_NAMESPACES
 1

	)

30 
	#HAVE_PTHREAD
 1

	)

33 
	#HAVE_STDINT_H
 1

	)

36 
	#HAVE_STDLIB_H
 1

	)

39 
	#HAVE_STRINGS_H
 1

	)

42 
	#HAVE_STRING_H
 1

	)

45 
	#HAVE_STRTOLL
 1

	)

48 
	#HAVE_STRTOQ
 1

	)

51 
	#HAVE_SYS_STAT_H
 1

	)

54 
	#HAVE_SYS_TYPES_H
 1

	)

57 
	#HAVE_UNISTD_H
 1

	)

60 
	#HAVE___ATTRIBUTE__
 1

	)

64 
	#LT_OBJDIR
 ".libs/"

	)

67 
	#PACKAGE
 "gæags"

	)

70 
	#PACKAGE_BUGREPORT
 "googË-gæags@googËgroups.com"

	)

73 
	#PACKAGE_NAME
 "gæags"

	)

76 
	#PACKAGE_STRING
 "gæag 2.0"

	)

79 
	#PACKAGE_TARNAME
 "gæags"

	)

82 
	#PACKAGE_VERSION
 "2.0"

	)

89 
	#STDC_HEADERS
 1

	)

92 
	#STL_NAMESPACE
 
¡d


	)

95 
	#VERSION
 "2.0"

	)

98 
	#_END_GOOGLE_NAMESPACE_
 }

	)

101 
	#_START_GOOGLE_NAMESPACE_
 
Çme¥aû
 
googË
 {

	)

104 #ià
defšed
Ğ
__MINGW32__
è|| defšed(
__MINGW64__
)

105 
	~"wšdows/pÜt.h
"

	@config_for_unittests.h

56 
	~"cÚfig.h
"

58 #undeà
GFLAGS_DLL_DECL


59 #ifdeà
GFLAGS_DLL_DECL_FOR_UNITTESTS


60 
	#GFLAGS_DLL_DECL
 
GFLAGS_DLL_DECL_FOR_UNITTESTS


	)

62 
	#GFLAGS_DLL_DECL


	@mutex.h

111 #iâdeà
GOOGLE_MUTEX_H_


112 
	#GOOGLE_MUTEX_H_


	)

114 
	~"cÚfig.h
"

116 #ià
defšed
(
NO_THREADS
)

117 
	tMu‹xTy³
;

118 #–ià
defšed
(
_WIN32
è|| defšed(
__CYGWIN32__
è|| defšed(
__CYGWIN64__
)

119 #iâdeà
WIN32_LEAN_AND_MEAN


120 
	#WIN32_LEAN_AND_MEAN


122 #iâdeà
NOMINMAX


	)

123 
	#NOMINMAX


125 #ifdeà
GMUTEX_TRYLOCK


	)

129 #iâdeà
_WIN32_WINNT


130 
	#_WIN32_WINNT
 0x0400

	)

133 
	~<wšdows.h
>

134 
CRITICAL_SECTION
 
	tMu‹xTy³
;

135 #–ià
defšed
(
HAVE_PTHREAD
è&& defšed(
HAVE_RWLOCK
)

140 #ifdeà
__lšux__


141 #ià
_XOPEN_SOURCE
 < 500

142 #undeà
_XOPEN_SOURCE


143 
	#_XOPEN_SOURCE
 500

146 
	~<±h»ad.h
>

	)

147 
±h»ad_rwlock_t
 
	tMu‹xTy³
;

148 #–ià
defšed
(
HAVE_PTHREAD
)

149 
	~<±h»ad.h
>

150 
±h»ad_mu‹x_t
 
	tMu‹xTy³
;

152 
N“d
 
to
 
im¶em’t
 
mu‹x
.
h
 
your
 
¬ch™eùu»
, 
Ü
 #defš
	#NO_THREADS


	)

155 
	~<as£¹.h
>

156 
	~<¡dlib.h
>

158 
	#MUTEX_NAMESPACE
 
gæags_mu‹x_Çme¥aû


	)

160 
Çme¥aû
 
	gMUTEX_NAMESPACE
 {

162 şas 
	cMu‹x
 {

163 
	gpublic
:

165 
	eLšk”In™Ÿlized
 { 
LINKER_INITIALIZED
 };

169 
šlše
 
Mu‹x
();

174 
šlše
 
Mu‹x
(
Lšk”In™Ÿlized
);

177 
	gšlše
 ~
Mu‹x
();

179 
šlše
 
Lock
();

180 
šlše
 
UÆock
();

181 #ifdeà
GMUTEX_TRYLOCK


182 
šlše
 
boŞ
 
TryLock
();

188 
šlše
 
R—d”Lock
();

189 
šlše
 
R—d”UÆock
();

190 
šlše
 
Wr™”Lock
(è{ 
Lock
(); }

191 
šlše
 
Wr™”UÆock
(è{ 
UÆock
(); }

193 
	g´iv©e
:

194 
Mu‹xTy³
 
mu‹x_
;

198 vŞ©
boŞ
 
	gis_§ã_
;

200 
boŞ
 
	gde¡roy_
;

202 
šlše
 
S‘IsSaã
(è{ 
	gis_§ã_
 = 
Œue
; }

205 
Mu‹x
(Mutex* ) {}

207 
Mu‹x
(const Mutex&);

208 
	gİ”©Ü
=(cÚ¡ 
Mu‹x
&);

212 #ià
	$defšed
(
NO_THREADS
)

224 
Mu‹x
::
	$Mu‹x
(è: 
	$mu‹x_
(0è{ 
	}
}

225 
Mu‹x
::Mu‹x(Mu‹x::
Lšk”In™Ÿlized
è: 
	$mu‹x_
(0è{ 
	}
}

226 
Mu‹x
::~
	$Mu‹x
(è{ 
	`as£¹
(
mu‹x_
 =ğ0); 
	}
}

227 
	gMu‹x
::
	$Lock
(è{ 
	`as£¹
(--
mu‹x_
 =ğ-1); 
	}
}

228 
	gMu‹x
::
	$UÆock
(è{ 
	`as£¹
(
mu‹x_
++ =ğ-1); 
	}
}

229 #ifdeà
GMUTEX_TRYLOCK


230 
boŞ
 
	gMu‹x
::
	$TryLock
(è{ ià(
mu‹x_
è 
çl£
; 
	`Lock
();  
Œue
; 
	}
}

232 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`as£¹
(++
mu‹x_
 > 0); 
	}
}

233 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`as£¹
(
mu‹x_
-- > 0); 
	}
}

235 #–ià
defšed
(
_WIN32
è|| defšed(
__CYGWIN32__
è|| 
	$defšed
(
__CYGWIN64__
)

237 
Mu‹x
::
	$Mu‹x
(è: 
	$de¡roy_
(
Œue
) {

238 
	`In™ŸlizeCr™iÿlSeùiÚ
(&
mu‹x_
);

239 
	`S‘IsSaã
();

240 
	}
}

241 
	gMu‹x
::
	$Mu‹x
(
Lšk”In™Ÿlized
è: 
	$de¡roy_
(
çl£
) {

242 
	`In™ŸlizeCr™iÿlSeùiÚ
(&
mu‹x_
);

243 
	`S‘IsSaã
();

244 
	}
}

245 
	gMu‹x
::~
	$Mu‹x
(è{ ià(
de¡roy_
è
	`D–‘eCr™iÿlSeùiÚ
(&
mu‹x_
); 
	}
}

246 
	gMu‹x
::
	$Lock
(è{ ià(
is_§ã_
è
	`EÁ”Cr™iÿlSeùiÚ
(&
mu‹x_
); 
	}
}

247 
	gMu‹x
::
	$UÆock
(è{ ià(
is_§ã_
è
	`L—veCr™iÿlSeùiÚ
(&
mu‹x_
); 
	}
}

248 #ifdeà
GMUTEX_TRYLOCK


249 
boŞ
 
	gMu‹x
::
	$TryLock
(è{  
is_§ã_
 ?

250 
	`TryEÁ”Cr™iÿlSeùiÚ
(&
mu‹x_
è!ğ0 : 
Œue
; 
	}
}

252 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`Lock
(); 
	}
}

253 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`UÆock
(); 
	}
}

255 #–ià
defšed
(
HAVE_PTHREAD
è&& 
	$defšed
(
HAVE_RWLOCK
)

257 
	#SAFE_PTHREAD
(
âÿÎ
) do { \

258 ià(
is_§ã_
 && 
	`âÿÎ
(&
mu‹x_
è!ğ0è
	`abÜt
(); \

259 
	}
} 0)

	)

261 
Mu‹x
::
	$Mu‹x
(è: 
	$de¡roy_
(
Œue
) {

262 
	`S‘IsSaã
();

263 ià(
is_§ã_
 && 
	`±h»ad_rwlock_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

264 
	}
}

265 
	gMu‹x
::
Mu‹x
(Mu‹x::
Lšk”In™Ÿlized
è: 
	$de¡roy_
(
çl£
) {

266 
	`S‘IsSaã
();

267 ià(
is_§ã_
 && 
	`±h»ad_rwlock_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

268 
	}
}

269 
	gMu‹x
::~
	$Mu‹x
(è{ ià(
de¡roy_
è
	`SAFE_PTHREAD
(
±h»ad_rwlock_de¡roy
); 
	}
}

270 
	gMu‹x
::
	$Lock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_w¾ock
); 
	}
}

271 
	gMu‹x
::
	$UÆock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_uÆock
); 
	}
}

272 #ifdeà
GMUTEX_TRYLOCK


273 
boŞ
 
	gMu‹x
::
	$TryLock
(è{  
is_§ã_
 ?

274 
	`±h»ad_rwlock_Œyw¾ock
(&
mu‹x_
è=ğ0 : 
Œue
; 
	}
}

276 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_rdlock
); 
	}
}

277 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_rwlock_uÆock
); 
	}
}

278 #undeà
SAFE_PTHREAD


280 #–ià
	$defšed
(
HAVE_PTHREAD
)

282 
	#SAFE_PTHREAD
(
âÿÎ
) do { \

283 ià(
is_§ã_
 && 
	`âÿÎ
(&
mu‹x_
è!ğ0è
	`abÜt
(); \

284 
	}
} 0)

	)

286 
Mu‹x
::
	$Mu‹x
(è: 
	$de¡roy_
(
Œue
) {

287 
	`S‘IsSaã
();

288 ià(
is_§ã_
 && 
	`±h»ad_mu‹x_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

289 
	}
}

290 
	gMu‹x
::
Mu‹x
(Mu‹x::
Lšk”In™Ÿlized
è: 
	$de¡roy_
(
çl£
) {

291 
	`S‘IsSaã
();

292 ià(
is_§ã_
 && 
	`±h»ad_mu‹x_š™
(&
mu‹x_
, 
NULL
è!ğ0è
	`abÜt
();

293 
	}
}

294 
	gMu‹x
::~
	$Mu‹x
(è{ ià(
de¡roy_
è
	`SAFE_PTHREAD
(
±h»ad_mu‹x_de¡roy
); 
	}
}

295 
	gMu‹x
::
	$Lock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_mu‹x_lock
); 
	}
}

296 
	gMu‹x
::
	$UÆock
(è{ 
	`SAFE_PTHREAD
(
±h»ad_mu‹x_uÆock
); 
	}
}

297 #ifdeà
GMUTEX_TRYLOCK


298 
boŞ
 
	gMu‹x
::
	$TryLock
(è{  
is_§ã_
 ?

299 
	`±h»ad_mu‹x_Œylock
(&
mu‹x_
è=ğ0 : 
Œue
; 
	}
}

301 
	gMu‹x
::
	$R—d”Lock
(è{ 
	`Lock
(); 
	}
}

302 
	gMu‹x
::
	$R—d”UÆock
(è{ 
	`UÆock
(); 
	}
}

303 #undeà
SAFE_PTHREAD


311 şas 
	cMu‹xLock
 {

312 
	gpublic
:

313 
ex¶ic™
 
Mu‹xLock
(
Mu‹x
 *
mu
è: 
mu_
(muè{ mu_->
Lock
(); }

314 ~
Mu‹xLock
(è{ 
	gmu_
->
UÆock
(); }

315 
	g´iv©e
:

316 
Mu‹x
 * cÚ¡ 
mu_
;

318 
Mu‹xLock
(const MutexLock&);

319 
	gİ”©Ü
=(cÚ¡ 
Mu‹xLock
&);

323 şas 
	cR—d”Mu‹xLock
 {

324 
	gpublic
:

325 
ex¶ic™
 
R—d”Mu‹xLock
(
Mu‹x
 *
mu
è: 
mu_
(muè{ mu_->
R—d”Lock
(); }

326 ~
R—d”Mu‹xLock
(è{ 
	gmu_
->
R—d”UÆock
(); }

327 
	g´iv©e
:

328 
Mu‹x
 * cÚ¡ 
mu_
;

330 
R—d”Mu‹xLock
(const ReaderMutexLock&);

331 
	gİ”©Ü
=(cÚ¡ 
R—d”Mu‹xLock
&);

334 şas 
	cWr™”Mu‹xLock
 {

335 
	gpublic
:

336 
ex¶ic™
 
Wr™”Mu‹xLock
(
Mu‹x
 *
mu
è: 
mu_
(muè{ mu_->
Wr™”Lock
(); }

337 ~
Wr™”Mu‹xLock
(è{ 
	gmu_
->
Wr™”UÆock
(); }

338 
	g´iv©e
:

339 
Mu‹x
 * cÚ¡ 
mu_
;

341 
Wr™”Mu‹xLock
(const WriterMutexLock&);

342 
	gİ”©Ü
=(cÚ¡ 
Wr™”Mu‹xLock
&);

346 
	#Mu‹xLock
(
x
è
	$COMPILE_ASSERT
(0, 
mu‹x_lock_deş_missšg_v¬_Çme
)

	)

347 
	#R—d”Mu‹xLock
(
x
è
	$COMPILE_ASSERT
(0, 
rmu‹x_lock_deş_missšg_v¬_Çme
)

	)

348 
	#Wr™”Mu‹xLock
(
x
è
	`COMPILE_ASSERT
(0, 
wmu‹x_lock_deş_missšg_v¬_Çme
)

	)

350 
	}
}

352 
usšg
 
Çme¥aû
 
	gMUTEX_NAMESPACE
;

354 #undeà
MUTEX_NAMESPACE


	@util.h

34 #iâdeà
GFLAGS_UTIL_H_


35 
	#GFLAGS_UTIL_H_


	)

37 
	~<as£¹.h
>

38 
	~<cÚfig.h
>

39 #ifdeà
HAVE_INTTYPES_H


40 
	~<š‰y³s.h
>

42 
	~<¡d¬g.h
>

43 
	~<¡dlib.h
>

44 
	~<¡dio.h
>

45 
	~<io¡»am
>

46 
	~<¡ršg
>

47 #ifdeà
HAVE_SYS_STAT_H


48 
	~<sys/¡©.h
>

51 
_START_GOOGLE_NAMESPACE_


54 
GFLAGS_DLL_DECL
 (*
gæags_ex™func
)();

57 #ifdeà
HAVE_STRTOLL


58 
	#¡¹o64
 
¡¹Şl


	)

59 
	#¡¹ou64
 
¡¹ouÎ


	)

60 #–ià
HAVE_STRTOQ


61 
	#¡¹o64
 
¡¹oq


	)

62 
	#¡¹ou64
 
¡¹ouq


	)

65 
	#¡¹o64
 
¡¹Ş


	)

66 
	#¡¹ou64
 
¡¹oul


	)

71 #iâdeà
PRId32


72 
	#PRId32
 "d"

	)

74 #iâdeà
PRId64


75 
	#PRId64
 "Îd"

	)

77 #iâdeà
PRIu64


78 
	#PRIu64
 "Îu"

	)

81 sigÃd 
	tšt8
;

82 
	tušt8
;

86 
‹m¶©e
 <
boŞ
> 
	sCompeAs£¹
 {};

87 
	#COMPILE_ASSERT
(
ex´
, 
msg
) \

88 
CompeAs£¹
<(
	tboŞ
(
	tex´
))> 
	tmsg
[
	`boŞ
(
ex´
è? 1 : -1]

	)

91 
	t¬¿ysize
(
	t¬r
è(×¼)/(*×¼)))

	)

98 
	tLOG
(
	tËv–
è
	t¡d
::
	tû¼


	)

99 
	tVLOG
(
	tËv–
èià(
	tŒue
è{
	}
} 
	t¡d
::
	tû¼


	)

100 
	tDVLOG
(
	tËv–
èià(
	tŒue
è{} 
	t¡d
::
	tû¼


	)

107 
	tEXPECT_TRUE
(
	tcÚd™iÚ
) \

108 ià(
	tŒue
) { \

109 ià(!(
cÚd™iÚ
)) { \

110 
	`årštf
(
¡d”r
, "Check failed: %s\n", #condition); \

111 
	`ex™
(1); \

113 } 
	t¡d
::
	tû¼
 << ""

	)

115 
	tEXPECT_OP
(
	tİ
, 
	tv®1
, 
	tv®2
) \

116 ià(
	tŒue
) { \

117 ià(!((
v®1
è
	`İ
 (
v®2
))) { \

118 
	`årštf
(
¡d”r
, "Check failed: %s %s %s\n", #val1, #op, #val2); \

119 
	`ex™
(1); \

121 } 
	t¡d
::
	tû¼
 << ""

	)

123 
	tEXPECT_EQ
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(==, v®1, v®2)

	)

124 
	tEXPECT_NE
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(!=, v®1, v®2)

	)

125 
	tEXPECT_LE
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(<=, v®1, v®2)

	)

126 
	tEXPECT_LT
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(< , v®1, v®2)

	)

127 
	tEXPECT_GE
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(>=, v®1, v®2)

	)

128 
	tEXPECT_GT
(
	tv®1
, 
	tv®2
è
	tEXPECT_OP
(> , v®1, v®2)

	)

129 
	tEXPECT_FALSE
(
	tcÚd
è
	tEXPECT_TRUE
(!(cÚd))

	)

135 #ifdeà
	ti¢ª


136 
	tEXPECT_NAN
(
	t¬g
) \

138 ià(!
	`i¢ª
(
¬g
)) { \

139 
	`årštf
(
¡d”r
, "Check failed: isnan(%s)\n", #arg); \

140 
	`ex™
(1); \

142 } 0)

	)

144 
	tEXPECT_NAN
(
	t¬g
)

	)

147 #ifdeà
	tisšf


148 
	tEXPECT_INF
(
	t¬g
) \

150 ià(!
	`isšf
(
¬g
)) { \

151 
	`årštf
(
¡d”r
, "Check failed: isinf(%s)\n", #arg); \

152 
	`ex™
(1); \

154 } 0)

	)

156 
	tEXPECT_INF
(
	t¬g
)

	)

159 
	tEXPECT_DOUBLE_EQ
(
	tv®1
, 
	tv®2
) \

161 ià(((
v®1
è< (
v®2
) - 0.001 || (val1) > (val2) + 0.001)) { \

162 
	`årštf
(
¡d”r
, "Check failed: %s == %s\n", #val1, #val2); \

163 
	`ex™
(1); \

165 } 0)

	)

167 
	tEXPECT_STREQ
(
	tv®1
, 
	tv®2
) \

169 ià(
	`¡rcmp
((
v®1
), (
v®2
)) != 0) { \

170 
	`årštf
(
¡d”r
, "Check failed: streq(%s, %s)\n", #val1, #val2); \

171 
	`ex™
(1); \

173 } 0)

	)

176 
	tTEST_INIT
 \

177 
	t¡d
::
	tveùÜ
<(*)()> 
	tg_‹¡li¡
; \

178 
	`RUN_ALL_TESTS
() { \

179 
¡d
::
veùÜ
<(*)()>::
cÚ¡_™”©Ü
 
™
; \

180 
™
 = 
g_‹¡li¡
.
	`begš
(); iˆ!ğg_‹¡li¡.
	`’d
(); ++it) { \

181 (*
™
)(); \

183 
	`årštf
(
¡d”r
, "\nPassed %dests\n\nPASS\n", \

184 
¡©ic_ÿ¡
<>(
g_‹¡li¡
.
	`size
())); \

186 }

	)

189 
	#TEST
(
a
, 
b
) \

190 
Te¡_
##
a
##
_
##
b
 { \

191 
Te¡_
##
a
##
_
##
	`b
(è{ 
g_‹¡li¡
.
	`push_back
(&
Run
); } \

192 
	`Run
() { \

193 
FÏgSav”
 
fs
; \

194 
	`årštf
(
¡d”r
, "Runningest %s/%s\n", #a, #b); \

195 
	`RunTe¡
(); \

197 
	`RunTe¡
(); \

199 
Te¡_
##
a
##
_
##
b
 
g_‹¡_
##a##_##b; \

200 
Te¡_
##
a
##
_
##
b
::
	`RunTe¡
()

	)

203 
Çme¥aû
 
	g‹¡šg
 {

204 şas 
	cTe¡
 {};

208 
	#EXPECT_DEATH_INIT
 \

209 
boŞ
 
g_ÿÎed_ex™
; \

210 
	`C®ËdEx™
(è{ 
g_ÿÎed_ex™
 = 
Œue
; }

	)

212 
	#EXPECT_DEATH
(
â
, 
msg
) \

214 
g_ÿÎed_ex™
 = 
çl£
; \

215 
gæags_ex™func
 = &
C®ËdEx™
; \

216 
â
; \

217 
gæags_ex™func
 = &
ex™
; \

218 ià(!
g_ÿÎed_ex™
) { \

219 
	`årštf
(
¡d”r
, "FunùiÚ didn'ˆd› (%s): %s\n", 
msg
, #fn); \

220 
	`ex™
(1); \

222 } 0)

	)

224 
	#GTEST_HAS_DEATH_TEST
 1

	)

230 #ià
defšed
(
__MINGW32__
)

231 
	~<io.h
>

232 
šlše
 
MakeTmpdœ
(
¡d
::
¡ršg
* 
·th
) {

234 *
·th
 = "./gflags_unittest_testdir";

235 
mkdœ
(
·th
->
c_¡r
());

237 #–ià
defšed
(
_MSC_VER
)

238 
	~<dœeù.h
>

239 
šlše
 
MakeTmpdœ
(
¡d
::
¡ršg
* 
·th
) {

240 
tmµ©h_bufãr
[1024];

241 
	gtmµ©h_Ën
 = 
G‘TempP©hA
((
tmµ©h_bufãr
),mppath_buffer);

242 
as£¹
(
tmµ©h_Ën
 > 0 &&mµ©h_ËÀ< (
tmµ©h_bufãr
));

243 
as£¹
(
tmµ©h_bufãr
[
tmµ©h_Ën
 - 1] == '\\');

244 *
	g·th
 = 
¡d
::
¡ršg
(
tmµ©h_bufãr
) + "gflags_unittest_testdir";

245 
_mkdœ
(
·th
->
c_¡r
());

248 
šlše
 
MakeTmpdœ
(
¡d
::
¡ršg
* 
·th
) {

249 
mkdœ
(
·th
->
c_¡r
(), 0755);

255 
šlše
 
IÁ”ÇlSŒšgPrštf
(
¡d
::
¡ršg
* 
ouut
, cÚ¡ * 
fÜm©
,

256 
va_li¡
 
­
) {

257 
	g¥aû
[128];

262 
va_li¡
 
	gbackup_­
;

263 
va_cİy
(
backup_­
, 
­
);

264 
	gby‹s_wr™‹n
 = 
v¢´štf
(
¥aû
, (¥aû), 
fÜm©
, 
backup_­
);

265 
va_’d
(
backup_­
);

267 ià((
	gby‹s_wr™‹n
 >ğ0è&& (
by‹s_wr™‹n
 < (
¥aû
))) {

268 
ouut
->
­³nd
(
¥aû
, 
by‹s_wr™‹n
);

273 
	gËngth
 = (
¥aû
);

274 
	gŒue
) {

275 ià(
	gby‹s_wr™‹n
 < 0) {

277 
	gËngth
 *= 2;

280 
	gËngth
 = 
by‹s_wr™‹n
+1;

282 * 
	gbuf
 = 
Ãw
 [
Ëngth
];

285 
va_cİy
(
backup_­
, 
­
);

286 
	gby‹s_wr™‹n
 = 
v¢´štf
(
buf
, 
Ëngth
, 
fÜm©
, 
backup_­
);

287 
va_’d
(
backup_­
);

289 ià((
	gby‹s_wr™‹n
 >ğ0è&& (
by‹s_wr™‹n
 < 
Ëngth
)) {

290 
ouut
->
­³nd
(
buf
, 
by‹s_wr™‹n
);

291 
	gd–‘e
[] 
	gbuf
;

294 
	gd–‘e
[] 
	gbuf
;

299 
šlše
 
SSŒšgPrštf
(
¡d
::
¡ršg
* 
ouut
, cÚ¡ * 
fÜm©
, ...) {

300 
va_li¡
 
	g­
;

301 
va_¡¬t
(
­
, 
fÜm©
);

302 
	gouut
->
ş—r
();

303 
IÁ”ÇlSŒšgPrštf
(
ouut
, 
fÜm©
, 
­
);

304 
va_’d
(
­
);

307 
šlše
 
SŒšgAµ’dF
(
¡d
::
¡ršg
* 
ouut
, cÚ¡ * 
fÜm©
, ...) {

308 
va_li¡
 
	g­
;

309 
va_¡¬t
(
­
, 
fÜm©
);

310 
IÁ”ÇlSŒšgPrštf
(
ouut
, 
fÜm©
, 
­
);

311 
va_’d
(
­
);

314 
šlše
 
	g¡d
::
¡ršg
 
	$SŒšgPrštf
(cÚ¡ * 
fÜm©
, ...) {

315 
va_li¡
 
­
;

316 
	`va_¡¬t
(
­
, 
fÜm©
);

317 
¡d
::
¡ršg
 
ouut
;

318 
	`IÁ”ÇlSŒšgPrštf
(&
ouut
, 
fÜm©
, 
­
);

319 
	`va_’d
(
­
);

320  
ouut
;

321 
	}
}

323 
	g_END_GOOGLE_NAMESPACE_


	@windows/port.h

40 #iâdeà
GOOGLE_GFLAGS_WINDOWS_PORT_H_


41 
	#GOOGLE_GFLAGS_WINDOWS_PORT_H_


	)

43 #ifdeà
_WIN32


45 #iâdeà
WIN32_LEAN_AND_MEAN


46 
	#WIN32_LEAN_AND_MEAN


	)

48 
	~<wšdows.h
>

49 
	~<dœeù.h
>

50 
	~<¡dlib.h
>

51 
	~<¡dio.h
>

52 
	~<¡d¬g.h
>

53 
	~<¡ršg.h
>

59 #ià!
defšed
(
__MINGW32__
è&& !defšed(
__MINGW64__
)

60 
GFLAGS_DLL_DECL
 
¢´štf
(*
¡r
, 
size_t
 
size
,

61 cÚ¡ *
fÜm©
, ...);

62 
GFLAGS_DLL_DECL
 
§ã_v¢´štf
(*
¡r
, 
size_t
 
size
,

63 cÚ¡ *
fÜm©
, 
va_li¡
 
­
);

64 
	#v¢´štf
(
¡r
, 
size
, 
fÜm©
, 
­
è
	`§ã_v¢´štf
(¡r, size, fÜm©,‡p)

	)

65 
	#va_cİy
(
d¡
, 
¤c
è(d¡èğ(¤c)

	)

68 
šlše
 
	$£‹nv
(cÚ¡ * 
Çme
, cÚ¡ * 
v®ue
, ) {

74 cÚ¡ * cÚ¡ 
kFakeZ”o
 = "0";

75 ià(*
v®ue
 == '\0')

76 
v®ue
 = 
kFakeZ”o
;

79 cÚ¡ 
Çmev®_Ën
 = 
	`¡¾’
(
Çme
è+ 1 + sŒËn(
v®ue
) + 1;

80 * 
Çmev®
 = 
»š‹½»t_ÿ¡
<*>(
	`m®loc
(
Çmev®_Ën
));

81 
	`¢´štf
(
Çmev®
, 
Çmev®_Ën
, "%s=%s", 
Çme
, 
v®ue
);

82 
	`_pu‹nv
(
Çmev®
);

83 ià(
v®ue
 =ğ
kFakeZ”o
) {

84 
Çmev®
[
Çmev®_Ën
 - 2] = '\0';

85 ià(*
	`g‘’v
(
Çme
) != '\0')

86 *
	`g‘’v
(
Çme
) = '\0';

88 
	}
}

90 
	#¡rÿ£cmp
 
_¡ricmp


	)

92 
	#PRId32
 "d"

	)

93 
	#PRIu32
 "u"

	)

94 
	#PRId64
 "I64d"

	)

95 
	#PRIu64
 "I64u"

	)

97 #iâdeà
__MINGW32__


98 
	#¡¹oq
 
_¡¹oi64


	)

99 
	#¡¹ouq
 
_¡¹oui64


	)

100 
	#¡¹Şl
 
_¡¹oi64


	)

101 
	#¡¹ouÎ
 
_¡¹oui64


	)

102 
	#©Şl
 
_©oi64


	)

105 #iâdeà
PATH_MAX


106 
	#PATH_MAX
 1024

	)

	@
1
.
0
26
1249
/home/dell/tut/gflags/gflags-2.0/src/config.h
/home/dell/tut/gflags/gflags-2.0/src/config_for_unittests.h
/home/dell/tut/gflags/gflags-2.0/src/gflags.cc
/home/dell/tut/gflags/gflags-2.0/src/gflags/gflags.h
/home/dell/tut/gflags/gflags-2.0/src/gflags/gflags_completions.h
/home/dell/tut/gflags/gflags-2.0/src/gflags/gflags_declare.h
/home/dell/tut/gflags/gflags-2.0/src/gflags_completions.cc
/home/dell/tut/gflags/gflags-2.0/src/gflags_nc.cc
/home/dell/tut/gflags/gflags-2.0/src/gflags_reporting.cc
/home/dell/tut/gflags/gflags-2.0/src/gflags_strip_flags_test.cc
/home/dell/tut/gflags/gflags-2.0/src/gflags_unittest.cc
/home/dell/tut/gflags/gflags-2.0/src/google/gflags.h
/home/dell/tut/gflags/gflags-2.0/src/google/gflags_completions.h
/home/dell/tut/gflags/gflags-2.0/src/mutex.h
/home/dell/tut/gflags/gflags-2.0/src/util.h
/home/dell/tut/gflags/gflags-2.0/src/windows/config.h
/home/dell/tut/gflags/gflags-2.0/src/windows/gflags/gflags.h
/home/dell/tut/gflags/gflags-2.0/src/windows/gflags/gflags_completions.h
/home/dell/tut/gflags/gflags-2.0/src/windows/gflags/gflags_declare.h
/home/dell/tut/gflags/gflags-2.0/src/windows/port.cc
/home/dell/tut/gflags/gflags-2.0/src/windows/port.h
config.h
config_for_unittests.h
mutex.h
util.h
windows/port.h
